var wO=Object.defineProperty;var Ev=t=>{throw TypeError(t)};var bO=(t,e,r)=>e in t?wO(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var A=(t,e,r)=>bO(t,typeof e!="symbol"?e+"":e,r),mh=(t,e,r)=>e.has(t)||Ev("Cannot "+r);var C=(t,e,r)=>(mh(t,e,"read from private field"),r?r.call(t):e.get(t)),le=(t,e,r)=>e.has(t)?Ev("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),J=(t,e,r,n)=>(mh(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),we=(t,e,r)=>(mh(t,e,"access private method"),r);var mu=(t,e,r,n)=>({set _(s){J(t,e,s,r)},get _(){return C(t,e,n)}});function _O(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Yr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tj(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function SO(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var Aj={exports:{}},wf={},Oj={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vc=Symbol.for("react.element"),jO=Symbol.for("react.portal"),kO=Symbol.for("react.fragment"),NO=Symbol.for("react.strict_mode"),CO=Symbol.for("react.profiler"),EO=Symbol.for("react.provider"),PO=Symbol.for("react.context"),TO=Symbol.for("react.forward_ref"),AO=Symbol.for("react.suspense"),OO=Symbol.for("react.memo"),RO=Symbol.for("react.lazy"),Pv=Symbol.iterator;function DO(t){return t===null||typeof t!="object"?null:(t=Pv&&t[Pv]||t["@@iterator"],typeof t=="function"?t:null)}var Rj={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Dj=Object.assign,Ij={};function Qa(t,e,r){this.props=t,this.context=e,this.refs=Ij,this.updater=r||Rj}Qa.prototype.isReactComponent={};Qa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Qa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Mj(){}Mj.prototype=Qa.prototype;function pg(t,e,r){this.props=t,this.context=e,this.refs=Ij,this.updater=r||Rj}var gg=pg.prototype=new Mj;gg.constructor=pg;Dj(gg,Qa.prototype);gg.isPureReactComponent=!0;var Tv=Array.isArray,Lj=Object.prototype.hasOwnProperty,yg={current:null},Fj={key:!0,ref:!0,__self:!0,__source:!0};function $j(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Lj.call(e,n)&&!Fj.hasOwnProperty(n)&&(s[n]=e[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Vc,type:t,key:i,ref:o,props:s,_owner:yg.current}}function IO(t,e){return{$$typeof:Vc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function vg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Vc}function MO(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Av=/\/+/g;function ph(t,e){return typeof t=="object"&&t!==null&&t.key!=null?MO(""+t.key):e.toString(36)}function Vu(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Vc:case jO:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+ph(o,0):n,Tv(s)?(r="",t!=null&&(r=t.replace(Av,"$&/")+"/"),Vu(s,e,r,"",function(u){return u})):s!=null&&(vg(s)&&(s=IO(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Av,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",Tv(t))for(var l=0;l<t.length;l++){i=t[l];var c=n+ph(i,l);o+=Vu(i,e,r,c,s)}else if(c=DO(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=n+ph(i,l++),o+=Vu(i,e,r,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function pu(t,e,r){if(t==null)return t;var n=[],s=0;return Vu(t,n,"","",function(i){return e.call(r,i,s++)}),n}function LO(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ur={current:null},Wu={transition:null},FO={ReactCurrentDispatcher:ur,ReactCurrentBatchConfig:Wu,ReactCurrentOwner:yg};function Uj(){throw Error("act(...) is not supported in production builds of React.")}je.Children={map:pu,forEach:function(t,e,r){pu(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return pu(t,function(){e++}),e},toArray:function(t){return pu(t,function(e){return e})||[]},only:function(t){if(!vg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};je.Component=Qa;je.Fragment=kO;je.Profiler=CO;je.PureComponent=pg;je.StrictMode=NO;je.Suspense=AO;je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FO;je.act=Uj;je.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Dj({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=yg.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)Lj.call(e,c)&&!Fj.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Vc,type:t.type,key:s,ref:i,props:n,_owner:o}};je.createContext=function(t){return t={$$typeof:PO,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:EO,_context:t},t.Consumer=t};je.createElement=$j;je.createFactory=function(t){var e=$j.bind(null,t);return e.type=t,e};je.createRef=function(){return{current:null}};je.forwardRef=function(t){return{$$typeof:TO,render:t}};je.isValidElement=vg;je.lazy=function(t){return{$$typeof:RO,_payload:{_status:-1,_result:t},_init:LO}};je.memo=function(t,e){return{$$typeof:OO,type:t,compare:e===void 0?null:e}};je.startTransition=function(t){var e=Wu.transition;Wu.transition={};try{t()}finally{Wu.transition=e}};je.unstable_act=Uj;je.useCallback=function(t,e){return ur.current.useCallback(t,e)};je.useContext=function(t){return ur.current.useContext(t)};je.useDebugValue=function(){};je.useDeferredValue=function(t){return ur.current.useDeferredValue(t)};je.useEffect=function(t,e){return ur.current.useEffect(t,e)};je.useId=function(){return ur.current.useId()};je.useImperativeHandle=function(t,e,r){return ur.current.useImperativeHandle(t,e,r)};je.useInsertionEffect=function(t,e){return ur.current.useInsertionEffect(t,e)};je.useLayoutEffect=function(t,e){return ur.current.useLayoutEffect(t,e)};je.useMemo=function(t,e){return ur.current.useMemo(t,e)};je.useReducer=function(t,e,r){return ur.current.useReducer(t,e,r)};je.useRef=function(t){return ur.current.useRef(t)};je.useState=function(t){return ur.current.useState(t)};je.useSyncExternalStore=function(t,e,r){return ur.current.useSyncExternalStore(t,e,r)};je.useTransition=function(){return ur.current.useTransition()};je.version="18.3.1";Oj.exports=je;var y=Oj.exports;const he=Tj(y),Bj=_O({__proto__:null,default:he},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $O=y,UO=Symbol.for("react.element"),BO=Symbol.for("react.fragment"),zO=Object.prototype.hasOwnProperty,VO=$O.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,WO={key:!0,ref:!0,__self:!0,__source:!0};function zj(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)zO.call(e,n)&&!WO.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:UO,type:t,key:i,ref:o,props:s,_owner:VO.current}}wf.Fragment=BO;wf.jsx=zj;wf.jsxs=zj;Aj.exports=wf;var a=Aj.exports,Vj={exports:{}},Ur={},Wj={exports:{}},qj={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,M){var K=P.length;P.push(M);e:for(;0<K;){var te=K-1>>>1,ke=P[te];if(0<s(ke,M))P[te]=M,P[K]=ke,K=te;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var M=P[0],K=P.pop();if(K!==M){P[0]=K;e:for(var te=0,ke=P.length,Pt=ke>>>1;te<Pt;){var ot=2*(te+1)-1,$t=P[ot],et=ot+1,ie=P[et];if(0>s($t,K))et<ke&&0>s(ie,$t)?(P[te]=ie,P[et]=K,te=et):(P[te]=$t,P[ot]=K,te=ot);else if(et<ke&&0>s(ie,K))P[te]=ie,P[et]=K,te=et;else break e}}return M}function s(P,M){var K=P.sortIndex-M.sortIndex;return K!==0?K:P.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,v=!1,p=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(P){for(var M=r(u);M!==null;){if(M.callback===null)n(u);else if(M.startTime<=P)n(u),M.sortIndex=M.expirationTime,e(c,M);else break;M=r(u)}}function _(P){if(g=!1,x(P),!p)if(r(c)!==null)p=!0,B(S);else{var M=r(u);M!==null&&$(_,M.startTime-P)}}function S(P,M){p=!1,g&&(g=!1,w(E),E=-1),v=!0;var K=h;try{for(x(M),f=r(c);f!==null&&(!(f.expirationTime>M)||P&&!q());){var te=f.callback;if(typeof te=="function"){f.callback=null,h=f.priorityLevel;var ke=te(f.expirationTime<=M);M=t.unstable_now(),typeof ke=="function"?f.callback=ke:f===r(c)&&n(c),x(M)}else n(c);f=r(c)}if(f!==null)var Pt=!0;else{var ot=r(u);ot!==null&&$(_,ot.startTime-M),Pt=!1}return Pt}finally{f=null,h=K,v=!1}}var k=!1,j=null,E=-1,T=5,I=-1;function q(){return!(t.unstable_now()-I<T)}function L(){if(j!==null){var P=t.unstable_now();I=P;var M=!0;try{M=j(!0,P)}finally{M?O():(k=!1,j=null)}}else k=!1}var O;if(typeof m=="function")O=function(){m(L)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,R=V.port2;V.port1.onmessage=L,O=function(){R.postMessage(null)}}else O=function(){b(L,0)};function B(P){j=P,k||(k=!0,O())}function $(P,M){E=b(function(){P(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){p||v||(p=!0,B(S))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(P){switch(h){case 1:case 2:case 3:var M=3;break;default:M=h}var K=h;h=M;try{return P()}finally{h=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,M){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var K=h;h=P;try{return M()}finally{h=K}},t.unstable_scheduleCallback=function(P,M,K){var te=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?te+K:te):K=te,P){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=K+ke,P={id:d++,callback:M,priorityLevel:P,startTime:K,expirationTime:ke,sortIndex:-1},K>te?(P.sortIndex=K,e(u,P),r(c)===null&&P===r(u)&&(g?(w(E),E=-1):g=!0,$(_,K-te))):(P.sortIndex=ke,e(c,P),p||v||(p=!0,B(S))),P},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(P){var M=h;return function(){var K=h;h=M;try{return P.apply(this,arguments)}finally{h=K}}}})(qj);Wj.exports=qj;var qO=Wj.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HO=y,Fr=qO;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Hj=new Set,Jl={};function xo(t,e){Aa(t,e),Aa(t+"Capture",e)}function Aa(t,e){for(Jl[t]=e,t=0;t<e.length;t++)Hj.add(e[t])}var ms=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),km=Object.prototype.hasOwnProperty,KO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ov={},Rv={};function GO(t){return km.call(Rv,t)?!0:km.call(Ov,t)?!1:KO.test(t)?Rv[t]=!0:(Ov[t]=!0,!1)}function QO(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function YO(t,e,r,n){if(e===null||typeof e>"u"||QO(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function dr(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Lt[t]=new dr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Lt[e]=new dr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Lt[t]=new dr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Lt[t]=new dr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Lt[t]=new dr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Lt[t]=new dr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Lt[t]=new dr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Lt[t]=new dr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Lt[t]=new dr(t,5,!1,t.toLowerCase(),null,!1,!1)});var xg=/[\-:]([a-z])/g;function wg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(xg,wg);Lt[e]=new dr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(xg,wg);Lt[e]=new dr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(xg,wg);Lt[e]=new dr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Lt[t]=new dr(t,1,!1,t.toLowerCase(),null,!1,!1)});Lt.xlinkHref=new dr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Lt[t]=new dr(t,1,!1,t.toLowerCase(),null,!0,!0)});function bg(t,e,r,n){var s=Lt.hasOwnProperty(e)?Lt[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(YO(e,r,s,n)&&(r=null),n||s===null?GO(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var js=HO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gu=Symbol.for("react.element"),Wo=Symbol.for("react.portal"),qo=Symbol.for("react.fragment"),_g=Symbol.for("react.strict_mode"),Nm=Symbol.for("react.profiler"),Kj=Symbol.for("react.provider"),Gj=Symbol.for("react.context"),Sg=Symbol.for("react.forward_ref"),Cm=Symbol.for("react.suspense"),Em=Symbol.for("react.suspense_list"),jg=Symbol.for("react.memo"),Ls=Symbol.for("react.lazy"),Qj=Symbol.for("react.offscreen"),Dv=Symbol.iterator;function ul(t){return t===null||typeof t!="object"?null:(t=Dv&&t[Dv]||t["@@iterator"],typeof t=="function"?t:null)}var it=Object.assign,gh;function Nl(t){if(gh===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);gh=e&&e[1]||""}return`
`+gh+t}var yh=!1;function vh(t,e){if(!t||yh)return"";yh=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{yh=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Nl(t):""}function JO(t){switch(t.tag){case 5:return Nl(t.type);case 16:return Nl("Lazy");case 13:return Nl("Suspense");case 19:return Nl("SuspenseList");case 0:case 2:case 15:return t=vh(t.type,!1),t;case 11:return t=vh(t.type.render,!1),t;case 1:return t=vh(t.type,!0),t;default:return""}}function Pm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case qo:return"Fragment";case Wo:return"Portal";case Nm:return"Profiler";case _g:return"StrictMode";case Cm:return"Suspense";case Em:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Gj:return(t.displayName||"Context")+".Consumer";case Kj:return(t._context.displayName||"Context")+".Provider";case Sg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case jg:return e=t.displayName||null,e!==null?e:Pm(t.type)||"Memo";case Ls:e=t._payload,t=t._init;try{return Pm(t(e))}catch{}}return null}function ZO(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pm(e);case 8:return e===_g?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ci(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Yj(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function XO(t){var e=Yj(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function yu(t){t._valueTracker||(t._valueTracker=XO(t))}function Jj(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Yj(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function ud(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Tm(t,e){var r=e.checked;return it({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Iv(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=ci(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Zj(t,e){e=e.checked,e!=null&&bg(t,"checked",e,!1)}function Am(t,e){Zj(t,e);var r=ci(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Om(t,e.type,r):e.hasOwnProperty("defaultValue")&&Om(t,e.type,ci(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Mv(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Om(t,e,r){(e!=="number"||ud(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Cl=Array.isArray;function na(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+ci(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Rm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return it({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Lv(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(W(92));if(Cl(r)){if(1<r.length)throw Error(W(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:ci(r)}}function Xj(t,e){var r=ci(e.value),n=ci(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Fv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function e1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?e1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var vu,t1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(vu=vu||document.createElement("div"),vu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=vu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Zl(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Dl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eR=["Webkit","ms","Moz","O"];Object.keys(Dl).forEach(function(t){eR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Dl[e]=Dl[t]})});function r1(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Dl.hasOwnProperty(t)&&Dl[t]?(""+e).trim():e+"px"}function n1(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=r1(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var tR=it({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Im(t,e){if(e){if(tR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function Mm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lm=null;function kg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Fm=null,sa=null,ia=null;function $v(t){if(t=Hc(t)){if(typeof Fm!="function")throw Error(W(280));var e=t.stateNode;e&&(e=kf(e),Fm(t.stateNode,t.type,e))}}function s1(t){sa?ia?ia.push(t):ia=[t]:sa=t}function i1(){if(sa){var t=sa,e=ia;if(ia=sa=null,$v(t),e)for(t=0;t<e.length;t++)$v(e[t])}}function o1(t,e){return t(e)}function a1(){}var xh=!1;function l1(t,e,r){if(xh)return t(e,r);xh=!0;try{return o1(t,e,r)}finally{xh=!1,(sa!==null||ia!==null)&&(a1(),i1())}}function Xl(t,e){var r=t.stateNode;if(r===null)return null;var n=kf(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(W(231,e,typeof r));return r}var $m=!1;if(ms)try{var dl={};Object.defineProperty(dl,"passive",{get:function(){$m=!0}}),window.addEventListener("test",dl,dl),window.removeEventListener("test",dl,dl)}catch{$m=!1}function rR(t,e,r,n,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var Il=!1,dd=null,fd=!1,Um=null,nR={onError:function(t){Il=!0,dd=t}};function sR(t,e,r,n,s,i,o,l,c){Il=!1,dd=null,rR.apply(nR,arguments)}function iR(t,e,r,n,s,i,o,l,c){if(sR.apply(this,arguments),Il){if(Il){var u=dd;Il=!1,dd=null}else throw Error(W(198));fd||(fd=!0,Um=u)}}function wo(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function c1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Uv(t){if(wo(t)!==t)throw Error(W(188))}function oR(t){var e=t.alternate;if(!e){if(e=wo(t),e===null)throw Error(W(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Uv(s),t;if(i===n)return Uv(s),e;i=i.sibling}throw Error(W(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(W(189))}}if(r.alternate!==n)throw Error(W(190))}if(r.tag!==3)throw Error(W(188));return r.stateNode.current===r?t:e}function u1(t){return t=oR(t),t!==null?d1(t):null}function d1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=d1(t);if(e!==null)return e;t=t.sibling}return null}var f1=Fr.unstable_scheduleCallback,Bv=Fr.unstable_cancelCallback,aR=Fr.unstable_shouldYield,lR=Fr.unstable_requestPaint,dt=Fr.unstable_now,cR=Fr.unstable_getCurrentPriorityLevel,Ng=Fr.unstable_ImmediatePriority,h1=Fr.unstable_UserBlockingPriority,hd=Fr.unstable_NormalPriority,uR=Fr.unstable_LowPriority,m1=Fr.unstable_IdlePriority,bf=null,$n=null;function dR(t){if($n&&typeof $n.onCommitFiberRoot=="function")try{$n.onCommitFiberRoot(bf,t,void 0,(t.current.flags&128)===128)}catch{}}var gn=Math.clz32?Math.clz32:mR,fR=Math.log,hR=Math.LN2;function mR(t){return t>>>=0,t===0?32:31-(fR(t)/hR|0)|0}var xu=64,wu=4194304;function El(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function md(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=El(l):(i&=o,i!==0&&(n=El(i)))}else o=r&~s,o!==0?n=El(o):i!==0&&(n=El(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-gn(e),s=1<<r,n|=t[r],e&=~s;return n}function pR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gR(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-gn(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=pR(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function Bm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function p1(){var t=xu;return xu<<=1,!(xu&4194240)&&(xu=64),t}function wh(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Wc(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-gn(e),t[e]=r}function yR(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-gn(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function Cg(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-gn(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var ze=0;function g1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var y1,Eg,v1,x1,w1,zm=!1,bu=[],ti=null,ri=null,ni=null,ec=new Map,tc=new Map,$s=[],vR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zv(t,e){switch(t){case"focusin":case"focusout":ti=null;break;case"dragenter":case"dragleave":ri=null;break;case"mouseover":case"mouseout":ni=null;break;case"pointerover":case"pointerout":ec.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":tc.delete(e.pointerId)}}function fl(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Hc(e),e!==null&&Eg(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function xR(t,e,r,n,s){switch(e){case"focusin":return ti=fl(ti,t,e,r,n,s),!0;case"dragenter":return ri=fl(ri,t,e,r,n,s),!0;case"mouseover":return ni=fl(ni,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return ec.set(i,fl(ec.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,tc.set(i,fl(tc.get(i)||null,t,e,r,n,s)),!0}return!1}function b1(t){var e=Fi(t.target);if(e!==null){var r=wo(e);if(r!==null){if(e=r.tag,e===13){if(e=c1(r),e!==null){t.blockedOn=e,w1(t.priority,function(){v1(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Vm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Lm=n,r.target.dispatchEvent(n),Lm=null}else return e=Hc(r),e!==null&&Eg(e),t.blockedOn=r,!1;e.shift()}return!0}function Vv(t,e,r){qu(t)&&r.delete(e)}function wR(){zm=!1,ti!==null&&qu(ti)&&(ti=null),ri!==null&&qu(ri)&&(ri=null),ni!==null&&qu(ni)&&(ni=null),ec.forEach(Vv),tc.forEach(Vv)}function hl(t,e){t.blockedOn===e&&(t.blockedOn=null,zm||(zm=!0,Fr.unstable_scheduleCallback(Fr.unstable_NormalPriority,wR)))}function rc(t){function e(s){return hl(s,t)}if(0<bu.length){hl(bu[0],t);for(var r=1;r<bu.length;r++){var n=bu[r];n.blockedOn===t&&(n.blockedOn=null)}}for(ti!==null&&hl(ti,t),ri!==null&&hl(ri,t),ni!==null&&hl(ni,t),ec.forEach(e),tc.forEach(e),r=0;r<$s.length;r++)n=$s[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<$s.length&&(r=$s[0],r.blockedOn===null);)b1(r),r.blockedOn===null&&$s.shift()}var oa=js.ReactCurrentBatchConfig,pd=!0;function bR(t,e,r,n){var s=ze,i=oa.transition;oa.transition=null;try{ze=1,Pg(t,e,r,n)}finally{ze=s,oa.transition=i}}function _R(t,e,r,n){var s=ze,i=oa.transition;oa.transition=null;try{ze=4,Pg(t,e,r,n)}finally{ze=s,oa.transition=i}}function Pg(t,e,r,n){if(pd){var s=Vm(t,e,r,n);if(s===null)Th(t,e,n,gd,r),zv(t,n);else if(xR(s,t,e,r,n))n.stopPropagation();else if(zv(t,n),e&4&&-1<vR.indexOf(t)){for(;s!==null;){var i=Hc(s);if(i!==null&&y1(i),i=Vm(t,e,r,n),i===null&&Th(t,e,n,gd,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Th(t,e,n,null,r)}}var gd=null;function Vm(t,e,r,n){if(gd=null,t=kg(n),t=Fi(t),t!==null)if(e=wo(t),e===null)t=null;else if(r=e.tag,r===13){if(t=c1(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return gd=t,null}function _1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cR()){case Ng:return 1;case h1:return 4;case hd:case uR:return 16;case m1:return 536870912;default:return 16}default:return 16}}var Xs=null,Tg=null,Hu=null;function S1(){if(Hu)return Hu;var t,e=Tg,r=e.length,n,s="value"in Xs?Xs.value:Xs.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return Hu=s.slice(t,1<n?1-n:void 0)}function Ku(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function _u(){return!0}function Wv(){return!1}function Br(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?_u:Wv,this.isPropagationStopped=Wv,this}return it(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=_u)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=_u)},persist:function(){},isPersistent:_u}),e}var Ya={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ag=Br(Ya),qc=it({},Ya,{view:0,detail:0}),SR=Br(qc),bh,_h,ml,_f=it({},qc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Og,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ml&&(ml&&t.type==="mousemove"?(bh=t.screenX-ml.screenX,_h=t.screenY-ml.screenY):_h=bh=0,ml=t),bh)},movementY:function(t){return"movementY"in t?t.movementY:_h}}),qv=Br(_f),jR=it({},_f,{dataTransfer:0}),kR=Br(jR),NR=it({},qc,{relatedTarget:0}),Sh=Br(NR),CR=it({},Ya,{animationName:0,elapsedTime:0,pseudoElement:0}),ER=Br(CR),PR=it({},Ya,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),TR=Br(PR),AR=it({},Ya,{data:0}),Hv=Br(AR),OR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},RR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},DR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function IR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=DR[t])?!!e[t]:!1}function Og(){return IR}var MR=it({},qc,{key:function(t){if(t.key){var e=OR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ku(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?RR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Og,charCode:function(t){return t.type==="keypress"?Ku(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ku(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),LR=Br(MR),FR=it({},_f,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kv=Br(FR),$R=it({},qc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Og}),UR=Br($R),BR=it({},Ya,{propertyName:0,elapsedTime:0,pseudoElement:0}),zR=Br(BR),VR=it({},_f,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),WR=Br(VR),qR=[9,13,27,32],Rg=ms&&"CompositionEvent"in window,Ml=null;ms&&"documentMode"in document&&(Ml=document.documentMode);var HR=ms&&"TextEvent"in window&&!Ml,j1=ms&&(!Rg||Ml&&8<Ml&&11>=Ml),Gv=" ",Qv=!1;function k1(t,e){switch(t){case"keyup":return qR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function N1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ho=!1;function KR(t,e){switch(t){case"compositionend":return N1(e);case"keypress":return e.which!==32?null:(Qv=!0,Gv);case"textInput":return t=e.data,t===Gv&&Qv?null:t;default:return null}}function GR(t,e){if(Ho)return t==="compositionend"||!Rg&&k1(t,e)?(t=S1(),Hu=Tg=Xs=null,Ho=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return j1&&e.locale!=="ko"?null:e.data;default:return null}}var QR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!QR[t.type]:e==="textarea"}function C1(t,e,r,n){s1(n),e=yd(e,"onChange"),0<e.length&&(r=new Ag("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Ll=null,nc=null;function YR(t){F1(t,0)}function Sf(t){var e=Qo(t);if(Jj(e))return t}function JR(t,e){if(t==="change")return e}var E1=!1;if(ms){var jh;if(ms){var kh="oninput"in document;if(!kh){var Jv=document.createElement("div");Jv.setAttribute("oninput","return;"),kh=typeof Jv.oninput=="function"}jh=kh}else jh=!1;E1=jh&&(!document.documentMode||9<document.documentMode)}function Zv(){Ll&&(Ll.detachEvent("onpropertychange",P1),nc=Ll=null)}function P1(t){if(t.propertyName==="value"&&Sf(nc)){var e=[];C1(e,nc,t,kg(t)),l1(YR,e)}}function ZR(t,e,r){t==="focusin"?(Zv(),Ll=e,nc=r,Ll.attachEvent("onpropertychange",P1)):t==="focusout"&&Zv()}function XR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Sf(nc)}function eD(t,e){if(t==="click")return Sf(e)}function tD(t,e){if(t==="input"||t==="change")return Sf(e)}function rD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var xn=typeof Object.is=="function"?Object.is:rD;function sc(t,e){if(xn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!km.call(e,s)||!xn(t[s],e[s]))return!1}return!0}function Xv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function e0(t,e){var r=Xv(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Xv(r)}}function T1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?T1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function A1(){for(var t=window,e=ud();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=ud(t.document)}return e}function Dg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function nD(t){var e=A1(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&T1(r.ownerDocument.documentElement,r)){if(n!==null&&Dg(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=e0(r,i);var o=e0(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var sD=ms&&"documentMode"in document&&11>=document.documentMode,Ko=null,Wm=null,Fl=null,qm=!1;function t0(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;qm||Ko==null||Ko!==ud(n)||(n=Ko,"selectionStart"in n&&Dg(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Fl&&sc(Fl,n)||(Fl=n,n=yd(Wm,"onSelect"),0<n.length&&(e=new Ag("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Ko)))}function Su(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Go={animationend:Su("Animation","AnimationEnd"),animationiteration:Su("Animation","AnimationIteration"),animationstart:Su("Animation","AnimationStart"),transitionend:Su("Transition","TransitionEnd")},Nh={},O1={};ms&&(O1=document.createElement("div").style,"AnimationEvent"in window||(delete Go.animationend.animation,delete Go.animationiteration.animation,delete Go.animationstart.animation),"TransitionEvent"in window||delete Go.transitionend.transition);function jf(t){if(Nh[t])return Nh[t];if(!Go[t])return t;var e=Go[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in O1)return Nh[t]=e[r];return t}var R1=jf("animationend"),D1=jf("animationiteration"),I1=jf("animationstart"),M1=jf("transitionend"),L1=new Map,r0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bi(t,e){L1.set(t,e),xo(e,[t])}for(var Ch=0;Ch<r0.length;Ch++){var Eh=r0[Ch],iD=Eh.toLowerCase(),oD=Eh[0].toUpperCase()+Eh.slice(1);bi(iD,"on"+oD)}bi(R1,"onAnimationEnd");bi(D1,"onAnimationIteration");bi(I1,"onAnimationStart");bi("dblclick","onDoubleClick");bi("focusin","onFocus");bi("focusout","onBlur");bi(M1,"onTransitionEnd");Aa("onMouseEnter",["mouseout","mouseover"]);Aa("onMouseLeave",["mouseout","mouseover"]);Aa("onPointerEnter",["pointerout","pointerover"]);Aa("onPointerLeave",["pointerout","pointerover"]);xo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xo("onBeforeInput",["compositionend","keypress","textInput","paste"]);xo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aD=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pl));function n0(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,iR(n,e,void 0,t),t.currentTarget=null}function F1(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;n0(s,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;n0(s,l,u),i=c}}}if(fd)throw t=Um,fd=!1,Um=null,t}function Qe(t,e){var r=e[Ym];r===void 0&&(r=e[Ym]=new Set);var n=t+"__bubble";r.has(n)||($1(e,t,2,!1),r.add(n))}function Ph(t,e,r){var n=0;e&&(n|=4),$1(r,t,n,e)}var ju="_reactListening"+Math.random().toString(36).slice(2);function ic(t){if(!t[ju]){t[ju]=!0,Hj.forEach(function(r){r!=="selectionchange"&&(aD.has(r)||Ph(r,!1,t),Ph(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ju]||(e[ju]=!0,Ph("selectionchange",!1,e))}}function $1(t,e,r,n){switch(_1(e)){case 1:var s=bR;break;case 4:s=_R;break;default:s=Pg}r=s.bind(null,e,r,t),s=void 0,!$m||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function Th(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Fi(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}l1(function(){var u=i,d=kg(r),f=[];e:{var h=L1.get(t);if(h!==void 0){var v=Ag,p=t;switch(t){case"keypress":if(Ku(r)===0)break e;case"keydown":case"keyup":v=LR;break;case"focusin":p="focus",v=Sh;break;case"focusout":p="blur",v=Sh;break;case"beforeblur":case"afterblur":v=Sh;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=qv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=kR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=UR;break;case R1:case D1:case I1:v=ER;break;case M1:v=zR;break;case"scroll":v=SR;break;case"wheel":v=WR;break;case"copy":case"cut":case"paste":v=TR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Kv}var g=(e&4)!==0,b=!g&&t==="scroll",w=g?h!==null?h+"Capture":null:h;g=[];for(var m=u,x;m!==null;){x=m;var _=x.stateNode;if(x.tag===5&&_!==null&&(x=_,w!==null&&(_=Xl(m,w),_!=null&&g.push(oc(m,_,x)))),b)break;m=m.return}0<g.length&&(h=new v(h,p,null,r,d),f.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",h&&r!==Lm&&(p=r.relatedTarget||r.fromElement)&&(Fi(p)||p[ps]))break e;if((v||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,v?(p=r.relatedTarget||r.toElement,v=u,p=p?Fi(p):null,p!==null&&(b=wo(p),p!==b||p.tag!==5&&p.tag!==6)&&(p=null)):(v=null,p=u),v!==p)){if(g=qv,_="onMouseLeave",w="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(g=Kv,_="onPointerLeave",w="onPointerEnter",m="pointer"),b=v==null?h:Qo(v),x=p==null?h:Qo(p),h=new g(_,m+"leave",v,r,d),h.target=b,h.relatedTarget=x,_=null,Fi(d)===u&&(g=new g(w,m+"enter",p,r,d),g.target=x,g.relatedTarget=b,_=g),b=_,v&&p)t:{for(g=v,w=p,m=0,x=g;x;x=ko(x))m++;for(x=0,_=w;_;_=ko(_))x++;for(;0<m-x;)g=ko(g),m--;for(;0<x-m;)w=ko(w),x--;for(;m--;){if(g===w||w!==null&&g===w.alternate)break t;g=ko(g),w=ko(w)}g=null}else g=null;v!==null&&s0(f,h,v,g,!1),p!==null&&b!==null&&s0(f,b,p,g,!0)}}e:{if(h=u?Qo(u):window,v=h.nodeName&&h.nodeName.toLowerCase(),v==="select"||v==="input"&&h.type==="file")var S=JR;else if(Yv(h))if(E1)S=tD;else{S=XR;var k=ZR}else(v=h.nodeName)&&v.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=eD);if(S&&(S=S(t,u))){C1(f,S,r,d);break e}k&&k(t,h,u),t==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&Om(h,"number",h.value)}switch(k=u?Qo(u):window,t){case"focusin":(Yv(k)||k.contentEditable==="true")&&(Ko=k,Wm=u,Fl=null);break;case"focusout":Fl=Wm=Ko=null;break;case"mousedown":qm=!0;break;case"contextmenu":case"mouseup":case"dragend":qm=!1,t0(f,r,d);break;case"selectionchange":if(sD)break;case"keydown":case"keyup":t0(f,r,d)}var j;if(Rg)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Ho?k1(t,r)&&(E="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(j1&&r.locale!=="ko"&&(Ho||E!=="onCompositionStart"?E==="onCompositionEnd"&&Ho&&(j=S1()):(Xs=d,Tg="value"in Xs?Xs.value:Xs.textContent,Ho=!0)),k=yd(u,E),0<k.length&&(E=new Hv(E,t,null,r,d),f.push({event:E,listeners:k}),j?E.data=j:(j=N1(r),j!==null&&(E.data=j)))),(j=HR?KR(t,r):GR(t,r))&&(u=yd(u,"onBeforeInput"),0<u.length&&(d=new Hv("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=j))}F1(f,e)})}function oc(t,e,r){return{instance:t,listener:e,currentTarget:r}}function yd(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Xl(t,r),i!=null&&n.unshift(oc(t,i,s)),i=Xl(t,e),i!=null&&n.push(oc(t,i,s))),t=t.return}return n}function ko(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function s0(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Xl(r,i),c!=null&&o.unshift(oc(r,c,l))):s||(c=Xl(r,i),c!=null&&o.push(oc(r,c,l)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var lD=/\r\n?/g,cD=/\u0000|\uFFFD/g;function i0(t){return(typeof t=="string"?t:""+t).replace(lD,`
`).replace(cD,"")}function ku(t,e,r){if(e=i0(e),i0(t)!==e&&r)throw Error(W(425))}function vd(){}var Hm=null,Km=null;function Gm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Qm=typeof setTimeout=="function"?setTimeout:void 0,uD=typeof clearTimeout=="function"?clearTimeout:void 0,o0=typeof Promise=="function"?Promise:void 0,dD=typeof queueMicrotask=="function"?queueMicrotask:typeof o0<"u"?function(t){return o0.resolve(null).then(t).catch(fD)}:Qm;function fD(t){setTimeout(function(){throw t})}function Ah(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),rc(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);rc(e)}function si(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function a0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Ja=Math.random().toString(36).slice(2),In="__reactFiber$"+Ja,ac="__reactProps$"+Ja,ps="__reactContainer$"+Ja,Ym="__reactEvents$"+Ja,hD="__reactListeners$"+Ja,mD="__reactHandles$"+Ja;function Fi(t){var e=t[In];if(e)return e;for(var r=t.parentNode;r;){if(e=r[ps]||r[In]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=a0(t);t!==null;){if(r=t[In])return r;t=a0(t)}return e}t=r,r=t.parentNode}return null}function Hc(t){return t=t[In]||t[ps],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Qo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function kf(t){return t[ac]||null}var Jm=[],Yo=-1;function _i(t){return{current:t}}function Ye(t){0>Yo||(t.current=Jm[Yo],Jm[Yo]=null,Yo--)}function He(t,e){Yo++,Jm[Yo]=t.current,t.current=e}var ui={},qt=_i(ui),br=_i(!1),ro=ui;function Oa(t,e){var r=t.type.contextTypes;if(!r)return ui;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function _r(t){return t=t.childContextTypes,t!=null}function xd(){Ye(br),Ye(qt)}function l0(t,e,r){if(qt.current!==ui)throw Error(W(168));He(qt,e),He(br,r)}function U1(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(W(108,ZO(t)||"Unknown",s));return it({},r,n)}function wd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ui,ro=qt.current,He(qt,t),He(br,br.current),!0}function c0(t,e,r){var n=t.stateNode;if(!n)throw Error(W(169));r?(t=U1(t,e,ro),n.__reactInternalMemoizedMergedChildContext=t,Ye(br),Ye(qt),He(qt,t)):Ye(br),He(br,r)}var ss=null,Nf=!1,Oh=!1;function B1(t){ss===null?ss=[t]:ss.push(t)}function pD(t){Nf=!0,B1(t)}function Si(){if(!Oh&&ss!==null){Oh=!0;var t=0,e=ze;try{var r=ss;for(ze=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ss=null,Nf=!1}catch(s){throw ss!==null&&(ss=ss.slice(t+1)),f1(Ng,Si),s}finally{ze=e,Oh=!1}}return null}var Jo=[],Zo=0,bd=null,_d=0,qr=[],Hr=0,no=null,ls=1,cs="";function Ai(t,e){Jo[Zo++]=_d,Jo[Zo++]=bd,bd=t,_d=e}function z1(t,e,r){qr[Hr++]=ls,qr[Hr++]=cs,qr[Hr++]=no,no=t;var n=ls;t=cs;var s=32-gn(n)-1;n&=~(1<<s),r+=1;var i=32-gn(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,ls=1<<32-gn(e)+s|r<<s|n,cs=i+t}else ls=1<<i|r<<s|n,cs=t}function Ig(t){t.return!==null&&(Ai(t,1),z1(t,1,0))}function Mg(t){for(;t===bd;)bd=Jo[--Zo],Jo[Zo]=null,_d=Jo[--Zo],Jo[Zo]=null;for(;t===no;)no=qr[--Hr],qr[Hr]=null,cs=qr[--Hr],qr[Hr]=null,ls=qr[--Hr],qr[Hr]=null}var Ir=null,Dr=null,Ze=!1,dn=null;function V1(t,e){var r=Kr(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function u0(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ir=t,Dr=si(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ir=t,Dr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=no!==null?{id:ls,overflow:cs}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Kr(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Ir=t,Dr=null,!0):!1;default:return!1}}function Zm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Xm(t){if(Ze){var e=Dr;if(e){var r=e;if(!u0(t,e)){if(Zm(t))throw Error(W(418));e=si(r.nextSibling);var n=Ir;e&&u0(t,e)?V1(n,r):(t.flags=t.flags&-4097|2,Ze=!1,Ir=t)}}else{if(Zm(t))throw Error(W(418));t.flags=t.flags&-4097|2,Ze=!1,Ir=t}}}function d0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ir=t}function Nu(t){if(t!==Ir)return!1;if(!Ze)return d0(t),Ze=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Gm(t.type,t.memoizedProps)),e&&(e=Dr)){if(Zm(t))throw W1(),Error(W(418));for(;e;)V1(t,e),e=si(e.nextSibling)}if(d0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Dr=si(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Dr=null}}else Dr=Ir?si(t.stateNode.nextSibling):null;return!0}function W1(){for(var t=Dr;t;)t=si(t.nextSibling)}function Ra(){Dr=Ir=null,Ze=!1}function Lg(t){dn===null?dn=[t]:dn.push(t)}var gD=js.ReactCurrentBatchConfig;function pl(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(W(309));var n=r.stateNode}if(!n)throw Error(W(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(W(284));if(!r._owner)throw Error(W(290,t))}return t}function Cu(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function f0(t){var e=t._init;return e(t._payload)}function q1(t){function e(w,m){if(t){var x=w.deletions;x===null?(w.deletions=[m],w.flags|=16):x.push(m)}}function r(w,m){if(!t)return null;for(;m!==null;)e(w,m),m=m.sibling;return null}function n(w,m){for(w=new Map;m!==null;)m.key!==null?w.set(m.key,m):w.set(m.index,m),m=m.sibling;return w}function s(w,m){return w=li(w,m),w.index=0,w.sibling=null,w}function i(w,m,x){return w.index=x,t?(x=w.alternate,x!==null?(x=x.index,x<m?(w.flags|=2,m):x):(w.flags|=2,m)):(w.flags|=1048576,m)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function l(w,m,x,_){return m===null||m.tag!==6?(m=$h(x,w.mode,_),m.return=w,m):(m=s(m,x),m.return=w,m)}function c(w,m,x,_){var S=x.type;return S===qo?d(w,m,x.props.children,_,x.key):m!==null&&(m.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ls&&f0(S)===m.type)?(_=s(m,x.props),_.ref=pl(w,m,x),_.return=w,_):(_=ed(x.type,x.key,x.props,null,w.mode,_),_.ref=pl(w,m,x),_.return=w,_)}function u(w,m,x,_){return m===null||m.tag!==4||m.stateNode.containerInfo!==x.containerInfo||m.stateNode.implementation!==x.implementation?(m=Uh(x,w.mode,_),m.return=w,m):(m=s(m,x.children||[]),m.return=w,m)}function d(w,m,x,_,S){return m===null||m.tag!==7?(m=Zi(x,w.mode,_,S),m.return=w,m):(m=s(m,x),m.return=w,m)}function f(w,m,x){if(typeof m=="string"&&m!==""||typeof m=="number")return m=$h(""+m,w.mode,x),m.return=w,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case gu:return x=ed(m.type,m.key,m.props,null,w.mode,x),x.ref=pl(w,null,m),x.return=w,x;case Wo:return m=Uh(m,w.mode,x),m.return=w,m;case Ls:var _=m._init;return f(w,_(m._payload),x)}if(Cl(m)||ul(m))return m=Zi(m,w.mode,x,null),m.return=w,m;Cu(w,m)}return null}function h(w,m,x,_){var S=m!==null?m.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return S!==null?null:l(w,m,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case gu:return x.key===S?c(w,m,x,_):null;case Wo:return x.key===S?u(w,m,x,_):null;case Ls:return S=x._init,h(w,m,S(x._payload),_)}if(Cl(x)||ul(x))return S!==null?null:d(w,m,x,_,null);Cu(w,x)}return null}function v(w,m,x,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return w=w.get(x)||null,l(m,w,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case gu:return w=w.get(_.key===null?x:_.key)||null,c(m,w,_,S);case Wo:return w=w.get(_.key===null?x:_.key)||null,u(m,w,_,S);case Ls:var k=_._init;return v(w,m,x,k(_._payload),S)}if(Cl(_)||ul(_))return w=w.get(x)||null,d(m,w,_,S,null);Cu(m,_)}return null}function p(w,m,x,_){for(var S=null,k=null,j=m,E=m=0,T=null;j!==null&&E<x.length;E++){j.index>E?(T=j,j=null):T=j.sibling;var I=h(w,j,x[E],_);if(I===null){j===null&&(j=T);break}t&&j&&I.alternate===null&&e(w,j),m=i(I,m,E),k===null?S=I:k.sibling=I,k=I,j=T}if(E===x.length)return r(w,j),Ze&&Ai(w,E),S;if(j===null){for(;E<x.length;E++)j=f(w,x[E],_),j!==null&&(m=i(j,m,E),k===null?S=j:k.sibling=j,k=j);return Ze&&Ai(w,E),S}for(j=n(w,j);E<x.length;E++)T=v(j,w,E,x[E],_),T!==null&&(t&&T.alternate!==null&&j.delete(T.key===null?E:T.key),m=i(T,m,E),k===null?S=T:k.sibling=T,k=T);return t&&j.forEach(function(q){return e(w,q)}),Ze&&Ai(w,E),S}function g(w,m,x,_){var S=ul(x);if(typeof S!="function")throw Error(W(150));if(x=S.call(x),x==null)throw Error(W(151));for(var k=S=null,j=m,E=m=0,T=null,I=x.next();j!==null&&!I.done;E++,I=x.next()){j.index>E?(T=j,j=null):T=j.sibling;var q=h(w,j,I.value,_);if(q===null){j===null&&(j=T);break}t&&j&&q.alternate===null&&e(w,j),m=i(q,m,E),k===null?S=q:k.sibling=q,k=q,j=T}if(I.done)return r(w,j),Ze&&Ai(w,E),S;if(j===null){for(;!I.done;E++,I=x.next())I=f(w,I.value,_),I!==null&&(m=i(I,m,E),k===null?S=I:k.sibling=I,k=I);return Ze&&Ai(w,E),S}for(j=n(w,j);!I.done;E++,I=x.next())I=v(j,w,E,I.value,_),I!==null&&(t&&I.alternate!==null&&j.delete(I.key===null?E:I.key),m=i(I,m,E),k===null?S=I:k.sibling=I,k=I);return t&&j.forEach(function(L){return e(w,L)}),Ze&&Ai(w,E),S}function b(w,m,x,_){if(typeof x=="object"&&x!==null&&x.type===qo&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case gu:e:{for(var S=x.key,k=m;k!==null;){if(k.key===S){if(S=x.type,S===qo){if(k.tag===7){r(w,k.sibling),m=s(k,x.props.children),m.return=w,w=m;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ls&&f0(S)===k.type){r(w,k.sibling),m=s(k,x.props),m.ref=pl(w,k,x),m.return=w,w=m;break e}r(w,k);break}else e(w,k);k=k.sibling}x.type===qo?(m=Zi(x.props.children,w.mode,_,x.key),m.return=w,w=m):(_=ed(x.type,x.key,x.props,null,w.mode,_),_.ref=pl(w,m,x),_.return=w,w=_)}return o(w);case Wo:e:{for(k=x.key;m!==null;){if(m.key===k)if(m.tag===4&&m.stateNode.containerInfo===x.containerInfo&&m.stateNode.implementation===x.implementation){r(w,m.sibling),m=s(m,x.children||[]),m.return=w,w=m;break e}else{r(w,m);break}else e(w,m);m=m.sibling}m=Uh(x,w.mode,_),m.return=w,w=m}return o(w);case Ls:return k=x._init,b(w,m,k(x._payload),_)}if(Cl(x))return p(w,m,x,_);if(ul(x))return g(w,m,x,_);Cu(w,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,m!==null&&m.tag===6?(r(w,m.sibling),m=s(m,x),m.return=w,w=m):(r(w,m),m=$h(x,w.mode,_),m.return=w,w=m),o(w)):r(w,m)}return b}var Da=q1(!0),H1=q1(!1),Sd=_i(null),jd=null,Xo=null,Fg=null;function $g(){Fg=Xo=jd=null}function Ug(t){var e=Sd.current;Ye(Sd),t._currentValue=e}function ep(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function aa(t,e){jd=t,Fg=Xo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(xr=!0),t.firstContext=null)}function Jr(t){var e=t._currentValue;if(Fg!==t)if(t={context:t,memoizedValue:e,next:null},Xo===null){if(jd===null)throw Error(W(308));Xo=t,jd.dependencies={lanes:0,firstContext:t}}else Xo=Xo.next=t;return e}var $i=null;function Bg(t){$i===null?$i=[t]:$i.push(t)}function K1(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Bg(e)):(r.next=s.next,s.next=r),e.interleaved=r,gs(t,n)}function gs(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Fs=!1;function zg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function G1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function fs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ii(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Pe&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,gs(t,r)}return s=n.interleaved,s===null?(e.next=e,Bg(n)):(e.next=s.next,s.next=e),n.interleaved=e,gs(t,r)}function Gu(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Cg(t,r)}}function h0(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function kd(t,e,r,n){var s=t.updateQueue;Fs=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,v=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=t,g=l;switch(h=e,v=r,g.tag){case 1:if(p=g.payload,typeof p=="function"){f=p.call(v,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,h=typeof p=="function"?p.call(v,f,h):p,h==null)break e;f=it({},f,h);break e;case 2:Fs=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else v={eventTime:v,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=v,c=f):d=d.next=v,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);io|=o,t.lanes=o,t.memoizedState=f}}function m0(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(W(191,s));s.call(n)}}}var Kc={},Un=_i(Kc),lc=_i(Kc),cc=_i(Kc);function Ui(t){if(t===Kc)throw Error(W(174));return t}function Vg(t,e){switch(He(cc,e),He(lc,t),He(Un,Kc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Dm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Dm(e,t)}Ye(Un),He(Un,e)}function Ia(){Ye(Un),Ye(lc),Ye(cc)}function Q1(t){Ui(cc.current);var e=Ui(Un.current),r=Dm(e,t.type);e!==r&&(He(lc,t),He(Un,r))}function Wg(t){lc.current===t&&(Ye(Un),Ye(lc))}var nt=_i(0);function Nd(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Rh=[];function qg(){for(var t=0;t<Rh.length;t++)Rh[t]._workInProgressVersionPrimary=null;Rh.length=0}var Qu=js.ReactCurrentDispatcher,Dh=js.ReactCurrentBatchConfig,so=0,st=null,bt=null,Nt=null,Cd=!1,$l=!1,uc=0,yD=0;function Bt(){throw Error(W(321))}function Hg(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!xn(t[r],e[r]))return!1;return!0}function Kg(t,e,r,n,s,i){if(so=i,st=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Qu.current=t===null||t.memoizedState===null?bD:_D,t=r(n,s),$l){i=0;do{if($l=!1,uc=0,25<=i)throw Error(W(301));i+=1,Nt=bt=null,e.updateQueue=null,Qu.current=SD,t=r(n,s)}while($l)}if(Qu.current=Ed,e=bt!==null&&bt.next!==null,so=0,Nt=bt=st=null,Cd=!1,e)throw Error(W(300));return t}function Gg(){var t=uc!==0;return uc=0,t}function Pn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?st.memoizedState=Nt=t:Nt=Nt.next=t,Nt}function Zr(){if(bt===null){var t=st.alternate;t=t!==null?t.memoizedState:null}else t=bt.next;var e=Nt===null?st.memoizedState:Nt.next;if(e!==null)Nt=e,bt=t;else{if(t===null)throw Error(W(310));bt=t,t={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},Nt===null?st.memoizedState=Nt=t:Nt=Nt.next=t}return Nt}function dc(t,e){return typeof e=="function"?e(t):e}function Ih(t){var e=Zr(),r=e.queue;if(r===null)throw Error(W(311));r.lastRenderedReducer=t;var n=bt,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((so&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,st.lanes|=d,io|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,xn(n,e.memoizedState)||(xr=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,st.lanes|=i,io|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Mh(t){var e=Zr(),r=e.queue;if(r===null)throw Error(W(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);xn(i,e.memoizedState)||(xr=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function Y1(){}function J1(t,e){var r=st,n=Zr(),s=e(),i=!xn(n.memoizedState,s);if(i&&(n.memoizedState=s,xr=!0),n=n.queue,Qg(ek.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||Nt!==null&&Nt.memoizedState.tag&1){if(r.flags|=2048,fc(9,X1.bind(null,r,n,s,e),void 0,null),Ct===null)throw Error(W(349));so&30||Z1(r,e,s)}return s}function Z1(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function X1(t,e,r,n){e.value=r,e.getSnapshot=n,tk(e)&&rk(t)}function ek(t,e,r){return r(function(){tk(e)&&rk(t)})}function tk(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!xn(t,r)}catch{return!0}}function rk(t){var e=gs(t,1);e!==null&&yn(e,t,1,-1)}function p0(t){var e=Pn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:dc,lastRenderedState:t},e.queue=t,t=t.dispatch=wD.bind(null,st,t),[e.memoizedState,t]}function fc(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function nk(){return Zr().memoizedState}function Yu(t,e,r,n){var s=Pn();st.flags|=t,s.memoizedState=fc(1|e,r,void 0,n===void 0?null:n)}function Cf(t,e,r,n){var s=Zr();n=n===void 0?null:n;var i=void 0;if(bt!==null){var o=bt.memoizedState;if(i=o.destroy,n!==null&&Hg(n,o.deps)){s.memoizedState=fc(e,r,i,n);return}}st.flags|=t,s.memoizedState=fc(1|e,r,i,n)}function g0(t,e){return Yu(8390656,8,t,e)}function Qg(t,e){return Cf(2048,8,t,e)}function sk(t,e){return Cf(4,2,t,e)}function ik(t,e){return Cf(4,4,t,e)}function ok(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ak(t,e,r){return r=r!=null?r.concat([t]):null,Cf(4,4,ok.bind(null,e,t),r)}function Yg(){}function lk(t,e){var r=Zr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Hg(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function ck(t,e){var r=Zr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Hg(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function uk(t,e,r){return so&21?(xn(r,e)||(r=p1(),st.lanes|=r,io|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,xr=!0),t.memoizedState=r)}function vD(t,e){var r=ze;ze=r!==0&&4>r?r:4,t(!0);var n=Dh.transition;Dh.transition={};try{t(!1),e()}finally{ze=r,Dh.transition=n}}function dk(){return Zr().memoizedState}function xD(t,e,r){var n=ai(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},fk(t))hk(e,r);else if(r=K1(t,e,r,n),r!==null){var s=or();yn(r,t,n,s),mk(r,e,n)}}function wD(t,e,r){var n=ai(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(fk(t))hk(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,xn(l,o)){var c=e.interleaved;c===null?(s.next=s,Bg(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}r=K1(t,e,s,n),r!==null&&(s=or(),yn(r,t,n,s),mk(r,e,n))}}function fk(t){var e=t.alternate;return t===st||e!==null&&e===st}function hk(t,e){$l=Cd=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function mk(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Cg(t,r)}}var Ed={readContext:Jr,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useInsertionEffect:Bt,useLayoutEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useMutableSource:Bt,useSyncExternalStore:Bt,useId:Bt,unstable_isNewReconciler:!1},bD={readContext:Jr,useCallback:function(t,e){return Pn().memoizedState=[t,e===void 0?null:e],t},useContext:Jr,useEffect:g0,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Yu(4194308,4,ok.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Yu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Yu(4,2,t,e)},useMemo:function(t,e){var r=Pn();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Pn();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=xD.bind(null,st,t),[n.memoizedState,t]},useRef:function(t){var e=Pn();return t={current:t},e.memoizedState=t},useState:p0,useDebugValue:Yg,useDeferredValue:function(t){return Pn().memoizedState=t},useTransition:function(){var t=p0(!1),e=t[0];return t=vD.bind(null,t[1]),Pn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=st,s=Pn();if(Ze){if(r===void 0)throw Error(W(407));r=r()}else{if(r=e(),Ct===null)throw Error(W(349));so&30||Z1(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,g0(ek.bind(null,n,i,t),[t]),n.flags|=2048,fc(9,X1.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=Pn(),e=Ct.identifierPrefix;if(Ze){var r=cs,n=ls;r=(n&~(1<<32-gn(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=uc++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=yD++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},_D={readContext:Jr,useCallback:lk,useContext:Jr,useEffect:Qg,useImperativeHandle:ak,useInsertionEffect:sk,useLayoutEffect:ik,useMemo:ck,useReducer:Ih,useRef:nk,useState:function(){return Ih(dc)},useDebugValue:Yg,useDeferredValue:function(t){var e=Zr();return uk(e,bt.memoizedState,t)},useTransition:function(){var t=Ih(dc)[0],e=Zr().memoizedState;return[t,e]},useMutableSource:Y1,useSyncExternalStore:J1,useId:dk,unstable_isNewReconciler:!1},SD={readContext:Jr,useCallback:lk,useContext:Jr,useEffect:Qg,useImperativeHandle:ak,useInsertionEffect:sk,useLayoutEffect:ik,useMemo:ck,useReducer:Mh,useRef:nk,useState:function(){return Mh(dc)},useDebugValue:Yg,useDeferredValue:function(t){var e=Zr();return bt===null?e.memoizedState=t:uk(e,bt.memoizedState,t)},useTransition:function(){var t=Mh(dc)[0],e=Zr().memoizedState;return[t,e]},useMutableSource:Y1,useSyncExternalStore:J1,useId:dk,unstable_isNewReconciler:!1};function on(t,e){if(t&&t.defaultProps){e=it({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function tp(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:it({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Ef={isMounted:function(t){return(t=t._reactInternals)?wo(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=or(),s=ai(t),i=fs(n,s);i.payload=e,r!=null&&(i.callback=r),e=ii(t,i,s),e!==null&&(yn(e,t,s,n),Gu(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=or(),s=ai(t),i=fs(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=ii(t,i,s),e!==null&&(yn(e,t,s,n),Gu(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=or(),n=ai(t),s=fs(r,n);s.tag=2,e!=null&&(s.callback=e),e=ii(t,s,n),e!==null&&(yn(e,t,n,r),Gu(e,t,n))}};function y0(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!sc(r,n)||!sc(s,i):!0}function pk(t,e,r){var n=!1,s=ui,i=e.contextType;return typeof i=="object"&&i!==null?i=Jr(i):(s=_r(e)?ro:qt.current,n=e.contextTypes,i=(n=n!=null)?Oa(t,s):ui),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ef,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function v0(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Ef.enqueueReplaceState(e,e.state,null)}function rp(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},zg(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Jr(i):(i=_r(e)?ro:qt.current,s.context=Oa(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(tp(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Ef.enqueueReplaceState(s,s.state,null),kd(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Ma(t,e){try{var r="",n=e;do r+=JO(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Lh(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function np(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var jD=typeof WeakMap=="function"?WeakMap:Map;function gk(t,e,r){r=fs(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Td||(Td=!0,hp=n),np(t,e)},r}function yk(t,e,r){r=fs(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){np(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){np(t,e),typeof n!="function"&&(oi===null?oi=new Set([this]):oi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function x0(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new jD;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=FD.bind(null,t,e,r),e.then(t,t))}function w0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function b0(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=fs(-1,1),e.tag=2,ii(r,e,1))),r.lanes|=1),t)}var kD=js.ReactCurrentOwner,xr=!1;function Xt(t,e,r,n){e.child=t===null?H1(e,null,r,n):Da(e,t.child,r,n)}function _0(t,e,r,n,s){r=r.render;var i=e.ref;return aa(e,s),n=Kg(t,e,r,n,i,s),r=Gg(),t!==null&&!xr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ys(t,e,s)):(Ze&&r&&Ig(e),e.flags|=1,Xt(t,e,n,s),e.child)}function S0(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!sy(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,vk(t,e,i,n,s)):(t=ed(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:sc,r(o,n)&&t.ref===e.ref)return ys(t,e,s)}return e.flags|=1,t=li(i,n),t.ref=e.ref,t.return=e,e.child=t}function vk(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(sc(i,n)&&t.ref===e.ref)if(xr=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(xr=!0);else return e.lanes=t.lanes,ys(t,e,s)}return sp(t,e,r,n,s)}function xk(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(ta,Pr),Pr|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,He(ta,Pr),Pr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,He(ta,Pr),Pr|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,He(ta,Pr),Pr|=n;return Xt(t,e,s,r),e.child}function wk(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function sp(t,e,r,n,s){var i=_r(r)?ro:qt.current;return i=Oa(e,i),aa(e,s),r=Kg(t,e,r,n,i,s),n=Gg(),t!==null&&!xr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ys(t,e,s)):(Ze&&n&&Ig(e),e.flags|=1,Xt(t,e,r,s),e.child)}function j0(t,e,r,n,s){if(_r(r)){var i=!0;wd(e)}else i=!1;if(aa(e,s),e.stateNode===null)Ju(t,e),pk(e,r,n),rp(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Jr(u):(u=_r(r)?ro:qt.current,u=Oa(e,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&v0(e,o,n,u),Fs=!1;var h=e.memoizedState;o.state=h,kd(e,n,o,s),c=e.memoizedState,l!==n||h!==c||br.current||Fs?(typeof d=="function"&&(tp(e,r,d,n),c=e.memoizedState),(l=Fs||y0(e,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,G1(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:on(e.type,l),o.props=u,f=e.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Jr(c):(c=_r(r)?ro:qt.current,c=Oa(e,c));var v=r.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&v0(e,o,n,c),Fs=!1,h=e.memoizedState,o.state=h,kd(e,n,o,s);var p=e.memoizedState;l!==f||h!==p||br.current||Fs?(typeof v=="function"&&(tp(e,r,v,n),p=e.memoizedState),(u=Fs||y0(e,r,u,n,h,p,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,p,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,p,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=p),o.props=n,o.state=p,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return ip(t,e,r,n,i,s)}function ip(t,e,r,n,s,i){wk(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&c0(e,r,!1),ys(t,e,i);n=e.stateNode,kD.current=e;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Da(e,t.child,null,i),e.child=Da(e,null,l,i)):Xt(t,e,l,i),e.memoizedState=n.state,s&&c0(e,r,!0),e.child}function bk(t){var e=t.stateNode;e.pendingContext?l0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&l0(t,e.context,!1),Vg(t,e.containerInfo)}function k0(t,e,r,n,s){return Ra(),Lg(s),e.flags|=256,Xt(t,e,r,n),e.child}var op={dehydrated:null,treeContext:null,retryLane:0};function ap(t){return{baseLanes:t,cachePool:null,transitions:null}}function _k(t,e,r){var n=e.pendingProps,s=nt.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),He(nt,s&1),t===null)return Xm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Af(o,n,0,null),t=Zi(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=ap(r),e.memoizedState=op,t):Jg(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return ND(t,e,o,n,l,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=li(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=li(l,i):(i=Zi(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?ap(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=op,n}return i=t.child,t=i.sibling,n=li(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Jg(t,e){return e=Af({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Eu(t,e,r,n){return n!==null&&Lg(n),Da(e,t.child,null,r),t=Jg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ND(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=Lh(Error(W(422))),Eu(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=Af({mode:"visible",children:n.children},s,0,null),i=Zi(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&Da(e,t.child,null,o),e.child.memoizedState=ap(o),e.memoizedState=op,i);if(!(e.mode&1))return Eu(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(W(419)),n=Lh(i,n,void 0),Eu(t,e,o,n)}if(l=(o&t.childLanes)!==0,xr||l){if(n=Ct,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,gs(t,s),yn(n,t,s,-1))}return ny(),n=Lh(Error(W(421))),Eu(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=$D.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Dr=si(s.nextSibling),Ir=e,Ze=!0,dn=null,t!==null&&(qr[Hr++]=ls,qr[Hr++]=cs,qr[Hr++]=no,ls=t.id,cs=t.overflow,no=e),e=Jg(e,n.children),e.flags|=4096,e)}function N0(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),ep(t.return,e,r)}function Fh(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Sk(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(Xt(t,e,n.children,r),n=nt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&N0(t,r,e);else if(t.tag===19)N0(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(He(nt,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Nd(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),Fh(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Nd(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}Fh(e,!0,r,null,i);break;case"together":Fh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ju(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ys(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),io|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,r=li(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=li(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function CD(t,e,r){switch(e.tag){case 3:bk(e),Ra();break;case 5:Q1(e);break;case 1:_r(e.type)&&wd(e);break;case 4:Vg(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;He(Sd,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(He(nt,nt.current&1),e.flags|=128,null):r&e.child.childLanes?_k(t,e,r):(He(nt,nt.current&1),t=ys(t,e,r),t!==null?t.sibling:null);He(nt,nt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Sk(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),He(nt,nt.current),n)break;return null;case 22:case 23:return e.lanes=0,xk(t,e,r)}return ys(t,e,r)}var jk,lp,kk,Nk;jk=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};lp=function(){};kk=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,Ui(Un.current);var i=null;switch(r){case"input":s=Tm(t,s),n=Tm(t,n),i=[];break;case"select":s=it({},s,{value:void 0}),n=it({},n,{value:void 0}),i=[];break;case"textarea":s=Rm(t,s),n=Rm(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=vd)}Im(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Jl.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Jl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Qe("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Nk=function(t,e,r,n){r!==n&&(e.flags|=4)};function gl(t,e){if(!Ze)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function zt(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function ED(t,e,r){var n=e.pendingProps;switch(Mg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(e),null;case 1:return _r(e.type)&&xd(),zt(e),null;case 3:return n=e.stateNode,Ia(),Ye(br),Ye(qt),qg(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Nu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,dn!==null&&(gp(dn),dn=null))),lp(t,e),zt(e),null;case 5:Wg(e);var s=Ui(cc.current);if(r=e.type,t!==null&&e.stateNode!=null)kk(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(W(166));return zt(e),null}if(t=Ui(Un.current),Nu(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[In]=e,n[ac]=i,t=(e.mode&1)!==0,r){case"dialog":Qe("cancel",n),Qe("close",n);break;case"iframe":case"object":case"embed":Qe("load",n);break;case"video":case"audio":for(s=0;s<Pl.length;s++)Qe(Pl[s],n);break;case"source":Qe("error",n);break;case"img":case"image":case"link":Qe("error",n),Qe("load",n);break;case"details":Qe("toggle",n);break;case"input":Iv(n,i),Qe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Qe("invalid",n);break;case"textarea":Lv(n,i),Qe("invalid",n)}Im(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&ku(n.textContent,l,t),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&ku(n.textContent,l,t),s=["children",""+l]):Jl.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Qe("scroll",n)}switch(r){case"input":yu(n),Mv(n,i,!0);break;case"textarea":yu(n),Fv(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=vd)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=e1(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[In]=e,t[ac]=n,jk(t,e,!1,!1),e.stateNode=t;e:{switch(o=Mm(r,n),r){case"dialog":Qe("cancel",t),Qe("close",t),s=n;break;case"iframe":case"object":case"embed":Qe("load",t),s=n;break;case"video":case"audio":for(s=0;s<Pl.length;s++)Qe(Pl[s],t);s=n;break;case"source":Qe("error",t),s=n;break;case"img":case"image":case"link":Qe("error",t),Qe("load",t),s=n;break;case"details":Qe("toggle",t),s=n;break;case"input":Iv(t,n),s=Tm(t,n),Qe("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=it({},n,{value:void 0}),Qe("invalid",t);break;case"textarea":Lv(t,n),s=Rm(t,n),Qe("invalid",t);break;default:s=n}Im(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?n1(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&t1(t,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Zl(t,c):typeof c=="number"&&Zl(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Jl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Qe("scroll",t):c!=null&&bg(t,i,c,o))}switch(r){case"input":yu(t),Mv(t,n,!1);break;case"textarea":yu(t),Fv(t);break;case"option":n.value!=null&&t.setAttribute("value",""+ci(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?na(t,!!n.multiple,i,!1):n.defaultValue!=null&&na(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=vd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return zt(e),null;case 6:if(t&&e.stateNode!=null)Nk(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(W(166));if(r=Ui(cc.current),Ui(Un.current),Nu(e)){if(n=e.stateNode,r=e.memoizedProps,n[In]=e,(i=n.nodeValue!==r)&&(t=Ir,t!==null))switch(t.tag){case 3:ku(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ku(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[In]=e,e.stateNode=n}return zt(e),null;case 13:if(Ye(nt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ze&&Dr!==null&&e.mode&1&&!(e.flags&128))W1(),Ra(),e.flags|=98560,i=!1;else if(i=Nu(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(W(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(W(317));i[In]=e}else Ra(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;zt(e),i=!1}else dn!==null&&(gp(dn),dn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||nt.current&1?St===0&&(St=3):ny())),e.updateQueue!==null&&(e.flags|=4),zt(e),null);case 4:return Ia(),lp(t,e),t===null&&ic(e.stateNode.containerInfo),zt(e),null;case 10:return Ug(e.type._context),zt(e),null;case 17:return _r(e.type)&&xd(),zt(e),null;case 19:if(Ye(nt),i=e.memoizedState,i===null)return zt(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)gl(i,!1);else{if(St!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Nd(t),o!==null){for(e.flags|=128,gl(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return He(nt,nt.current&1|2),e.child}t=t.sibling}i.tail!==null&&dt()>La&&(e.flags|=128,n=!0,gl(i,!1),e.lanes=4194304)}else{if(!n)if(t=Nd(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),gl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ze)return zt(e),null}else 2*dt()-i.renderingStartTime>La&&r!==1073741824&&(e.flags|=128,n=!0,gl(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=dt(),e.sibling=null,r=nt.current,He(nt,n?r&1|2:r&1),e):(zt(e),null);case 22:case 23:return ry(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Pr&1073741824&&(zt(e),e.subtreeFlags&6&&(e.flags|=8192)):zt(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function PD(t,e){switch(Mg(e),e.tag){case 1:return _r(e.type)&&xd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ia(),Ye(br),Ye(qt),qg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Wg(e),null;case 13:if(Ye(nt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));Ra()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ye(nt),null;case 4:return Ia(),null;case 10:return Ug(e.type._context),null;case 22:case 23:return ry(),null;case 24:return null;default:return null}}var Pu=!1,Wt=!1,TD=typeof WeakSet=="function"?WeakSet:Set,ee=null;function ea(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){lt(t,e,n)}else r.current=null}function cp(t,e,r){try{r()}catch(n){lt(t,e,n)}}var C0=!1;function AD(t,e){if(Hm=pd,t=A1(),Dg(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var v;f!==r||s!==0&&f.nodeType!==3||(l=o+s),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(v=f.firstChild)!==null;)h=f,f=v;for(;;){if(f===t)break t;if(h===r&&++u===s&&(l=o),h===i&&++d===n&&(c=o),(v=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=v}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Km={focusedElem:t,selectionRange:r},pd=!1,ee=e;ee!==null;)if(e=ee,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ee=t;else for(;ee!==null;){e=ee;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,b=p.memoizedState,w=e.stateNode,m=w.getSnapshotBeforeUpdate(e.elementType===e.type?g:on(e.type,g),b);w.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(_){lt(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,ee=t;break}ee=e.return}return p=C0,C0=!1,p}function Ul(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&cp(e,r,i)}s=s.next}while(s!==n)}}function Pf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function up(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Ck(t){var e=t.alternate;e!==null&&(t.alternate=null,Ck(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[In],delete e[ac],delete e[Ym],delete e[hD],delete e[mD])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Ek(t){return t.tag===5||t.tag===3||t.tag===4}function E0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ek(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function dp(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=vd));else if(n!==4&&(t=t.child,t!==null))for(dp(t,e,r),t=t.sibling;t!==null;)dp(t,e,r),t=t.sibling}function fp(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(fp(t,e,r),t=t.sibling;t!==null;)fp(t,e,r),t=t.sibling}var At=null,ln=!1;function Ps(t,e,r){for(r=r.child;r!==null;)Pk(t,e,r),r=r.sibling}function Pk(t,e,r){if($n&&typeof $n.onCommitFiberUnmount=="function")try{$n.onCommitFiberUnmount(bf,r)}catch{}switch(r.tag){case 5:Wt||ea(r,e);case 6:var n=At,s=ln;At=null,Ps(t,e,r),At=n,ln=s,At!==null&&(ln?(t=At,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):At.removeChild(r.stateNode));break;case 18:At!==null&&(ln?(t=At,r=r.stateNode,t.nodeType===8?Ah(t.parentNode,r):t.nodeType===1&&Ah(t,r),rc(t)):Ah(At,r.stateNode));break;case 4:n=At,s=ln,At=r.stateNode.containerInfo,ln=!0,Ps(t,e,r),At=n,ln=s;break;case 0:case 11:case 14:case 15:if(!Wt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&cp(r,e,o),s=s.next}while(s!==n)}Ps(t,e,r);break;case 1:if(!Wt&&(ea(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){lt(r,e,l)}Ps(t,e,r);break;case 21:Ps(t,e,r);break;case 22:r.mode&1?(Wt=(n=Wt)||r.memoizedState!==null,Ps(t,e,r),Wt=n):Ps(t,e,r);break;default:Ps(t,e,r)}}function P0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new TD),e.forEach(function(n){var s=UD.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function tn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:At=l.stateNode,ln=!1;break e;case 3:At=l.stateNode.containerInfo,ln=!0;break e;case 4:At=l.stateNode.containerInfo,ln=!0;break e}l=l.return}if(At===null)throw Error(W(160));Pk(i,o,s),At=null,ln=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){lt(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Tk(e,t),e=e.sibling}function Tk(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(tn(e,t),Nn(t),n&4){try{Ul(3,t,t.return),Pf(3,t)}catch(g){lt(t,t.return,g)}try{Ul(5,t,t.return)}catch(g){lt(t,t.return,g)}}break;case 1:tn(e,t),Nn(t),n&512&&r!==null&&ea(r,r.return);break;case 5:if(tn(e,t),Nn(t),n&512&&r!==null&&ea(r,r.return),t.flags&32){var s=t.stateNode;try{Zl(s,"")}catch(g){lt(t,t.return,g)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Zj(s,i),Mm(l,o);var u=Mm(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?n1(s,f):d==="dangerouslySetInnerHTML"?t1(s,f):d==="children"?Zl(s,f):bg(s,d,f,u)}switch(l){case"input":Am(s,i);break;case"textarea":Xj(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?na(s,!!i.multiple,v,!1):h!==!!i.multiple&&(i.defaultValue!=null?na(s,!!i.multiple,i.defaultValue,!0):na(s,!!i.multiple,i.multiple?[]:"",!1))}s[ac]=i}catch(g){lt(t,t.return,g)}}break;case 6:if(tn(e,t),Nn(t),n&4){if(t.stateNode===null)throw Error(W(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(g){lt(t,t.return,g)}}break;case 3:if(tn(e,t),Nn(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{rc(e.containerInfo)}catch(g){lt(t,t.return,g)}break;case 4:tn(e,t),Nn(t);break;case 13:tn(e,t),Nn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ey=dt())),n&4&&P0(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Wt=(u=Wt)||d,tn(e,t),Wt=u):tn(e,t),Nn(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(ee=t,d=t.child;d!==null;){for(f=ee=d;ee!==null;){switch(h=ee,v=h.child,h.tag){case 0:case 11:case 14:case 15:Ul(4,h,h.return);break;case 1:ea(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(g){lt(n,r,g)}}break;case 5:ea(h,h.return);break;case 22:if(h.memoizedState!==null){A0(f);continue}}v!==null?(v.return=h,ee=v):A0(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=r1("display",o))}catch(g){lt(t,t.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){lt(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:tn(e,t),Nn(t),n&4&&P0(t);break;case 21:break;default:tn(e,t),Nn(t)}}function Nn(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Ek(r)){var n=r;break e}r=r.return}throw Error(W(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Zl(s,""),n.flags&=-33);var i=E0(t);fp(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=E0(t);dp(t,l,o);break;default:throw Error(W(161))}}catch(c){lt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function OD(t,e,r){ee=t,Ak(t)}function Ak(t,e,r){for(var n=(t.mode&1)!==0;ee!==null;){var s=ee,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Pu;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Wt;l=Pu;var u=Wt;if(Pu=o,(Wt=c)&&!u)for(ee=s;ee!==null;)o=ee,c=o.child,o.tag===22&&o.memoizedState!==null?O0(s):c!==null?(c.return=o,ee=c):O0(s);for(;i!==null;)ee=i,Ak(i),i=i.sibling;ee=s,Pu=l,Wt=u}T0(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ee=i):T0(t)}}function T0(t){for(;ee!==null;){var e=ee;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Wt||Pf(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Wt)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:on(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&m0(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}m0(e,o,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&rc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}Wt||e.flags&512&&up(e)}catch(h){lt(e,e.return,h)}}if(e===t){ee=null;break}if(r=e.sibling,r!==null){r.return=e.return,ee=r;break}ee=e.return}}function A0(t){for(;ee!==null;){var e=ee;if(e===t){ee=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ee=r;break}ee=e.return}}function O0(t){for(;ee!==null;){var e=ee;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Pf(4,e)}catch(c){lt(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(c){lt(e,s,c)}}var i=e.return;try{up(e)}catch(c){lt(e,i,c)}break;case 5:var o=e.return;try{up(e)}catch(c){lt(e,o,c)}}}catch(c){lt(e,e.return,c)}if(e===t){ee=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ee=l;break}ee=e.return}}var RD=Math.ceil,Pd=js.ReactCurrentDispatcher,Zg=js.ReactCurrentOwner,Gr=js.ReactCurrentBatchConfig,Pe=0,Ct=null,yt=null,It=0,Pr=0,ta=_i(0),St=0,hc=null,io=0,Tf=0,Xg=0,Bl=null,yr=null,ey=0,La=1/0,rs=null,Td=!1,hp=null,oi=null,Tu=!1,ei=null,Ad=0,zl=0,mp=null,Zu=-1,Xu=0;function or(){return Pe&6?dt():Zu!==-1?Zu:Zu=dt()}function ai(t){return t.mode&1?Pe&2&&It!==0?It&-It:gD.transition!==null?(Xu===0&&(Xu=p1()),Xu):(t=ze,t!==0||(t=window.event,t=t===void 0?16:_1(t.type)),t):1}function yn(t,e,r,n){if(50<zl)throw zl=0,mp=null,Error(W(185));Wc(t,r,n),(!(Pe&2)||t!==Ct)&&(t===Ct&&(!(Pe&2)&&(Tf|=r),St===4&&Us(t,It)),Sr(t,n),r===1&&Pe===0&&!(e.mode&1)&&(La=dt()+500,Nf&&Si()))}function Sr(t,e){var r=t.callbackNode;gR(t,e);var n=md(t,t===Ct?It:0);if(n===0)r!==null&&Bv(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Bv(r),e===1)t.tag===0?pD(R0.bind(null,t)):B1(R0.bind(null,t)),dD(function(){!(Pe&6)&&Si()}),r=null;else{switch(g1(n)){case 1:r=Ng;break;case 4:r=h1;break;case 16:r=hd;break;case 536870912:r=m1;break;default:r=hd}r=$k(r,Ok.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Ok(t,e){if(Zu=-1,Xu=0,Pe&6)throw Error(W(327));var r=t.callbackNode;if(la()&&t.callbackNode!==r)return null;var n=md(t,t===Ct?It:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Od(t,n);else{e=n;var s=Pe;Pe|=2;var i=Dk();(Ct!==t||It!==e)&&(rs=null,La=dt()+500,Ji(t,e));do try{MD();break}catch(l){Rk(t,l)}while(!0);$g(),Pd.current=i,Pe=s,yt!==null?e=0:(Ct=null,It=0,e=St)}if(e!==0){if(e===2&&(s=Bm(t),s!==0&&(n=s,e=pp(t,s))),e===1)throw r=hc,Ji(t,0),Us(t,n),Sr(t,dt()),r;if(e===6)Us(t,n);else{if(s=t.current.alternate,!(n&30)&&!DD(s)&&(e=Od(t,n),e===2&&(i=Bm(t),i!==0&&(n=i,e=pp(t,i))),e===1))throw r=hc,Ji(t,0),Us(t,n),Sr(t,dt()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(W(345));case 2:Oi(t,yr,rs);break;case 3:if(Us(t,n),(n&130023424)===n&&(e=ey+500-dt(),10<e)){if(md(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){or(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Qm(Oi.bind(null,t,yr,rs),e);break}Oi(t,yr,rs);break;case 4:if(Us(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-gn(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=dt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*RD(n/1960))-n,10<n){t.timeoutHandle=Qm(Oi.bind(null,t,yr,rs),n);break}Oi(t,yr,rs);break;case 5:Oi(t,yr,rs);break;default:throw Error(W(329))}}}return Sr(t,dt()),t.callbackNode===r?Ok.bind(null,t):null}function pp(t,e){var r=Bl;return t.current.memoizedState.isDehydrated&&(Ji(t,e).flags|=256),t=Od(t,e),t!==2&&(e=yr,yr=r,e!==null&&gp(e)),t}function gp(t){yr===null?yr=t:yr.push.apply(yr,t)}function DD(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!xn(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Us(t,e){for(e&=~Xg,e&=~Tf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-gn(e),n=1<<r;t[r]=-1,e&=~n}}function R0(t){if(Pe&6)throw Error(W(327));la();var e=md(t,0);if(!(e&1))return Sr(t,dt()),null;var r=Od(t,e);if(t.tag!==0&&r===2){var n=Bm(t);n!==0&&(e=n,r=pp(t,n))}if(r===1)throw r=hc,Ji(t,0),Us(t,e),Sr(t,dt()),r;if(r===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Oi(t,yr,rs),Sr(t,dt()),null}function ty(t,e){var r=Pe;Pe|=1;try{return t(e)}finally{Pe=r,Pe===0&&(La=dt()+500,Nf&&Si())}}function oo(t){ei!==null&&ei.tag===0&&!(Pe&6)&&la();var e=Pe;Pe|=1;var r=Gr.transition,n=ze;try{if(Gr.transition=null,ze=1,t)return t()}finally{ze=n,Gr.transition=r,Pe=e,!(Pe&6)&&Si()}}function ry(){Pr=ta.current,Ye(ta)}function Ji(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,uD(r)),yt!==null)for(r=yt.return;r!==null;){var n=r;switch(Mg(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&xd();break;case 3:Ia(),Ye(br),Ye(qt),qg();break;case 5:Wg(n);break;case 4:Ia();break;case 13:Ye(nt);break;case 19:Ye(nt);break;case 10:Ug(n.type._context);break;case 22:case 23:ry()}r=r.return}if(Ct=t,yt=t=li(t.current,null),It=Pr=e,St=0,hc=null,Xg=Tf=io=0,yr=Bl=null,$i!==null){for(e=0;e<$i.length;e++)if(r=$i[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}$i=null}return t}function Rk(t,e){do{var r=yt;try{if($g(),Qu.current=Ed,Cd){for(var n=st.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Cd=!1}if(so=0,Nt=bt=st=null,$l=!1,uc=0,Zg.current=null,r===null||r.return===null){St=1,hc=e,yt=null;break}e:{var i=t,o=r.return,l=r,c=e;if(e=It,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=w0(o);if(v!==null){v.flags&=-257,b0(v,o,l,i,e),v.mode&1&&x0(i,u,e),e=v,c=u;var p=e.updateQueue;if(p===null){var g=new Set;g.add(c),e.updateQueue=g}else p.add(c);break e}else{if(!(e&1)){x0(i,u,e),ny();break e}c=Error(W(426))}}else if(Ze&&l.mode&1){var b=w0(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),b0(b,o,l,i,e),Lg(Ma(c,l));break e}}i=c=Ma(c,l),St!==4&&(St=2),Bl===null?Bl=[i]:Bl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=gk(i,c,e);h0(i,w);break e;case 1:l=c;var m=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(oi===null||!oi.has(x)))){i.flags|=65536,e&=-e,i.lanes|=e;var _=yk(i,l,e);h0(i,_);break e}}i=i.return}while(i!==null)}Mk(r)}catch(S){e=S,yt===r&&r!==null&&(yt=r=r.return);continue}break}while(!0)}function Dk(){var t=Pd.current;return Pd.current=Ed,t===null?Ed:t}function ny(){(St===0||St===3||St===2)&&(St=4),Ct===null||!(io&268435455)&&!(Tf&268435455)||Us(Ct,It)}function Od(t,e){var r=Pe;Pe|=2;var n=Dk();(Ct!==t||It!==e)&&(rs=null,Ji(t,e));do try{ID();break}catch(s){Rk(t,s)}while(!0);if($g(),Pe=r,Pd.current=n,yt!==null)throw Error(W(261));return Ct=null,It=0,St}function ID(){for(;yt!==null;)Ik(yt)}function MD(){for(;yt!==null&&!aR();)Ik(yt)}function Ik(t){var e=Fk(t.alternate,t,Pr);t.memoizedProps=t.pendingProps,e===null?Mk(t):yt=e,Zg.current=null}function Mk(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=PD(r,e),r!==null){r.flags&=32767,yt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{St=6,yt=null;return}}else if(r=ED(r,e,Pr),r!==null){yt=r;return}if(e=e.sibling,e!==null){yt=e;return}yt=e=t}while(e!==null);St===0&&(St=5)}function Oi(t,e,r){var n=ze,s=Gr.transition;try{Gr.transition=null,ze=1,LD(t,e,r,n)}finally{Gr.transition=s,ze=n}return null}function LD(t,e,r,n){do la();while(ei!==null);if(Pe&6)throw Error(W(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(yR(t,i),t===Ct&&(yt=Ct=null,It=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Tu||(Tu=!0,$k(hd,function(){return la(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Gr.transition,Gr.transition=null;var o=ze;ze=1;var l=Pe;Pe|=4,Zg.current=null,AD(t,r),Tk(r,t),nD(Km),pd=!!Hm,Km=Hm=null,t.current=r,OD(r),lR(),Pe=l,ze=o,Gr.transition=i}else t.current=r;if(Tu&&(Tu=!1,ei=t,Ad=s),i=t.pendingLanes,i===0&&(oi=null),dR(r.stateNode),Sr(t,dt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Td)throw Td=!1,t=hp,hp=null,t;return Ad&1&&t.tag!==0&&la(),i=t.pendingLanes,i&1?t===mp?zl++:(zl=0,mp=t):zl=0,Si(),null}function la(){if(ei!==null){var t=g1(Ad),e=Gr.transition,r=ze;try{if(Gr.transition=null,ze=16>t?16:t,ei===null)var n=!1;else{if(t=ei,ei=null,Ad=0,Pe&6)throw Error(W(331));var s=Pe;for(Pe|=4,ee=t.current;ee!==null;){var i=ee,o=i.child;if(ee.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ee=u;ee!==null;){var d=ee;switch(d.tag){case 0:case 11:case 15:Ul(8,d,i)}var f=d.child;if(f!==null)f.return=d,ee=f;else for(;ee!==null;){d=ee;var h=d.sibling,v=d.return;if(Ck(d),d===u){ee=null;break}if(h!==null){h.return=v,ee=h;break}ee=v}}}var p=i.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}ee=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ee=o;else e:for(;ee!==null;){if(i=ee,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ul(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,ee=w;break e}ee=i.return}}var m=t.current;for(ee=m;ee!==null;){o=ee;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,ee=x;else e:for(o=m;ee!==null;){if(l=ee,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Pf(9,l)}}catch(S){lt(l,l.return,S)}if(l===o){ee=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,ee=_;break e}ee=l.return}}if(Pe=s,Si(),$n&&typeof $n.onPostCommitFiberRoot=="function")try{$n.onPostCommitFiberRoot(bf,t)}catch{}n=!0}return n}finally{ze=r,Gr.transition=e}}return!1}function D0(t,e,r){e=Ma(r,e),e=gk(t,e,1),t=ii(t,e,1),e=or(),t!==null&&(Wc(t,1,e),Sr(t,e))}function lt(t,e,r){if(t.tag===3)D0(t,t,r);else for(;e!==null;){if(e.tag===3){D0(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(oi===null||!oi.has(n))){t=Ma(r,t),t=yk(e,t,1),e=ii(e,t,1),t=or(),e!==null&&(Wc(e,1,t),Sr(e,t));break}}e=e.return}}function FD(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=or(),t.pingedLanes|=t.suspendedLanes&r,Ct===t&&(It&r)===r&&(St===4||St===3&&(It&130023424)===It&&500>dt()-ey?Ji(t,0):Xg|=r),Sr(t,e)}function Lk(t,e){e===0&&(t.mode&1?(e=wu,wu<<=1,!(wu&130023424)&&(wu=4194304)):e=1);var r=or();t=gs(t,e),t!==null&&(Wc(t,e,r),Sr(t,r))}function $D(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Lk(t,r)}function UD(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(W(314))}n!==null&&n.delete(e),Lk(t,r)}var Fk;Fk=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||br.current)xr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return xr=!1,CD(t,e,r);xr=!!(t.flags&131072)}else xr=!1,Ze&&e.flags&1048576&&z1(e,_d,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Ju(t,e),t=e.pendingProps;var s=Oa(e,qt.current);aa(e,r),s=Kg(null,e,n,t,s,r);var i=Gg();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,_r(n)?(i=!0,wd(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,zg(e),s.updater=Ef,e.stateNode=s,s._reactInternals=e,rp(e,n,t,r),e=ip(null,e,n,!0,i,r)):(e.tag=0,Ze&&i&&Ig(e),Xt(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Ju(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=zD(n),t=on(n,t),s){case 0:e=sp(null,e,n,t,r);break e;case 1:e=j0(null,e,n,t,r);break e;case 11:e=_0(null,e,n,t,r);break e;case 14:e=S0(null,e,n,on(n.type,t),r);break e}throw Error(W(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:on(n,s),sp(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:on(n,s),j0(t,e,n,s,r);case 3:e:{if(bk(e),t===null)throw Error(W(387));n=e.pendingProps,i=e.memoizedState,s=i.element,G1(t,e),kd(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Ma(Error(W(423)),e),e=k0(t,e,n,r,s);break e}else if(n!==s){s=Ma(Error(W(424)),e),e=k0(t,e,n,r,s);break e}else for(Dr=si(e.stateNode.containerInfo.firstChild),Ir=e,Ze=!0,dn=null,r=H1(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ra(),n===s){e=ys(t,e,r);break e}Xt(t,e,n,r)}e=e.child}return e;case 5:return Q1(e),t===null&&Xm(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Gm(n,s)?o=null:i!==null&&Gm(n,i)&&(e.flags|=32),wk(t,e),Xt(t,e,o,r),e.child;case 6:return t===null&&Xm(e),null;case 13:return _k(t,e,r);case 4:return Vg(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Da(e,null,n,r):Xt(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:on(n,s),_0(t,e,n,s,r);case 7:return Xt(t,e,e.pendingProps,r),e.child;case 8:return Xt(t,e,e.pendingProps.children,r),e.child;case 12:return Xt(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,He(Sd,n._currentValue),n._currentValue=o,i!==null)if(xn(i.value,o)){if(i.children===s.children&&!br.current){e=ys(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=fs(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),ep(i.return,r,e),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(W(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),ep(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Xt(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,aa(e,r),s=Jr(s),n=n(s),e.flags|=1,Xt(t,e,n,r),e.child;case 14:return n=e.type,s=on(n,e.pendingProps),s=on(n.type,s),S0(t,e,n,s,r);case 15:return vk(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:on(n,s),Ju(t,e),e.tag=1,_r(n)?(t=!0,wd(e)):t=!1,aa(e,r),pk(e,n,s),rp(e,n,s,r),ip(null,e,n,!0,t,r);case 19:return Sk(t,e,r);case 22:return xk(t,e,r)}throw Error(W(156,e.tag))};function $k(t,e){return f1(t,e)}function BD(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kr(t,e,r,n){return new BD(t,e,r,n)}function sy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zD(t){if(typeof t=="function")return sy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Sg)return 11;if(t===jg)return 14}return 2}function li(t,e){var r=t.alternate;return r===null?(r=Kr(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function ed(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")sy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case qo:return Zi(r.children,s,i,e);case _g:o=8,s|=8;break;case Nm:return t=Kr(12,r,e,s|2),t.elementType=Nm,t.lanes=i,t;case Cm:return t=Kr(13,r,e,s),t.elementType=Cm,t.lanes=i,t;case Em:return t=Kr(19,r,e,s),t.elementType=Em,t.lanes=i,t;case Qj:return Af(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Kj:o=10;break e;case Gj:o=9;break e;case Sg:o=11;break e;case jg:o=14;break e;case Ls:o=16,n=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=Kr(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function Zi(t,e,r,n){return t=Kr(7,t,n,e),t.lanes=r,t}function Af(t,e,r,n){return t=Kr(22,t,n,e),t.elementType=Qj,t.lanes=r,t.stateNode={isHidden:!1},t}function $h(t,e,r){return t=Kr(6,t,null,e),t.lanes=r,t}function Uh(t,e,r){return e=Kr(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function VD(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wh(0),this.expirationTimes=wh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wh(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function iy(t,e,r,n,s,i,o,l,c){return t=new VD(t,e,r,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Kr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},zg(i),t}function WD(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wo,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Uk(t){if(!t)return ui;t=t._reactInternals;e:{if(wo(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(_r(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var r=t.type;if(_r(r))return U1(t,r,e)}return e}function Bk(t,e,r,n,s,i,o,l,c){return t=iy(r,n,!0,t,s,i,o,l,c),t.context=Uk(null),r=t.current,n=or(),s=ai(r),i=fs(n,s),i.callback=e??null,ii(r,i,s),t.current.lanes=s,Wc(t,s,n),Sr(t,n),t}function Of(t,e,r,n){var s=e.current,i=or(),o=ai(s);return r=Uk(r),e.context===null?e.context=r:e.pendingContext=r,e=fs(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=ii(s,e,o),t!==null&&(yn(t,s,o,i),Gu(t,s,o)),o}function Rd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function I0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function oy(t,e){I0(t,e),(t=t.alternate)&&I0(t,e)}function qD(){return null}var zk=typeof reportError=="function"?reportError:function(t){console.error(t)};function ay(t){this._internalRoot=t}Rf.prototype.render=ay.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));Of(t,e,null,null)};Rf.prototype.unmount=ay.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;oo(function(){Of(null,t,null,null)}),e[ps]=null}};function Rf(t){this._internalRoot=t}Rf.prototype.unstable_scheduleHydration=function(t){if(t){var e=x1();t={blockedOn:null,target:t,priority:e};for(var r=0;r<$s.length&&e!==0&&e<$s[r].priority;r++);$s.splice(r,0,t),r===0&&b1(t)}};function ly(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Df(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function M0(){}function HD(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Rd(o);i.call(u)}}var o=Bk(e,n,t,0,null,!1,!1,"",M0);return t._reactRootContainer=o,t[ps]=o.current,ic(t.nodeType===8?t.parentNode:t),oo(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Rd(c);l.call(u)}}var c=iy(t,0,!1,null,null,!1,!1,"",M0);return t._reactRootContainer=c,t[ps]=c.current,ic(t.nodeType===8?t.parentNode:t),oo(function(){Of(e,c,r,n)}),c}function If(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=Rd(o);l.call(c)}}Of(e,o,t,s)}else o=HD(r,e,t,s,n);return Rd(o)}y1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=El(e.pendingLanes);r!==0&&(Cg(e,r|1),Sr(e,dt()),!(Pe&6)&&(La=dt()+500,Si()))}break;case 13:oo(function(){var n=gs(t,1);if(n!==null){var s=or();yn(n,t,1,s)}}),oy(t,1)}};Eg=function(t){if(t.tag===13){var e=gs(t,134217728);if(e!==null){var r=or();yn(e,t,134217728,r)}oy(t,134217728)}};v1=function(t){if(t.tag===13){var e=ai(t),r=gs(t,e);if(r!==null){var n=or();yn(r,t,e,n)}oy(t,e)}};x1=function(){return ze};w1=function(t,e){var r=ze;try{return ze=t,e()}finally{ze=r}};Fm=function(t,e,r){switch(e){case"input":if(Am(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=kf(n);if(!s)throw Error(W(90));Jj(n),Am(n,s)}}}break;case"textarea":Xj(t,r);break;case"select":e=r.value,e!=null&&na(t,!!r.multiple,e,!1)}};o1=ty;a1=oo;var KD={usingClientEntryPoint:!1,Events:[Hc,Qo,kf,s1,i1,ty]},yl={findFiberByHostInstance:Fi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},GD={bundleType:yl.bundleType,version:yl.version,rendererPackageName:yl.rendererPackageName,rendererConfig:yl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:js.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=u1(t),t===null?null:t.stateNode},findFiberByHostInstance:yl.findFiberByHostInstance||qD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Au.isDisabled&&Au.supportsFiber)try{bf=Au.inject(GD),$n=Au}catch{}}Ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KD;Ur.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ly(e))throw Error(W(200));return WD(t,e,null,r)};Ur.createRoot=function(t,e){if(!ly(t))throw Error(W(299));var r=!1,n="",s=zk;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=iy(t,1,!1,null,null,r,!1,n,s),t[ps]=e.current,ic(t.nodeType===8?t.parentNode:t),new ay(e)};Ur.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=u1(e),t=t===null?null:t.stateNode,t};Ur.flushSync=function(t){return oo(t)};Ur.hydrate=function(t,e,r){if(!Df(e))throw Error(W(200));return If(null,t,e,!0,r)};Ur.hydrateRoot=function(t,e,r){if(!ly(t))throw Error(W(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=zk;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=Bk(e,null,t,1,r??null,s,!1,i,o),t[ps]=e.current,ic(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new Rf(e)};Ur.render=function(t,e,r){if(!Df(e))throw Error(W(200));return If(null,t,e,!1,r)};Ur.unmountComponentAtNode=function(t){if(!Df(t))throw Error(W(40));return t._reactRootContainer?(oo(function(){If(null,null,t,!1,function(){t._reactRootContainer=null,t[ps]=null})}),!0):!1};Ur.unstable_batchedUpdates=ty;Ur.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Df(r))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return If(t,e,r,!1,n)};Ur.version="18.3.1-next-f1338f8080-20240426";function Vk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Vk)}catch(t){console.error(t)}}Vk(),Vj.exports=Ur;var Za=Vj.exports;const QD=Tj(Za);var Wk,L0=Za;Wk=L0.createRoot,L0.hydrateRoot;function YD(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var r,n,s,i,o=[],l="",c=t.split("/");for(c[0]||c.shift();s=c.shift();)r=s[0],r==="*"?(o.push(r),l+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~n?n:~i?i:s.length)),l+=~n&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(l+=(~n?"?":"")+"\\"+s.substring(i))):l+="/"+s;return{keys:o,pattern:new RegExp("^"+l+(e?"(?=$|/)":"/?$"),"i")}}var qk={exports:{}},Hk={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fa=y;function JD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ZD=typeof Object.is=="function"?Object.is:JD,XD=Fa.useState,eI=Fa.useEffect,tI=Fa.useLayoutEffect,rI=Fa.useDebugValue;function nI(t,e){var r=e(),n=XD({inst:{value:r,getSnapshot:e}}),s=n[0].inst,i=n[1];return tI(function(){s.value=r,s.getSnapshot=e,Bh(s)&&i({inst:s})},[t,r,e]),eI(function(){return Bh(s)&&i({inst:s}),t(function(){Bh(s)&&i({inst:s})})},[t]),rI(r),r}function Bh(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!ZD(t,r)}catch{return!0}}function sI(t,e){return e()}var iI=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?sI:nI;Hk.useSyncExternalStore=Fa.useSyncExternalStore!==void 0?Fa.useSyncExternalStore:iI;qk.exports=Hk;var oI=qk.exports;const aI=Bj.useInsertionEffect,lI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cI=lI?y.useLayoutEffect:y.useEffect,uI=aI||cI,Kk=t=>{const e=y.useRef([t,(...r)=>e[0](...r)]).current;return uI(()=>{e[0]=t}),e[1]},dI="popstate",cy="pushState",uy="replaceState",fI="hashchange",F0=[dI,cy,uy,fI],hI=t=>{for(const e of F0)addEventListener(e,t);return()=>{for(const e of F0)removeEventListener(e,t)}},Gk=(t,e)=>oI.useSyncExternalStore(hI,t,e),mI=()=>location.search,pI=({ssrSearch:t=""}={})=>Gk(mI,()=>t),$0=()=>location.pathname,gI=({ssrPath:t}={})=>Gk($0,t?()=>t:$0),yI=(t,{replace:e=!1,state:r=null}={})=>history[e?uy:cy](r,"",t),vI=(t={})=>[gI(t),yI],U0=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[U0]>"u"){for(const t of[cy,uy]){const e=history[t];history[t]=function(){const r=e.apply(this,arguments),n=new Event(t);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,U0,{value:!0})}const xI=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",Qk=(t="")=>t==="/"?"":t,wI=(t,e)=>t[0]==="~"?t.slice(1):Qk(e)+t,bI=(t="",e)=>xI(B0(Qk(t)),B0(e)),B0=t=>{try{return decodeURI(t)}catch{return t}},Yk={hook:vI,searchHook:pI,parser:YD,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},Jk=y.createContext(Yk),Gc=()=>y.useContext(Jk),Zk={},Xk=y.createContext(Zk),_I=()=>y.useContext(Xk),Mf=t=>{const[e,r]=t.hook(t);return[bI(t.base,e),Kk((n,s)=>r(wI(n,t.base),s))]},Xa=()=>Mf(Gc()),eN=(t,e,r,n)=>{const{pattern:s,keys:i}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",n),o=s.exec(r)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const u=i!==!1?Object.fromEntries(i.map((f,h)=>[f,c[h]])):o.groups;let d={...c};return u&&Object.assign(d,u),d})(),...n?[l]:[]]:[!1,null]},SI=({children:t,...e})=>{var d,f;const r=Gc(),n=e.hook?Yk:r;let s=n;const[i,o]=((d=e.ssrPath)==null?void 0:d.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=i),e.hrefs=e.hrefs??((f=e.hook)==null?void 0:f.hrefs);let l=y.useRef({}),c=l.current,u=c;for(let h in n){const v=h==="base"?n[h]+(e[h]||""):e[h]||n[h];c===u&&v!==u[h]&&(l.current=u={...u}),u[h]=v,v!==n[h]&&(s=u)}return y.createElement(Jk.Provider,{value:s,children:t})},z0=({children:t,component:e},r)=>e?y.createElement(e,{params:r}):typeof t=="function"?t(r):t,jI=t=>{let e=y.useRef(Zk),r=e.current;for(const n in t)t[n]!==r[n]&&(r=t);return Object.keys(t).length===0&&(r=t),e.current=r},kt=({path:t,nest:e,match:r,...n})=>{const s=Gc(),[i]=Mf(s),[o,l,c]=r??eN(s.parser,t,i,e),u=jI({..._I(),...l});if(!o)return null;const d=c?y.createElement(SI,{base:c},z0(n,u)):z0(n,u);return y.createElement(Xk.Provider,{value:u,children:d})},Mt=y.forwardRef((t,e)=>{const r=Gc(),[n,s]=Mf(r),{to:i="",href:o=i,onClick:l,asChild:c,children:u,className:d,replace:f,state:h,...v}=t,p=Kk(b=>{b.ctrlKey||b.metaKey||b.altKey||b.shiftKey||b.button!==0||(l==null||l(b),b.defaultPrevented||(b.preventDefault(),s(o,t)))}),g=r.hrefs(o[0]==="~"?o.slice(1):r.base+o,r);return c&&y.isValidElement(u)?y.cloneElement(u,{onClick:p,href:g}):y.createElement("a",{...v,onClick:p,href:g,className:d!=null&&d.call?d(n===o):d,children:u,ref:e})}),tN=t=>Array.isArray(t)?t.flatMap(e=>tN(e&&e.type===y.Fragment?e.props.children:e)):[t],kI=({children:t,location:e})=>{const r=Gc(),[n]=Mf(r);for(const s of tN(t)){let i=0;if(y.isValidElement(s)&&(i=eN(r.parser,s.props.path,e||n,s.props.nest))[0])return y.cloneElement(s,{match:i})}return null};var el=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ao=typeof window>"u"||"Deno"in globalThis;function Vr(){}function NI(t,e){return typeof t=="function"?t(e):t}function yp(t){return typeof t=="number"&&t>=0&&t!==1/0}function rN(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ca(t,e){return typeof t=="function"?t(e):t}function fn(t,e){return typeof t=="function"?t(e):t}function V0(t,e){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:l}=t;if(o){if(n){if(e.queryHash!==dy(o,e.options))return!1}else if(!mc(e.queryKey,o))return!1}if(r!=="all"){const c=e.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||i&&!i(e))}function W0(t,e){const{exact:r,status:n,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(r){if(lo(e.options.mutationKey)!==lo(i))return!1}else if(!mc(e.options.mutationKey,i))return!1}return!(n&&e.state.status!==n||s&&!s(e))}function dy(t,e){return((e==null?void 0:e.queryKeyHashFn)||lo)(t)}function lo(t){return JSON.stringify(t,(e,r)=>vp(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function mc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!mc(t[r],e[r])):!1}function nN(t,e){if(t===e)return t;const r=q0(t)&&q0(e);if(r||vp(t)&&vp(e)){const n=r?t:Object.keys(t),s=n.length,i=r?e:Object.keys(e),o=i.length,l=r?[]:{};let c=0;for(let u=0;u<o;u++){const d=r?u:i[u];(!r&&n.includes(d)||r)&&t[d]===void 0&&e[d]===void 0?(l[d]=void 0,c++):(l[d]=nN(t[d],e[d]),l[d]===t[d]&&t[d]!==void 0&&c++)}return s===o&&c===s?t:l}return e}function Dd(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function q0(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function vp(t){if(!H0(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!H0(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function H0(t){return Object.prototype.toString.call(t)==="[object Object]"}function CI(t){return new Promise(e=>{setTimeout(e,t)})}function xp(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?nN(t,e):e}function EI(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function PI(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var fy=Symbol();function sN(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===fy?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Wi,Ws,va,Fw,TI=(Fw=class extends el{constructor(){super();le(this,Wi);le(this,Ws);le(this,va);J(this,va,e=>{if(!ao&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){C(this,Ws)||this.setEventListener(C(this,va))}onUnsubscribe(){var e;this.hasListeners()||((e=C(this,Ws))==null||e.call(this),J(this,Ws,void 0))}setEventListener(e){var r;J(this,va,e),(r=C(this,Ws))==null||r.call(this),J(this,Ws,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){C(this,Wi)!==e&&(J(this,Wi,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof C(this,Wi)=="boolean"?C(this,Wi):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Wi=new WeakMap,Ws=new WeakMap,va=new WeakMap,Fw),hy=new TI,xa,qs,wa,$w,AI=($w=class extends el{constructor(){super();le(this,xa,!0);le(this,qs);le(this,wa);J(this,wa,e=>{if(!ao&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){C(this,qs)||this.setEventListener(C(this,wa))}onUnsubscribe(){var e;this.hasListeners()||((e=C(this,qs))==null||e.call(this),J(this,qs,void 0))}setEventListener(e){var r;J(this,wa,e),(r=C(this,qs))==null||r.call(this),J(this,qs,e(this.setOnline.bind(this)))}setOnline(e){C(this,xa)!==e&&(J(this,xa,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return C(this,xa)}},xa=new WeakMap,qs=new WeakMap,wa=new WeakMap,$w),Id=new AI;function wp(){let t,e;const r=new Promise((s,i)=>{t=s,e=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),t(s)},r.reject=s=>{n({status:"rejected",reason:s}),e(s)},r}function OI(t){return Math.min(1e3*2**t,3e4)}function iN(t){return(t??"online")==="online"?Id.isOnline():!0}var oN=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function zh(t){return t instanceof oN}function aN(t){let e=!1,r=0,n=!1,s;const i=wp(),o=g=>{var b;n||(h(new oN(g)),(b=t.abort)==null||b.call(t))},l=()=>{e=!0},c=()=>{e=!1},u=()=>hy.isFocused()&&(t.networkMode==="always"||Id.isOnline())&&t.canRun(),d=()=>iN(t.networkMode)&&t.canRun(),f=g=>{var b;n||(n=!0,(b=t.onSuccess)==null||b.call(t,g),s==null||s(),i.resolve(g))},h=g=>{var b;n||(n=!0,(b=t.onError)==null||b.call(t,g),s==null||s(),i.reject(g))},v=()=>new Promise(g=>{var b;s=w=>{(n||u())&&g(w)},(b=t.onPause)==null||b.call(t)}).then(()=>{var g;s=void 0,n||(g=t.onContinue)==null||g.call(t)}),p=()=>{if(n)return;let g;const b=r===0?t.initialPromise:void 0;try{g=b??t.fn()}catch(w){g=Promise.reject(w)}Promise.resolve(g).then(f).catch(w=>{var k;if(n)return;const m=t.retry??(ao?0:3),x=t.retryDelay??OI,_=typeof x=="function"?x(r,w):x,S=m===!0||typeof m=="number"&&r<m||typeof m=="function"&&m(r,w);if(e||!S){h(w);return}r++,(k=t.onFail)==null||k.call(t,r,w),CI(_).then(()=>u()?void 0:v()).then(()=>{e?h(w):p()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?p():v().then(p),i)}}function RI(){let t=[],e=0,r=l=>{l()},n=l=>{l()},s=l=>setTimeout(l,0);const i=l=>{e?t.push(l):s(()=>{r(l)})},o=()=>{const l=t;t=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var _t=RI(),qi,Uw,lN=(Uw=class{constructor(){le(this,qi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),yp(this.gcTime)&&J(this,qi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ao?1/0:5*60*1e3))}clearGcTimeout(){C(this,qi)&&(clearTimeout(C(this,qi)),J(this,qi,void 0))}},qi=new WeakMap,Uw),ba,_a,zr,Vt,$c,Hi,an,es,Bw,DI=(Bw=class extends lN{constructor(e){super();le(this,an);le(this,ba);le(this,_a);le(this,zr);le(this,Vt);le(this,$c);le(this,Hi);J(this,Hi,!1),J(this,$c,e.defaultOptions),this.setOptions(e.options),this.observers=[],J(this,zr,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,J(this,ba,II(this.options)),this.state=e.state??C(this,ba),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=C(this,Vt))==null?void 0:e.promise}setOptions(e){this.options={...C(this,$c),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&C(this,zr).remove(this)}setData(e,r){const n=xp(this.state.data,e,this.options);return we(this,an,es).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){we(this,an,es).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,s;const r=(n=C(this,Vt))==null?void 0:n.promise;return(s=C(this,Vt))==null||s.cancel(e),r?r.then(Vr).catch(Vr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(C(this,ba))}isActive(){return this.observers.some(e=>fn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===fy||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!rN(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=C(this,Vt))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=C(this,Vt))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),C(this,zr).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(C(this,Vt)&&(C(this,Hi)?C(this,Vt).cancel({revert:!0}):C(this,Vt).cancelRetry()),this.scheduleGc()),C(this,zr).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||we(this,an,es).call(this,{type:"invalidate"})}fetch(e,r){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(C(this,Vt))return C(this,Vt).continueRetry(),C(this,Vt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(J(this,Hi,!0),n.signal)})},i=()=>{const f=sN(this.options,r),h={queryKey:this.queryKey,meta:this.meta};return s(h),J(this,Hi,!1),this.options.persister?this.options.persister(f,h,this):f(h)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(o),(c=this.options.behavior)==null||c.onFetch(o,this),J(this,_a,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&we(this,an,es).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const l=f=>{var h,v,p,g;zh(f)&&f.silent||we(this,an,es).call(this,{type:"error",error:f}),zh(f)||((v=(h=C(this,zr).config).onError)==null||v.call(h,f,this),(g=(p=C(this,zr).config).onSettled)==null||g.call(p,this.state.data,f,this)),this.scheduleGc()};return J(this,Vt,aN({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var h,v,p,g;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(b){l(b);return}(v=(h=C(this,zr).config).onSuccess)==null||v.call(h,f,this),(g=(p=C(this,zr).config).onSettled)==null||g.call(p,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,h)=>{we(this,an,es).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{we(this,an,es).call(this,{type:"pause"})},onContinue:()=>{we(this,an,es).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),C(this,Vt).start()}},ba=new WeakMap,_a=new WeakMap,zr=new WeakMap,Vt=new WeakMap,$c=new WeakMap,Hi=new WeakMap,an=new WeakSet,es=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...cN(n.data,this.options),fetchMeta:e.meta??null};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return zh(s)&&s.revert&&C(this,_a)?{...C(this,_a),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),_t.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),C(this,zr).notify({query:this,type:"updated",action:e})})},Bw);function cN(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:iN(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function II(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var An,zw,MI=(zw=class extends el{constructor(e={}){super();le(this,An);this.config=e,J(this,An,new Map)}build(e,r,n){const s=r.queryKey,i=r.queryHash??dy(s,r);let o=this.get(i);return o||(o=new DI({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){C(this,An).has(e.queryHash)||(C(this,An).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=C(this,An).get(e.queryHash);r&&(e.destroy(),r===e&&C(this,An).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){_t.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return C(this,An).get(e)}getAll(){return[...C(this,An).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>V0(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>V0(e,n)):r}notify(e){_t.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){_t.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){_t.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},An=new WeakMap,zw),On,Yt,Ki,Rn,Ds,Vw,LI=(Vw=class extends lN{constructor(e){super();le(this,Rn);le(this,On);le(this,Yt);le(this,Ki);this.mutationId=e.mutationId,J(this,Yt,e.mutationCache),J(this,On,[]),this.state=e.state||uN(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){C(this,On).includes(e)||(C(this,On).push(e),this.clearGcTimeout(),C(this,Yt).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){J(this,On,C(this,On).filter(r=>r!==e)),this.scheduleGc(),C(this,Yt).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){C(this,On).length||(this.state.status==="pending"?this.scheduleGc():C(this,Yt).remove(this))}continue(){var e;return((e=C(this,Ki))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,i,o,l,c,u,d,f,h,v,p,g,b,w,m,x,_,S,k,j;J(this,Ki,aN({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(E,T)=>{we(this,Rn,Ds).call(this,{type:"failed",failureCount:E,error:T})},onPause:()=>{we(this,Rn,Ds).call(this,{type:"pause"})},onContinue:()=>{we(this,Rn,Ds).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>C(this,Yt).canRun(this)}));const r=this.state.status==="pending",n=!C(this,Ki).canStart();try{if(!r){we(this,Rn,Ds).call(this,{type:"pending",variables:e,isPaused:n}),await((i=(s=C(this,Yt).config).onMutate)==null?void 0:i.call(s,e,this));const T=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,e));T!==this.state.context&&we(this,Rn,Ds).call(this,{type:"pending",context:T,variables:e,isPaused:n})}const E=await C(this,Ki).start();return await((u=(c=C(this,Yt).config).onSuccess)==null?void 0:u.call(c,E,e,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,E,e,this.state.context)),await((v=(h=C(this,Yt).config).onSettled)==null?void 0:v.call(h,E,null,this.state.variables,this.state.context,this)),await((g=(p=this.options).onSettled)==null?void 0:g.call(p,E,null,e,this.state.context)),we(this,Rn,Ds).call(this,{type:"success",data:E}),E}catch(E){try{throw await((w=(b=C(this,Yt).config).onError)==null?void 0:w.call(b,E,e,this.state.context,this)),await((x=(m=this.options).onError)==null?void 0:x.call(m,E,e,this.state.context)),await((S=(_=C(this,Yt).config).onSettled)==null?void 0:S.call(_,void 0,E,this.state.variables,this.state.context,this)),await((j=(k=this.options).onSettled)==null?void 0:j.call(k,void 0,E,e,this.state.context)),E}finally{we(this,Rn,Ds).call(this,{type:"error",error:E})}}finally{C(this,Yt).runNext(this)}}},On=new WeakMap,Yt=new WeakMap,Ki=new WeakMap,Rn=new WeakSet,Ds=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),_t.batch(()=>{C(this,On).forEach(n=>{n.onMutationUpdate(e)}),C(this,Yt).notify({mutation:this,type:"updated",action:e})})},Vw);function uN(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Er,Uc,Ww,FI=(Ww=class extends el{constructor(e={}){super();le(this,Er);le(this,Uc);this.config=e,J(this,Er,new Map),J(this,Uc,Date.now())}build(e,r,n){const s=new LI({mutationCache:this,mutationId:++mu(this,Uc)._,options:e.defaultMutationOptions(r),state:n});return this.add(s),s}add(e){const r=Ou(e),n=C(this,Er).get(r)??[];n.push(e),C(this,Er).set(r,n),this.notify({type:"added",mutation:e})}remove(e){var n;const r=Ou(e);if(C(this,Er).has(r)){const s=(n=C(this,Er).get(r))==null?void 0:n.filter(i=>i!==e);s&&(s.length===0?C(this,Er).delete(r):C(this,Er).set(r,s))}this.notify({type:"removed",mutation:e})}canRun(e){var n;const r=(n=C(this,Er).get(Ou(e)))==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===e}runNext(e){var n;const r=(n=C(this,Er).get(Ou(e)))==null?void 0:n.find(s=>s!==e&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){_t.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...C(this,Er).values()].flat()}find(e){const r={exact:!0,...e};return this.getAll().find(n=>W0(r,n))}findAll(e={}){return this.getAll().filter(r=>W0(e,r))}notify(e){_t.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return _t.batch(()=>Promise.all(e.map(r=>r.continue().catch(Vr))))}},Er=new WeakMap,Uc=new WeakMap,Ww);function Ou(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function K0(t){return{onFetch:(e,r)=>{var d,f,h,v,p;const n=e.options,s=(h=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((v=e.state.data)==null?void 0:v.pages)||[],o=((p=e.state.data)==null?void 0:p.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const b=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},w=sN(e.options,e.fetchOptions),m=async(x,_,S)=>{if(g)return Promise.reject();if(_==null&&x.pages.length)return Promise.resolve(x);const k={queryKey:e.queryKey,pageParam:_,direction:S?"backward":"forward",meta:e.options.meta};b(k);const j=await w(k),{maxPages:E}=e.options,T=S?PI:EI;return{pages:T(x.pages,j,E),pageParams:T(x.pageParams,_,E)}};if(s&&i.length){const x=s==="backward",_=x?$I:G0,S={pages:i,pageParams:o},k=_(n,S);l=await m(S,k,x)}else{const x=t??i.length;do{const _=c===0?o[0]??n.initialPageParam:G0(n,l);if(c>0&&_==null)break;l=await m(l,_),c++}while(c<x)}return l};e.options.persister?e.fetchFn=()=>{var g,b;return(b=(g=e.options).persister)==null?void 0:b.call(g,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=u}}}function G0(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function $I(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var at,Hs,Ks,Sa,ja,Gs,ka,Na,qw,UI=(qw=class{constructor(t={}){le(this,at);le(this,Hs);le(this,Ks);le(this,Sa);le(this,ja);le(this,Gs);le(this,ka);le(this,Na);J(this,at,t.queryCache||new MI),J(this,Hs,t.mutationCache||new FI),J(this,Ks,t.defaultOptions||{}),J(this,Sa,new Map),J(this,ja,new Map),J(this,Gs,0)}mount(){mu(this,Gs)._++,C(this,Gs)===1&&(J(this,ka,hy.subscribe(async t=>{t&&(await this.resumePausedMutations(),C(this,at).onFocus())})),J(this,Na,Id.subscribe(async t=>{t&&(await this.resumePausedMutations(),C(this,at).onOnline())})))}unmount(){var t,e;mu(this,Gs)._--,C(this,Gs)===0&&((t=C(this,ka))==null||t.call(this),J(this,ka,void 0),(e=C(this,Na))==null||e.call(this),J(this,Na,void 0))}isFetching(t){return C(this,at).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return C(this,Hs).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=C(this,at).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const r=this.defaultQueryOptions(t),n=C(this,at).build(this,r);return t.revalidateIfStale&&n.isStaleByTime(ca(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(e)}}getQueriesData(t){return C(this,at).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),s=C(this,at).get(n.queryHash),i=s==null?void 0:s.state.data,o=NI(e,i);if(o!==void 0)return C(this,at).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return _t.batch(()=>C(this,at).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=C(this,at).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=C(this,at);_t.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=C(this,at),n={type:"active",...t};return _t.batch(()=>(r.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(n,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},n=_t.batch(()=>C(this,at).findAll(t).map(s=>s.cancel(r)));return Promise.all(n).then(Vr).catch(Vr)}invalidateQueries(t={},e={}){return _t.batch(()=>{if(C(this,at).findAll(t).forEach(n=>{n.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},n=_t.batch(()=>C(this,at).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(Vr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Vr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=C(this,at).build(this,e);return r.isStaleByTime(ca(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Vr).catch(Vr)}fetchInfiniteQuery(t){return t.behavior=K0(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Vr).catch(Vr)}ensureInfiniteQueryData(t){return t.behavior=K0(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Id.isOnline()?C(this,Hs).resumePausedMutations():Promise.resolve()}getQueryCache(){return C(this,at)}getMutationCache(){return C(this,Hs)}getDefaultOptions(){return C(this,Ks)}setDefaultOptions(t){J(this,Ks,t)}setQueryDefaults(t,e){C(this,Sa).set(lo(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...C(this,Sa).values()];let r={};return e.forEach(n=>{mc(t,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(t,e){C(this,ja).set(lo(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...C(this,ja).values()];let r={};return e.forEach(n=>{mc(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...C(this,Ks).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=dy(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===fy&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...C(this,Ks).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){C(this,at).clear(),C(this,Hs).clear()}},at=new WeakMap,Hs=new WeakMap,Ks=new WeakMap,Sa=new WeakMap,ja=new WeakMap,Gs=new WeakMap,ka=new WeakMap,Na=new WeakMap,qw),pr,Ne,Bc,Jt,Gi,Ca,Qs,Dn,zc,Ea,Pa,Qi,Yi,Ys,Ta,Ue,Tl,bp,_p,Sp,jp,kp,Np,Cp,dN,Hw,BI=(Hw=class extends el{constructor(e,r){super();le(this,Ue);le(this,pr);le(this,Ne);le(this,Bc);le(this,Jt);le(this,Gi);le(this,Ca);le(this,Qs);le(this,Dn);le(this,zc);le(this,Ea);le(this,Pa);le(this,Qi);le(this,Yi);le(this,Ys);le(this,Ta,new Set);this.options=r,J(this,pr,e),J(this,Dn,null),J(this,Qs,wp()),this.options.experimental_prefetchInRender||C(this,Qs).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(C(this,Ne).addObserver(this),Q0(C(this,Ne),this.options)?we(this,Ue,Tl).call(this):this.updateResult(),we(this,Ue,jp).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ep(C(this,Ne),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ep(C(this,Ne),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,we(this,Ue,kp).call(this),we(this,Ue,Np).call(this),C(this,Ne).removeObserver(this)}setOptions(e,r){const n=this.options,s=C(this,Ne);if(this.options=C(this,pr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof fn(this.options.enabled,C(this,Ne))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");we(this,Ue,Cp).call(this),C(this,Ne).setOptions(this.options),n._defaulted&&!Dd(this.options,n)&&C(this,pr).getQueryCache().notify({type:"observerOptionsUpdated",query:C(this,Ne),observer:this});const i=this.hasListeners();i&&Y0(C(this,Ne),s,this.options,n)&&we(this,Ue,Tl).call(this),this.updateResult(r),i&&(C(this,Ne)!==s||fn(this.options.enabled,C(this,Ne))!==fn(n.enabled,C(this,Ne))||ca(this.options.staleTime,C(this,Ne))!==ca(n.staleTime,C(this,Ne)))&&we(this,Ue,bp).call(this);const o=we(this,Ue,_p).call(this);i&&(C(this,Ne)!==s||fn(this.options.enabled,C(this,Ne))!==fn(n.enabled,C(this,Ne))||o!==C(this,Ys))&&we(this,Ue,Sp).call(this,o)}getOptimisticResult(e){const r=C(this,pr).getQueryCache().build(C(this,pr),e),n=this.createResult(r,e);return VI(this,n)&&(J(this,Jt,n),J(this,Ca,this.options),J(this,Gi,C(this,Ne).state)),n}getCurrentResult(){return C(this,Jt)}trackResult(e,r){const n={};return Object.keys(e).forEach(s=>{Object.defineProperty(n,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),r==null||r(s),e[s])})}),n}trackProp(e){C(this,Ta).add(e)}getCurrentQuery(){return C(this,Ne)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=C(this,pr).defaultQueryOptions(e),n=C(this,pr).getQueryCache().build(C(this,pr),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return we(this,Ue,Tl).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),C(this,Jt)))}createResult(e,r){var E;const n=C(this,Ne),s=this.options,i=C(this,Jt),o=C(this,Gi),l=C(this,Ca),u=e!==n?e.state:C(this,Bc),{state:d}=e;let f={...d},h=!1,v;if(r._optimisticResults){const T=this.hasListeners(),I=!T&&Q0(e,r),q=T&&Y0(e,n,r,s);(I||q)&&(f={...f,...cN(d.data,e.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:p,errorUpdatedAt:g,status:b}=f;if(r.select&&f.data!==void 0)if(i&&f.data===(o==null?void 0:o.data)&&r.select===C(this,zc))v=C(this,Ea);else try{J(this,zc,r.select),v=r.select(f.data),v=xp(i==null?void 0:i.data,v,r),J(this,Ea,v),J(this,Dn,null)}catch(T){J(this,Dn,T)}else v=f.data;if(r.placeholderData!==void 0&&v===void 0&&b==="pending"){let T;if(i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))T=i.data;else if(T=typeof r.placeholderData=="function"?r.placeholderData((E=C(this,Pa))==null?void 0:E.state.data,C(this,Pa)):r.placeholderData,r.select&&T!==void 0)try{T=r.select(T),J(this,Dn,null)}catch(I){J(this,Dn,I)}T!==void 0&&(b="success",v=xp(i==null?void 0:i.data,T,r),h=!0)}C(this,Dn)&&(p=C(this,Dn),v=C(this,Ea),g=Date.now(),b="error");const w=f.fetchStatus==="fetching",m=b==="pending",x=b==="error",_=m&&w,S=v!==void 0,j={status:b,fetchStatus:f.fetchStatus,isPending:m,isSuccess:b==="success",isError:x,isInitialLoading:_,isLoading:_,data:v,dataUpdatedAt:f.dataUpdatedAt,error:p,errorUpdatedAt:g,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:w,isRefetching:w&&!m,isLoadingError:x&&!S,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:x&&S,isStale:my(e,r),refetch:this.refetch,promise:C(this,Qs)};if(this.options.experimental_prefetchInRender){const T=L=>{j.status==="error"?L.reject(j.error):j.data!==void 0&&L.resolve(j.data)},I=()=>{const L=J(this,Qs,j.promise=wp());T(L)},q=C(this,Qs);switch(q.status){case"pending":e.queryHash===n.queryHash&&T(q);break;case"fulfilled":(j.status==="error"||j.data!==q.value)&&I();break;case"rejected":(j.status!=="error"||j.error!==q.reason)&&I();break}}return j}updateResult(e){const r=C(this,Jt),n=this.createResult(C(this,Ne),this.options);if(J(this,Gi,C(this,Ne).state),J(this,Ca,this.options),C(this,Gi).data!==void 0&&J(this,Pa,C(this,Ne)),Dd(n,r))return;J(this,Jt,n);const s={},i=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!C(this,Ta).size)return!0;const c=new Set(l??C(this,Ta));return this.options.throwOnError&&c.add("error"),Object.keys(C(this,Jt)).some(u=>{const d=u;return C(this,Jt)[d]!==r[d]&&c.has(d)})};(e==null?void 0:e.listeners)!==!1&&i()&&(s.listeners=!0),we(this,Ue,dN).call(this,{...s,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&we(this,Ue,jp).call(this)}},pr=new WeakMap,Ne=new WeakMap,Bc=new WeakMap,Jt=new WeakMap,Gi=new WeakMap,Ca=new WeakMap,Qs=new WeakMap,Dn=new WeakMap,zc=new WeakMap,Ea=new WeakMap,Pa=new WeakMap,Qi=new WeakMap,Yi=new WeakMap,Ys=new WeakMap,Ta=new WeakMap,Ue=new WeakSet,Tl=function(e){we(this,Ue,Cp).call(this);let r=C(this,Ne).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(Vr)),r},bp=function(){we(this,Ue,kp).call(this);const e=ca(this.options.staleTime,C(this,Ne));if(ao||C(this,Jt).isStale||!yp(e))return;const n=rN(C(this,Jt).dataUpdatedAt,e)+1;J(this,Qi,setTimeout(()=>{C(this,Jt).isStale||this.updateResult()},n))},_p=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(C(this,Ne)):this.options.refetchInterval)??!1},Sp=function(e){we(this,Ue,Np).call(this),J(this,Ys,e),!(ao||fn(this.options.enabled,C(this,Ne))===!1||!yp(C(this,Ys))||C(this,Ys)===0)&&J(this,Yi,setInterval(()=>{(this.options.refetchIntervalInBackground||hy.isFocused())&&we(this,Ue,Tl).call(this)},C(this,Ys)))},jp=function(){we(this,Ue,bp).call(this),we(this,Ue,Sp).call(this,we(this,Ue,_p).call(this))},kp=function(){C(this,Qi)&&(clearTimeout(C(this,Qi)),J(this,Qi,void 0))},Np=function(){C(this,Yi)&&(clearInterval(C(this,Yi)),J(this,Yi,void 0))},Cp=function(){const e=C(this,pr).getQueryCache().build(C(this,pr),this.options);if(e===C(this,Ne))return;const r=C(this,Ne);J(this,Ne,e),J(this,Bc,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},dN=function(e){_t.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(C(this,Jt))}),C(this,pr).getQueryCache().notify({query:C(this,Ne),type:"observerResultsUpdated"})})},Hw);function zI(t,e){return fn(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Q0(t,e){return zI(t,e)||t.state.data!==void 0&&Ep(t,e,e.refetchOnMount)}function Ep(t,e,r){if(fn(e.enabled,t)!==!1){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&my(t,e)}return!1}function Y0(t,e,r,n){return(t!==e||fn(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&my(t,r)}function my(t,e){return fn(e.enabled,t)!==!1&&t.isStaleByTime(ca(e.staleTime,t))}function VI(t,e){return!Dd(t.getCurrentResult(),e)}var Js,Zs,gr,os,hs,td,Pp,Kw,WI=(Kw=class extends el{constructor(r,n){super();le(this,hs);le(this,Js);le(this,Zs);le(this,gr);le(this,os);J(this,Js,r),this.setOptions(n),this.bindMethods(),we(this,hs,td).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=C(this,Js).defaultMutationOptions(r),Dd(this.options,n)||C(this,Js).getMutationCache().notify({type:"observerOptionsUpdated",mutation:C(this,gr),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&lo(n.mutationKey)!==lo(this.options.mutationKey)?this.reset():((s=C(this,gr))==null?void 0:s.state.status)==="pending"&&C(this,gr).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=C(this,gr))==null||r.removeObserver(this)}onMutationUpdate(r){we(this,hs,td).call(this),we(this,hs,Pp).call(this,r)}getCurrentResult(){return C(this,Zs)}reset(){var r;(r=C(this,gr))==null||r.removeObserver(this),J(this,gr,void 0),we(this,hs,td).call(this),we(this,hs,Pp).call(this)}mutate(r,n){var s;return J(this,os,n),(s=C(this,gr))==null||s.removeObserver(this),J(this,gr,C(this,Js).getMutationCache().build(C(this,Js),this.options)),C(this,gr).addObserver(this),C(this,gr).execute(r)}},Js=new WeakMap,Zs=new WeakMap,gr=new WeakMap,os=new WeakMap,hs=new WeakSet,td=function(){var n;const r=((n=C(this,gr))==null?void 0:n.state)??uN();J(this,Zs,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Pp=function(r){_t.batch(()=>{var n,s,i,o,l,c,u,d;if(C(this,os)&&this.hasListeners()){const f=C(this,Zs).variables,h=C(this,Zs).context;(r==null?void 0:r.type)==="success"?((s=(n=C(this,os)).onSuccess)==null||s.call(n,r.data,f,h),(o=(i=C(this,os)).onSettled)==null||o.call(i,r.data,null,f,h)):(r==null?void 0:r.type)==="error"&&((c=(l=C(this,os)).onError)==null||c.call(l,r.error,f,h),(d=(u=C(this,os)).onSettled)==null||d.call(u,void 0,r.error,f,h))}this.listeners.forEach(f=>{f(C(this,Zs))})})},Kw),fN=y.createContext(void 0),ks=t=>{const e=y.useContext(fN);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},qI=({client:t,children:e})=>(y.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),a.jsx(fN.Provider,{value:t,children:e})),hN=y.createContext(!1),HI=()=>y.useContext(hN);hN.Provider;function KI(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var GI=y.createContext(KI()),QI=()=>y.useContext(GI);function mN(t,e){return typeof t=="function"?t(...e):!!t}function Tp(){}var YI=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},JI=t=>{y.useEffect(()=>{t.clearReset()},[t])},ZI=({result:t,errorResetBoundary:e,throwOnError:r,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&mN(r,[t.error,n]),XI=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},eM=(t,e)=>t.isLoading&&t.isFetching&&!e,tM=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,J0=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function rM(t,e,r){var d,f,h,v,p;const n=ks(),s=HI(),i=QI(),o=n.defaultQueryOptions(t);(f=(d=n.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||f.call(d,o),o._optimisticResults=s?"isRestoring":"optimistic",XI(o),YI(o,i),JI(i);const l=!n.getQueryCache().get(o.queryHash),[c]=y.useState(()=>new e(n,o)),u=c.getOptimisticResult(o);if(y.useSyncExternalStore(y.useCallback(g=>{const b=s?Tp:c.subscribe(_t.batchCalls(g));return c.updateResult(),b},[c,s]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),y.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),tM(o,u))throw J0(o,c,i);if(ZI({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash)}))throw u.error;if((v=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||v.call(h,o,u),o.experimental_prefetchInRender&&!ao&&eM(u,s)){const g=l?J0(o,c,i):(p=n.getQueryCache().get(o.queryHash))==null?void 0:p.promise;g==null||g.catch(Tp).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function Xe(t,e){return rM(t,BI)}function We(t,e){const r=ks(),[n]=y.useState(()=>new WI(r,t));y.useEffect(()=>{n.setOptions(t)},[n,t]);const s=y.useSyncExternalStore(y.useCallback(o=>n.subscribe(_t.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=y.useCallback((o,l)=>{n.mutate(o,l).catch(Tp)},[n]);if(s.error&&mN(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}const nM="modulepreload",sM=function(t){return"/"+t},Z0={},tl=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=sM(c),c in Z0)return;Z0[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":nM,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,v)=>{f.addEventListener("load",h),f.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},iM=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>tl(async()=>{const{default:n}=await Promise.resolve().then(()=>rl);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class py extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class X0 extends py{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class ex extends py{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class tx extends py{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ap;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Ap||(Ap={}));var oM=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class aM{constructor(e,{headers:r={},customFetch:n,region:s=Ap.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=iM(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return oM(this,arguments,void 0,function*(r,n={}){var s;try{const{headers:i,method:o,body:l,signal:c}=n;let u={},{region:d}=n;d||(d=this.region);const f=new URL(`${this.url}/${r}`);d&&d!=="any"&&(u["x-region"]=d,f.searchParams.set("forceFunctionRegion",d));let h;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",h=l):typeof l=="string"?(u["Content-Type"]="text/plain",h=l):typeof FormData<"u"&&l instanceof FormData?h=l:(u["Content-Type"]="application/json",h=JSON.stringify(l)));const v=yield this.fetch(f.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:h,signal:c}).catch(w=>{throw w.name==="AbortError"?w:new X0(w)}),p=v.headers.get("x-relay-error");if(p&&p==="true")throw new ex(v);if(!v.ok)throw new tx(v);let g=((s=v.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),b;return g==="application/json"?b=yield v.json():g==="application/octet-stream"?b=yield v.blob():g==="text/event-stream"?b=v:g==="multipart/form-data"?b=yield v.formData():b=yield v.text(),{data:b,error:null,response:v}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new X0(i)}:{data:null,error:i,response:i instanceof tx||i instanceof ex?i.context:void 0}}})}}var vr={},gy={},Lf={},Qc={},Ff={},$f={},lM=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},$a=lM();const cM=$a.fetch,pN=$a.fetch.bind($a),gN=$a.Headers,uM=$a.Request,dM=$a.Response,rl=Object.freeze(Object.defineProperty({__proto__:null,Headers:gN,Request:uM,Response:dM,default:pN,fetch:cM},Symbol.toStringTag,{value:"Module"})),fM=SO(rl);var Uf={};Object.defineProperty(Uf,"__esModule",{value:!0});let hM=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Uf.default=hM;var yN=Yr&&Yr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($f,"__esModule",{value:!0});const mM=yN(fM),pM=yN(Uf);let gM=class{constructor(e){var r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(r=e.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=mM.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=new Headers(this.headers),this.headers.set(e,r),this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c,u;let d=null,f=null,h=null,v=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const m=await i.text();m===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?f=m:f=JSON.parse(m))}const b=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),w=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");b&&w&&w.length>1&&(h=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(d={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,v=406,p="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const b=await i.text();try{d=JSON.parse(b),Array.isArray(d)&&i.status===404&&(f=[],d=null,v=200,p="OK")}catch{i.status===404&&b===""?(v=204,p="No Content"):d={message:b}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,v=200,p="OK"),d&&this.shouldThrowOnError)throw new pM.default(d)}return{error:d,data:f,count:h,status:v,statusText:p}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}returns(){return this}overrideTypes(){return this}};$f.default=gM;var yM=Yr&&Yr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ff,"__esModule",{value:!0});const vM=yM($f);let xM=class extends vM.default{select(e){let r=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const c=[e?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Ff.default=xM;var wM=Yr&&Yr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qc,"__esModule",{value:!0});const bM=wM(Ff);let _M=class extends bM.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};Qc.default=_M;var SM=Yr&&Yr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Lf,"__esModule",{value:!0});const vl=SM(Qc);let jM=class{constructor(e,{headers:r={},schema:n,fetch:s}){this.url=e,this.headers=new Headers(r),this.schema=n,this.fetch=s}select(e,r){const{head:n=!1,count:s}=r??{},i=n?"HEAD":"GET";let o=!1;const l=(e??"*").split("").map(c=>/\s/.test(c)&&!o?"":(c==='"'&&(o=!o),c)).join("");return this.url.searchParams.set("select",l),s&&this.headers.append("Prefer",`count=${s}`),new vl.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:r,defaultToNull:n=!0}={}){var s;const i="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new vl.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new vl.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:r}={}){var n;const s="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new vl.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var r;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new vl.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};Lf.default=jM;var vN=Yr&&Yr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(gy,"__esModule",{value:!0});const kM=vN(Lf),NM=vN(Qc);let CM=class xN{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(e){const r=new URL(`${this.url}/${e}`);return new kM.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new xN(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${e}`);let u;n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{c.searchParams.append(f,h)})):(l="POST",u=r);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new NM.default({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};gy.default=CM;var nl=Yr&&Yr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(vr,"__esModule",{value:!0});vr.PostgrestError=vr.PostgrestBuilder=vr.PostgrestTransformBuilder=vr.PostgrestFilterBuilder=vr.PostgrestQueryBuilder=vr.PostgrestClient=void 0;const wN=nl(gy);vr.PostgrestClient=wN.default;const bN=nl(Lf);vr.PostgrestQueryBuilder=bN.default;const _N=nl(Qc);vr.PostgrestFilterBuilder=_N.default;const SN=nl(Ff);vr.PostgrestTransformBuilder=SN.default;const jN=nl($f);vr.PostgrestBuilder=jN.default;const kN=nl(Uf);vr.PostgrestError=kN.default;var EM=vr.default={PostgrestClient:wN.default,PostgrestQueryBuilder:bN.default,PostgrestFilterBuilder:_N.default,PostgrestTransformBuilder:SN.default,PostgrestBuilder:jN.default,PostgrestError:kN.default};const{PostgrestClient:PM,PostgrestQueryBuilder:Wq,PostgrestFilterBuilder:qq,PostgrestTransformBuilder:Hq,PostgrestBuilder:Kq,PostgrestError:Gq}=EM;class TM{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const AM="2.75.0",OM=`realtime-js/${AM}`,RM="1.0.0",Op=1e4,DM=1e3,IM=100;var Vl;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Vl||(Vl={}));var xt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(xt||(xt={}));var cn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(cn||(cn={}));var Rp;(function(t){t.websocket="websocket"})(Rp||(Rp={}));var Ii;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ii||(Ii={}));class MM{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(e.slice(o,o+s));o=o+s;const c=n.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class NN{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var qe;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(qe||(qe={}));const rx=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=LM(o,t,e,s),i),{}):{}},LM=(t,e,r,n)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?CN(i,o):Dp(o)},CN=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return BM(e,r)}switch(t){case qe.bool:return FM(e);case qe.float4:case qe.float8:case qe.int2:case qe.int4:case qe.int8:case qe.numeric:case qe.oid:return $M(e);case qe.json:case qe.jsonb:return UM(e);case qe.timestamp:return zM(e);case qe.abstime:case qe.date:case qe.daterange:case qe.int4range:case qe.int8range:case qe.money:case qe.reltime:case qe.text:case qe.time:case qe.timestamptz:case qe.timetz:case qe.tsrange:case qe.tstzrange:return Dp(e);default:return Dp(e)}},Dp=t=>t,FM=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},$M=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},UM=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},BM=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>CN(e,l))}return t},zM=t=>typeof t=="string"?t.replace(" ","T"):t,EN=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Vh{constructor(e,r,n={},s=Op){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var nx;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(nx||(nx={}));class Wl{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Wl.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=Wl.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Wl.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(b=>b.presence_ref),v=f.map(b=>b.presence_ref),p=d.filter(b=>v.indexOf(b.presence_ref)<0),g=f.filter(b=>h.indexOf(b.presence_ref)<0);p.length>0&&(l[u]=p),g.length>0&&(c[u]=g)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),d.length>0){const f=e[l].map(v=>v.presence_ref),h=d.filter(v=>f.indexOf(v.presence_ref)<0);e[l].unshift(...h)}n(l,d,c)}),this.map(o,(l,c)=>{let u=e[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),e[l]=u,s(l,u,c),u.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var sx;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(sx||(sx={}));var ql;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(ql||(ql={}));var ns;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ns||(ns={}));class yy{constructor(e,r={config:{}},n){var s,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=xt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Vh(this,cn.join,this.params,this.timeout),this.rejoinTimer=new NN(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=xt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=xt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=xt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=xt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=xt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(cn.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new Wl(this),this.broadcastEndpointURL=EN(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==xt.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[ql.PRESENCE]&&this.bindings[ql.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(v=>e==null?void 0:e(ns.CHANNEL_ERROR,v)),this._onClose(()=>e==null?void 0:e(ns.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var p;if(this.socket.setAuth(),v===void 0){e==null||e(ns.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,b=(p=g==null?void 0:g.length)!==null&&p!==void 0?p:0,w=[];for(let m=0;m<b;m++){const x=g[m],{filter:{event:_,schema:S,table:k,filter:j}}=x,E=v&&v[m];if(E&&E.event===_&&E.schema===S&&E.table===k&&E.filter===j)w.push(Object.assign(Object.assign({},x),{id:E.id}));else{this.unsubscribe(),this.state=xt.errored,e==null||e(ns.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(ns.SUBSCRIBED);return}}).receive("error",v=>{this.state=xt.errored,e==null||e(ns.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ns.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===xt.joined&&e===ql.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=xt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(cn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Vh(this,cn.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=xt.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Vh(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>IM){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=cn;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var p,g,b;return((p=v.filter)===null||p===void 0?void 0:p.event)==="*"||((b=(g=v.filter)===null||g===void 0?void 0:g.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(v=>v.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var p,g,b,w,m,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const _=v.id,S=(p=v.filter)===null||p===void 0?void 0:p.event;return _&&((g=r.ids)===null||g===void 0?void 0:g.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const _=(m=(w=v==null?void 0:v.filter)===null||w===void 0?void 0:w.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return _==="*"||_===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof h=="object"&&"ids"in h){const p=h.data,{schema:g,table:b,commit_timestamp:w,type:m,errors:x}=p;h=Object.assign(Object.assign({},{schema:g,table:b,commit_timestamp:w,eventType:m,new:{},old:{},errors:x}),this._getPayloadRecords(p))}v.callback(h,n)})}_isClosed(){return this.state===xt.closed}_isJoined(){return this.state===xt.joined}_isJoining(){return this.state===xt.joining}_isLeaving(){return this.state===xt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&yy.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(cn.close,{},e)}_onError(e){this._on(cn.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=xt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=rx(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=rx(e.columns,e.old_record)),r}}const Wh=()=>{},Ru={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},VM=[1e3,2e3,5e3,1e4],WM=1e4,qM=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class HM{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Op,this.transport=null,this.heartbeatIntervalMs=Ru.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Wh,this.ref=0,this.reconnectTimer=null,this.logger=Wh,this.conn=null,this.sendBuffer=[],this.serializer=new MM,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>tl(async()=>{const{default:l}=await Promise.resolve().then(()=>rl);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Rp.websocket}`,this.httpEndpoint=EN(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=TM.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:RM}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Vl.connecting:return Ii.Connecting;case Vl.open:return Ii.Open;case Vl.closing:return Ii.Closing;default:return Ii.Closed}}isConnected(){return this.connectionState()===Ii.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new yy(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(DM,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ru.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(cn.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([qM],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:OM};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(cn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new NN(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ru.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,o,l,c,u,d;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Op,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Ru.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:Wh,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:f=>VM[f-1]||WM,this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(f,h)=>h(JSON.stringify(f)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class vy extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function gt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class KM extends vy{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ip extends vy{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var GM=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const PN=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>tl(async()=>{const{default:n}=await Promise.resolve().then(()=>rl);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},QM=()=>GM(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield tl(()=>Promise.resolve().then(()=>rl),void 0)).Response:Response}),Mp=t=>{if(Array.isArray(t))return t.map(r=>Mp(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Mp(n)}),e},YM=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var bo=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const qh=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),JM=(t,e,r)=>bo(void 0,void 0,void 0,function*(){const n=yield QM();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new KM(qh(s),i,o))}).catch(s=>{e(new Ip(qh(s),s))}):e(new Ip(qh(t),t))}),ZM=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(YM(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function Yc(t,e,r,n,s,i){return bo(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(r,ZM(e,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>JM(c,l,n))})})}function Md(t,e,r,n){return bo(this,void 0,void 0,function*(){return Yc(t,"GET",e,r,n)})}function Tn(t,e,r,n,s){return bo(this,void 0,void 0,function*(){return Yc(t,"POST",e,n,s,r)})}function Lp(t,e,r,n,s){return bo(this,void 0,void 0,function*(){return Yc(t,"PUT",e,n,s,r)})}function XM(t,e,r,n){return bo(this,void 0,void 0,function*(){return Yc(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function TN(t,e,r,n,s){return bo(this,void 0,void 0,function*(){return Yc(t,"DELETE",e,n,s,r)})}var e4=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class t4{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return e4(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(gt(e))return{data:null,error:e};throw e}})}}var r4=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class n4{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}asStream(){return new t4(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.execute().then(e,r)}execute(){return r4(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(gt(e))return{data:null,error:e};throw e}})}}var mr=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const s4={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ix={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class i4{constructor(e,r={},n,s){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=PN(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,s){return mr(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},ix),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(e=="PUT"?Lp:Tn)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(gt(i))return{data:null,error:i};throw i}})}upload(e,r,n){return mr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return mr(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:ix.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield Lp(this.fetch,l.toString(),c,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(gt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return mr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Tn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new vy("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gt(n))return{data:null,error:n};throw n}})}update(e,r,n){return mr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return mr(this,void 0,void 0,function*(){try{return{data:yield Tn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(gt(s))return{data:null,error:s};throw s}})}copy(e,r,n){return mr(this,void 0,void 0,function*(){try{return{data:{path:(yield Tn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(gt(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return mr(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Tn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(gt(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return mr(this,void 0,void 0,function*(){try{const s=yield Tn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(gt(s))return{data:null,error:s};throw s}})}download(e,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",l=this._getFinalPath(e),c=()=>Md(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new n4(c,this.shouldThrowOnError)}info(e){return mr(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Md(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Mp(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gt(n))return{data:null,error:n};throw n}})}exists(e){return mr(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield XM(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gt(n)&&n instanceof Ip){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(e){return mr(this,void 0,void 0,function*(){try{return{data:yield TN(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gt(r))return{data:null,error:r};throw r}})}list(e,r,n){return mr(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},s4),r),{prefix:e||""});return{data:yield Tn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(gt(s))return{data:null,error:s};throw s}})}listV2(e,r){return mr(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Tn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gt(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const o4="2.75.0",a4={"X-Client-Info":`storage-js/${o4}`};var No=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class l4{constructor(e,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},a4),r),this.fetch=PN(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return No(this,void 0,void 0,function*(){try{return{data:yield Md(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(gt(e))return{data:null,error:e};throw e}})}getBucket(e){return No(this,void 0,void 0,function*(){try{return{data:yield Md(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gt(r))return{data:null,error:r};throw r}})}createBucket(e){return No(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Tn(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(gt(s))return{data:null,error:s};throw s}})}updateBucket(e,r){return No(this,void 0,void 0,function*(){try{return{data:yield Lp(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gt(n))return{data:null,error:n};throw n}})}emptyBucket(e){return No(this,void 0,void 0,function*(){try{return{data:yield Tn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return No(this,void 0,void 0,function*(){try{return{data:yield TN(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gt(r))return{data:null,error:r};throw r}})}}class c4 extends l4{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new i4(this.url,this.headers,e,this.fetch)}}const u4="2.75.0";let Al="";typeof Deno<"u"?Al="deno":typeof document<"u"?Al="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Al="react-native":Al="node";const d4={"X-Client-Info":`supabase-js-${Al}/${u4}`},f4={headers:d4},h4={schema:"public"},m4={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},p4={};var g4=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const y4=t=>{let e;return t?e=t:typeof fetch>"u"?e=pN:e=fetch,(...r)=>e(...r)},v4=()=>typeof Headers>"u"?gN:Headers,x4=(t,e,r)=>{const n=y4(r),s=v4();return(i,o)=>g4(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var w4=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};function b4(t){return t.endsWith("/")?t:t+"/"}function _4(t,e){var r,n;const{db:s,auth:i,realtime:o,global:l}=t,{db:c,auth:u,realtime:d,global:f}=e,h={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>w4(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function S4(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(b4(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const AN="2.75.0",Lo=30*1e3,Fp=3,Hh=Fp*Lo,j4="http://localhost:9999",k4="supabase.auth.token",N4={"X-Client-Info":`gotrue-js/${AN}`},$p="X-Supabase-Api-Version",ON={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},C4=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,E4=10*60*1e3;class pc extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ae(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class P4 extends pc{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function T4(t){return ae(t)&&t.name==="AuthApiError"}class Mi extends pc{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class ji extends pc{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class Is extends ji{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function A4(t){return ae(t)&&t.name==="AuthSessionMissingError"}class Co extends ji{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Du extends ji{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Iu extends ji{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function O4(t){return ae(t)&&t.name==="AuthImplicitGrantRedirectError"}class ox extends ji{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Up extends ji{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Kh(t){return ae(t)&&t.name==="AuthRetryableFetchError"}class ax extends ji{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Bp extends ji{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ld="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),lx=` 	
\r=`.split(""),R4=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<lx.length;e+=1)t[lx[e].charCodeAt(0)]=-2;for(let e=0;e<Ld.length;e+=1)t[Ld[e].charCodeAt(0)]=e;return t})();function cx(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Ld[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Ld[n]),e.queuedBits-=6}}function RN(t,e,r){const n=R4[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function ux(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{M4(o,n,r)};for(let o=0;o<t.length;o+=1)RN(t.charCodeAt(o),s,i);return e.join("")}function D4(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function I4(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}D4(n,e)}}function M4(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function ua(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)RN(t.charCodeAt(s),r,n);return new Uint8Array(e)}function L4(t){const e=[];return I4(t,r=>e.push(r)),new Uint8Array(e)}function Bi(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>cx(s,r,n)),cx(null,r,n),e.join("")}function F4(t){return Math.round(Date.now()/1e3)+t}function $4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Cr=()=>typeof window<"u"&&typeof document<"u",Pi={tested:!1,writable:!1},DN=()=>{if(!Cr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Pi.tested)return Pi.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Pi.tested=!0,Pi.writable=!0}catch{Pi.tested=!0,Pi.writable=!1}return Pi.writable};function U4(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const IN=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>tl(async()=>{const{default:n}=await Promise.resolve().then(()=>rl);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},B4=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Fo=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Ti=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ts=async(t,e)=>{await t.removeItem(e)};class Bf{constructor(){this.promise=new Bf.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Bf.promiseConstructor=Promise;function Gh(t){const e=t.split(".");if(e.length!==3)throw new Bp("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!C4.test(e[n]))throw new Bp("JWT not in base64url format");return{header:JSON.parse(ux(e[0])),payload:JSON.parse(ux(e[1])),signature:ua(e[2]),raw:{header:e[0],payload:e[1]}}}async function z4(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function V4(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function W4(t){return("0"+t.toString(16)).substr(-2)}function q4(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,W4).join("")}async function H4(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function K4(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await H4(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Eo(t,e,r=!1){const n=q4();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Fo(t,`${e}-code-verifier`,s);const i=await K4(n);return[i,n===i?"plain":"s256"]}const G4=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Q4(t){const e=t.headers.get($p);if(!e||!e.match(G4))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Y4(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function J4(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Z4=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Po(t){if(!Z4.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Qh(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function dx(t){return JSON.parse(JSON.stringify(t))}var X4=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const Ri=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),eL=[502,503,504];async function fx(t){var e;if(!B4(t))throw new Up(Ri(t),0);if(eL.includes(t.status))throw new Up(Ri(t),t.status);let r;try{r=await t.json()}catch(i){throw new Mi(Ri(i),i)}let n;const s=Q4(t);if(s&&s.getTime()>=ON["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new ax(Ri(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Is}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new ax(Ri(r),t.status,r.weak_password.reasons);throw new P4(Ri(r),t.status||500,n)}const tL=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function ge(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[$p]||(i[$p]=ON["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await rL(t,e,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function rL(t,e,r,n,s,i){const o=tL(e,n,s,i);let l;try{l=await t(r,Object.assign({},o))}catch(c){throw console.error(c),new Up(Ri(c),0)}if(l.ok||await fx(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await fx(c)}}function rn(t){var e;let r=null;iL(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=F4(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function hx(t){const e=rn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Bs(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function nL(t){return{data:t,error:null}}function sL(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=X4(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function mx(t){return t}function iL(t){return t.access_token&&t.refresh_token&&t.expires_in}const Yh=["global","local","others"];var oL=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class aL{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=IN(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Yh[0]){if(Yh.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Yh.join(", ")}`);try{return await ge(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await ge(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Bs})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=oL(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await ge(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:sL,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ae(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await ge(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Bs})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ge(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:mx});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(p=>{const g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(p.split(";")[1].split("=")[1]);u[`${b}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ae(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Po(e);try{return await ge(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Bs})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Po(e);try{return await ge(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Bs})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Po(e);try{return await ge(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Bs})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Po(e.userId);try{const{data:r,error:n}=await ge(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Po(e.userId),Po(e.id);try{return{data:await ge(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ge(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:mx});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(p=>{const g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(p.split(";")[1].split("=")[1]);u[`${b}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ae(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await ge(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await ge(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await ge(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await ge(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}}function px(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const To={debug:!!(globalThis&&DN()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class MN extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class lL extends MN{}async function cL(t,e,r){To.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),To.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){To.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{To.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw To.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new lL(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(To.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function uL(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function LN(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function dL(t){return parseInt(t,16)}function fL(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function hL(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:h}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const v=LN(t.address),p=d?`${d}://${n}`:n,g=t.statement?`${t.statement}
`:"",b=`${p} wants you to sign in with your Ethereum account:
${v}

${g}`;let w=`URI: ${f}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(w+=`
Expiration Time: ${s.toISOString()}`),l&&(w+=`
Not Before: ${l.toISOString()}`),c&&(w+=`
Request ID: ${c}`),u){let m=`
Resources:`;for(const x of u){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);m+=`
- ${x}`}w+=m}return`${b}
${w}`}class pt extends Error{constructor({message:e,code:r,cause:n,name:s}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Fd extends pt{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function mL({error:t,options:e}){var r,n,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new pt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new pt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new pt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new pt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new pt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new pt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new pt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new pt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if($N(o)){if(i.rp.id!==o)return new pt({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new pt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new pt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new pt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new pt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function pL({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new pt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new pt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if($N(n)){if(r.rpId!==n)return new pt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new pt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new pt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new pt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}var FN=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class gL{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const yL=new gL;function vL(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=FN(t,["challenge","user","excludeCredentials"]),i=ua(e).buffer,o=Object.assign(Object.assign({},r),{id:ua(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:ua(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function xL(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=FN(t,["challenge","allowCredentials"]),s=ua(e).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:ua(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function wL(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Bi(new Uint8Array(t.response.attestationObject)),clientDataJSON:Bi(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function bL(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Bi(new Uint8Array(s.authenticatorData)),clientDataJSON:Bi(new Uint8Array(s.clientDataJSON)),signature:Bi(new Uint8Array(s.signature)),userHandle:s.userHandle?Bi(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function $N(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function gx(){var t,e;return!!(Cr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function _L(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Fd("Browser returned unexpected credential type",e)}:{data:null,error:new Fd("Empty credential response",e)}}catch(e){return{data:null,error:mL({error:e,options:t})}}}async function SL(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Fd("Browser returned unexpected credential type",e)}:{data:null,error:new Fd("Empty credential response",e)}}catch(e){return{data:null,error:pL({error:e,options:t})}}}const jL={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},kL={userVerification:"preferred",hints:["security-key"]};function $d(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(e(o)){const l=n[i];e(l)?n[i]=$d(l,o):n[i]=$d(o)}else n[i]=o}return n}function NL(t,e){return $d(jL,t,e||{})}function CL(t,e){return $d(kL,t,e||{})}class EL{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:l};const c=s??yL.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=NL(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:f}=await _L({publicKey:u,signal:c});return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=CL(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:f}=await SL(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return ae(o)?{data:null,error:o}:{data:null,error:new Mi("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}},i){if(!r)return{data:null,error:new pc("rpId is required for WebAuthn authentication")};try{if(!gx())return{data:null,error:new Mi("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return ae(o)?{data:null,error:o}:{data:null,error:new Mi("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s},i){if(!r)return{data:null,error:new pc("rpId is required for WebAuthn registration")};try{if(!gx())return{data:null,error:new Mi("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return ae(o)?{data:null,error:o}:{data:null,error:new Mi("Unexpected error in register",o)}}}}uL();const PL={url:j4,storageKey:k4,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:N4,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function yx(t,e,r){return await r()}const Ao={};class gc{get jwks(){var e,r;return(r=(e=Ao[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Ao[this.storageKey]=Object.assign(Object.assign({},Ao[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Ao[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ao[this.storageKey]=Object.assign(Object.assign({},Ao[this.storageKey]),{cachedAt:e})}constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=gc.nextInstanceID,gc.nextInstanceID+=1,this.instanceID>0&&Cr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},PL),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new aL({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=IN(s.fetch),this.lock=s.lock||yx,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Cr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=cL:this.lock=yx,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new EL(this)},this.persistSession?(s.storage?this.storage=s.storage:DN()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=px(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=px(this.memoryStorage)),Cr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${AN}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=U4(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Cr()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),O4(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ae(r)?{error:r}:{error:new Mi("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:rn}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(ae(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:d,password:f,options:h}=e;let v=null,p=null;this.flowType==="pkce"&&([v,p]=await Eo(this.storage,this.storageKey)),i=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:v,code_challenge_method:p},xform:rn})}else if("phone"in e){const{phone:d,password:f,options:h}=e;i=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:rn})}else throw new Du("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(ae(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:l}=e;r=await ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:hx})}else if("phone"in e){const{phone:i,password:o,options:l}=e;r=await ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:hx})}else throw new Du("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Co}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(ae(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,i,o,l,c,u,d,f,h;let v,p;if("message"in e)v=e.message,p=e.signature;else{const{chain:g,wallet:b,statement:w,options:m}=e;let x;if(Cr())if(typeof b=="object")x=b;else{const T=window;if("ethereum"in T&&typeof T.ethereum=="object"&&"request"in T.ethereum&&typeof T.ethereum.request=="function")x=T.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=b}const _=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href),S=await x.request({method:"eth_requestAccounts"}).then(T=>T).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=LN(S[0]);let j=(n=m==null?void 0:m.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!j){const T=await x.request({method:"eth_chainId"});j=dL(T)}const E={domain:_.host,address:k,statement:w,uri:_.href,version:"1",chainId:j,nonce:(s=m==null?void 0:m.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=m==null?void 0:m.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=m==null?void 0:m.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=m==null?void 0:m.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=m==null?void 0:m.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=m==null?void 0:m.signInWithEthereum)===null||d===void 0?void 0:d.resources};v=hL(E),p=await x.request({method:"personal_sign",params:[fL(v),k]})}try{const{data:g,error:b}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:p},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:rn});if(b)throw b;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new Co}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:b})}catch(g){if(ae(g))return{data:{user:null,session:null},error:g};throw g}}async signInWithSolana(e){var r,n,s,i,o,l,c,u,d,f,h,v;let p,g;if("message"in e)p=e.message,g=e.signature;else{const{chain:b,wallet:w,statement:m,options:x}=e;let _;if(Cr())if(typeof w=="object")_=w;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))_=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=w}const S=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const k=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),m?{statement:m}:null));let j;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")j=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)j=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)p=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),g=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=x==null?void 0:x.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((f=(d=x==null?void 0:x.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...x.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const k=await _.signMessage(new TextEncoder().encode(p),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=k}}try{const{data:b,error:w}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:Bi(g)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:rn});if(w)throw w;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Co}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:w})}catch(b){if(ae(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(e){const r=await Ti(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:rn});if(await Ts(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Co}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(ae(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,l=await ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:rn}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Co}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(ae(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:l,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Eo(this.storage,this.storageKey));const{error:f}=await ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:d}=await ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Du("You must provide either an email or phone number.")}catch(l){if(ae(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await ge(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:rn});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(ae(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Eo(this.storage,this.storageKey)),await ge(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:nL})}catch(i){if(ae(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Is;const{error:s}=await ge(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(ae(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await ge(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:l}=await ge(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Du("You must provide either an email or phone number and a type")}catch(r){if(ae(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Ti(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Hh:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await Ti(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Qh()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Bs}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Is}:await ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Bs})})}catch(r){if(ae(r))return A4(r)&&(await this._removeSession(),await Ts(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Is;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await Eo(this.storage,this.storageKey));const{data:u,error:d}=await ge(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Bs});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Is;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=Gh(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(ae(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:l}=r;if(l)throw l;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Is;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ae(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Cr())throw new Iu("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Iu(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new ox("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Iu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new ox("No code detected.");const{data:m,error:x}=await this._exchangeCodeForSession(e.code);if(x)throw x;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=e;if(!i||!l||!o||!u)throw new Iu("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const v=h-d;v*1e3<=Lo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${f}s`);const p=h-f;d-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,h,d):d-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,h,d);const{data:g,error:b}=await this._getUser(i);if(b)throw b;const w={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:e.type},error:null}}catch(n){if(ae(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Ti(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(T4(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Ts(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=$4(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Eo(this.storage,this.storageKey,!0));try{return await ge(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(ae(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,c,u,d;const{data:f,error:h}=i;if(h)throw h;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ge(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Cr()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ae(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:l,token:c,access_token:u,nonce:d}=e,f=await ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:rn}),{data:h,error:v}=f;return v?{data:{user:null,session:null},error:v}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new Co}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),{data:h,error:v})}catch(s){if(ae(s))return{data:{user:null,session:null},error:s};throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await ge(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await V4(async s=>(s>0&&await z4(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await ge(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:rn})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Kh(i)&&Date.now()+o-n<Lo})}catch(n){if(this._debug(r,"error",n),ae(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Cr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Ti(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Ti(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Fo(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Qh()}else if(s&&!s.user&&!s.user){const o=await Ti(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Ts(this.storage,this.storageKey+"-user"),await Fo(this.storage,this.storageKey,s)):s.user=Qh()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Hh;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Hh}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Kh(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Is;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Bf;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Is;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),ae(i)){const o={data:null,error:i};return Kh(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Fo(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=dx(s);await Fo(this.storage,this.storageKey,i)}else{const s=dx(r);await Fo(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Ts(this.storage,this.storageKey),await Ts(this.storage,this.storageKey+"-code-verifier"),await Ts(this.storage,this.storageKey+"-user"),this.userStorage&&await Ts(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Cr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Lo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Lo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Lo}ms, refresh threshold is ${Fp} ticks`),s<=Fp&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof MN)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Cr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Eo(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await ge(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:u}=await ge(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?wL(e.webauthn.credential_response):bL(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:c}=await ge(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(r){if(ae(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const o=await ge(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:vL(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:xL(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ae(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Gh(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(l=>l.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===e),n&&this.jwks_cached_at+E4>s)return n;const{data:i,error:o}=await ge(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:v,error:p}=await this.getSession();if(p||!v.session)return{data:null,error:p};n=v.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=Gh(n);r!=null&&r.allowExpired||Y4(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:i,header:s,signature:o},error:null}}const d=J4(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,L4(`${l}.${c}`)))throw new Bp("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}}}gc.nextInstanceID=0;const TL=gc;class AL extends TL{constructor(e){super(e)}}var OL=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class RL{constructor(e,r,n){var s,i,o;this.supabaseUrl=e,this.supabaseKey=r;const l=S4(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:h4,realtime:p4,auth:Object.assign(Object.assign({},m4),{storageKey:c}),global:f4},d=_4(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=x4(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new PM(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new c4(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new aM(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return OL(this,void 0,void 0,function*(){var e,r;if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:o,flowType:l,lock:c,debug:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new AL({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:l,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new HM(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const DL=(t,e,r)=>new RL(t,e,r);function IL(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}IL()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const UN="https://umotigprfosrrjwpxlnp.supabase.co",rd="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVtb3RpZ3ByZm9zcnJqd3B4bG5wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc1NjI2NjgsImV4cCI6MjA3MzEzODY2OH0.aDovd3HhJ2ItbknjwzBku6aAx2CIY270QL266_AOumk";console.log("🔧 Supabase Client Initialization");console.log("📍 URL:",UN);console.log("🔑 Key (first 20 chars):",(rd==null?void 0:rd.substring(0,20))+"...");const Ve=DL(UN,rd,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storage:window.localStorage,flowType:"pkce"}});/*! Capacitor: https://capacitorjs.com/ - MIT License */var Ua;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(Ua||(Ua={}));class Jh extends Error{constructor(e,r,n){super(e),this.message=e,this.code=r,this.data=n}}const ML=t=>{var e,r;return t!=null&&t.androidBridge?"android":!((r=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||r===void 0)&&r.bridge?"ios":"web"},LL=t=>{const e=t.CapacitorCustomPlatform||null,r=t.Capacitor||{},n=r.Plugins=r.Plugins||{},s=()=>e!==null?e.name:ML(t),i=()=>s()!=="web",o=f=>{const h=u.get(f);return!!(h!=null&&h.platforms.has(s())||l(f))},l=f=>{var h;return(h=r.PluginHeaders)===null||h===void 0?void 0:h.find(v=>v.name===f)},c=f=>t.console.error(f),u=new Map,d=(f,h={})=>{const v=u.get(f);if(v)return console.warn(`Capacitor plugin "${f}" already registered. Cannot register plugins twice.`),v.proxy;const p=s(),g=l(f);let b;const w=async()=>(!b&&p in h?b=typeof h[p]=="function"?b=await h[p]():b=h[p]:e!==null&&!b&&"web"in h&&(b=typeof h.web=="function"?b=await h.web():b=h.web),b),m=(E,T)=>{var I,q;if(g){const L=g==null?void 0:g.methods.find(O=>T===O.name);if(L)return L.rtype==="promise"?O=>r.nativePromise(f,T.toString(),O):(O,V)=>r.nativeCallback(f,T.toString(),O,V);if(E)return(I=E[T])===null||I===void 0?void 0:I.bind(E)}else{if(E)return(q=E[T])===null||q===void 0?void 0:q.bind(E);throw new Jh(`"${f}" plugin is not implemented on ${p}`,Ua.Unimplemented)}},x=E=>{let T;const I=(...q)=>{const L=w().then(O=>{const V=m(O,E);if(V){const R=V(...q);return T=R==null?void 0:R.remove,R}else throw new Jh(`"${f}.${E}()" is not implemented on ${p}`,Ua.Unimplemented)});return E==="addListener"&&(L.remove=async()=>T()),L};return I.toString=()=>`${E.toString()}() { [capacitor code] }`,Object.defineProperty(I,"name",{value:E,writable:!1,configurable:!1}),I},_=x("addListener"),S=x("removeListener"),k=(E,T)=>{const I=_({eventName:E},T),q=async()=>{const O=await I;S({eventName:E,callbackId:O},T)},L=new Promise(O=>I.then(()=>O({remove:q})));return L.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await q()},L},j=new Proxy({},{get(E,T){switch(T){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return g?k:_;case"removeListener":return S;default:return x(T)}}});return n[f]=j,u.set(f,{name:f,proxy:j,platforms:new Set([...Object.keys(h),...g?[p]:[]])}),j};return r.convertFileSrc||(r.convertFileSrc=f=>f),r.getPlatform=s,r.handleError=c,r.isNativePlatform=i,r.isPluginAvailable=o,r.registerPlugin=d,r.Exception=Jh,r.DEBUG=!!r.DEBUG,r.isLoggingEnabled=!!r.isLoggingEnabled,r},FL=t=>t.Capacitor=LL(t),ar=FL(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),xy=ar.registerPlugin;class BN{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,r){let n=!1;this.listeners[e]||(this.listeners[e]=[],n=!0),this.listeners[e].push(r);const i=this.windowListeners[e];i&&!i.registered&&this.addWindowListener(i),n&&this.sendRetainedArgumentsForEvent(e);const o=async()=>this.removeListener(e,r);return Promise.resolve({remove:o})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,r,n){const s=this.listeners[e];if(!s){if(n){let i=this.retainedEventArguments[e];i||(i=[]),i.push(r),this.retainedEventArguments[e]=i}return}s.forEach(i=>i(r))}hasListeners(e){var r;return!!(!((r=this.listeners[e])===null||r===void 0)&&r.length)}registerWindowListener(e,r){this.windowListeners[r]={registered:!1,windowEventName:e,pluginEventName:r,handler:n=>{this.notifyListeners(r,n)}}}unimplemented(e="not implemented"){return new ar.Exception(e,Ua.Unimplemented)}unavailable(e="not available"){return new ar.Exception(e,Ua.Unavailable)}async removeListener(e,r){const n=this.listeners[e];if(!n)return;const s=n.indexOf(r);this.listeners[e].splice(s,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const r=this.retainedEventArguments[e];r&&(delete this.retainedEventArguments[e],r.forEach(n=>{this.notifyListeners(e,n)}))}}const vx=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),xx=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class $L extends BN{async getCookies(){const e=document.cookie,r={};return e.split(";").forEach(n=>{if(n.length<=0)return;let[s,i]=n.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");s=xx(s).trim(),i=xx(i).trim(),r[s]=i}),r}async setCookie(e){try{const r=vx(e.key),n=vx(e.value),s=`; expires=${(e.expires||"").replace("expires=","")}`,i=(e.path||"/").replace("path=",""),o=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${r}=${n||""}${s}; path=${i}; ${o};`}catch(r){return Promise.reject(r)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(r){return Promise.reject(r)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const r of e)document.cookie=r.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}xy("CapacitorCookies",{web:()=>new $L});const UL=async t=>new Promise((e,r)=>{const n=new FileReader;n.onload=()=>{const s=n.result;e(s.indexOf(",")>=0?s.split(",")[1]:s)},n.onerror=s=>r(s),n.readAsDataURL(t)}),BL=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(s=>s.toLocaleLowerCase()).reduce((s,i,o)=>(s[i]=t[e[o]],s),{})},zL=(t,e=!0)=>t?Object.entries(t).reduce((n,s)=>{const[i,o]=s;let l,c;return Array.isArray(o)?(c="",o.forEach(u=>{l=e?encodeURIComponent(u):u,c+=`${i}=${l}&`}),c.slice(0,-1)):(l=e?encodeURIComponent(o):o,c=`${i}=${l}`),`${n}&${c}`},"").substr(1):null,VL=(t,e={})=>{const r=Object.assign({method:t.method||"GET",headers:t.headers},e),s=BL(t.headers)["content-type"]||"";if(typeof t.data=="string")r.body=t.data;else if(s.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[o,l]of Object.entries(t.data||{}))i.set(o,l);r.body=i.toString()}else if(s.includes("multipart/form-data")||t.data instanceof FormData){const i=new FormData;if(t.data instanceof FormData)t.data.forEach((l,c)=>{i.append(c,l)});else for(const l of Object.keys(t.data))i.append(l,t.data[l]);r.body=i;const o=new Headers(r.headers);o.delete("content-type"),r.headers=o}else(s.includes("application/json")||typeof t.data=="object")&&(r.body=JSON.stringify(t.data));return r};class WL extends BN{async request(e){const r=VL(e,e.webFetchExtra),n=zL(e.params,e.shouldEncodeUrlParams),s=n?`${e.url}?${n}`:e.url,i=await fetch(s,r),o=i.headers.get("content-type")||"";let{responseType:l="text"}=i.ok?e:{};o.includes("application/json")&&(l="json");let c,u;switch(l){case"arraybuffer":case"blob":u=await i.blob(),c=await UL(u);break;case"json":c=await i.json();break;case"document":case"text":default:c=await i.text()}const d={};return i.headers.forEach((f,h)=>{d[h]=f}),{data:c,headers:d,status:i.status,url:i.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}xy("CapacitorHttp",{web:()=>new WL});const di=xy("Preferences",{web:()=>tl(()=>import("./web-bk5aA0LB.js"),[]).then(t=>new t.PreferencesWeb)}),zN=(ar.isNativePlatform(),"https://bjj-jits-journal.onrender.com");let us=null,ds=null,wx=!1;async function qL(){if(wx)return;const t=performance.now();if(ar.isNativePlatform())try{const[e,r]=await Promise.all([di.get({key:"supabase_user_id"}),di.get({key:"supabase_access_token"})]);e.value&&(us=e.value),r.value&&(ds=r.value);const n=performance.now()-t;console.log(`⚡ BOOTSTRAP: Hydrated auth cache from Preferences in ${n.toFixed(1)}ms`,{hasId:!!us,hasToken:!!ds})}catch(e){console.error("Failed to hydrate auth cache:",e)}else try{const e=localStorage.getItem("supabase_user_id"),r=localStorage.getItem("supabase_access_token");e&&(us=e),r&&(ds=r);const n=performance.now()-t;console.log(`⚡ BOOTSTRAP: Hydrated auth cache from localStorage in ${n.toFixed(1)}ms`,{hasId:!!us,hasToken:!!ds})}catch(e){console.error("Failed to hydrate auth cache from localStorage:",e)}wx=!0}async function Cn(t){us=t,ar.isNativePlatform()?t?(await di.set({key:"supabase_user_id",value:t}),console.log("💾 Persisted Supabase ID to Preferences")):(await di.remove({key:"supabase_user_id"}),console.log("🗑️ Cleared Supabase ID from Preferences")):t?(localStorage.setItem("supabase_user_id",t),console.log("💾 Persisted Supabase ID to localStorage")):(localStorage.removeItem("supabase_user_id"),console.log("🗑️ Cleared Supabase ID from localStorage"))}async function En(t){ds=t,ar.isNativePlatform()?t?(await di.set({key:"supabase_access_token",value:t}),console.log("🔑 Persisted access token to Preferences")):(await di.remove({key:"supabase_access_token"}),console.log("🗑️ Cleared access token from Preferences")):t?(localStorage.setItem("supabase_access_token",t),console.log("🔑 Persisted access token to localStorage")):(localStorage.removeItem("supabase_access_token"),console.log("🗑️ Cleared access token from localStorage"))}async function VN(){var e;const t=performance.now();if(us){const r=performance.now()-t;return console.log(`⚡ getSupabaseId from cache in ${r.toFixed(1)}ms`),us}if(ar.isNativePlatform())try{const{value:r}=await di.get({key:"supabase_user_id"});if(r){us=r;const n=performance.now()-t;return console.log(`📱 Loaded Supabase ID from Preferences in ${n.toFixed(1)}ms (cache miss - should have been preloaded!)`),r}}catch(r){console.error("Failed to read from Preferences:",r)}else try{const r=localStorage.getItem("supabase_user_id");if(r){us=r;const n=performance.now()-t;return console.log(`💻 Loaded Supabase ID from localStorage in ${n.toFixed(1)}ms (cache miss - should have been preloaded!)`),r}}catch(r){console.error("Failed to read from localStorage:",r)}try{console.log("🐌 SLOW PATH: Falling back to getSession() - this should only happen once after first login");const{data:{session:r}}=await Ve.auth.getSession(),n=((e=r==null?void 0:r.user)==null?void 0:e.id)||null;n&&await Cn(n);const s=performance.now()-t;return console.log(`⚠️ getSession() took ${s.toFixed(1)}ms`),n}catch(r){return console.error("Failed to get Supabase user:",r),null}}async function WN(){const t=performance.now();if(ds){const e=performance.now()-t;return console.log(`⚡ getAccessToken from cache in ${e.toFixed(1)}ms`),ds}if(ar.isNativePlatform())try{const{value:e}=await di.get({key:"supabase_access_token"});if(e){ds=e;const r=performance.now()-t;return console.log(`🔑 Loaded access token from Preferences in ${r.toFixed(1)}ms (cache miss - should have been preloaded!)`),e}}catch(e){console.error("Failed to read access token from Preferences:",e)}else try{const e=localStorage.getItem("supabase_access_token");if(e){ds=e;const r=performance.now()-t;return console.log(`🔑 Loaded access token from localStorage in ${r.toFixed(1)}ms (cache miss - should have been preloaded!)`),e}}catch(e){console.error("Failed to read access token from localStorage:",e)}try{console.log("🐌 SLOW PATH: Falling back to getSession() for token - this should only happen once after first login");const{data:{session:e}}=await Ve.auth.getSession(),r=(e==null?void 0:e.access_token)||null;r&&await En(r);const n=performance.now()-t;return console.log(`⚠️ getSession() for token took ${n.toFixed(1)}ms`),r}catch(e){return console.error("Failed to get access token:",e),null}}const Ar=new UI({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1,queryFn:async({queryKey:t})=>{const[e,r]=await Promise.all([VN(),WN()]),n={"Content-Type":"application/json"};r?(n.Authorization=`Bearer ${r}`,console.log("🔑 Query with Authorization header (fast path!)")):e?console.log("📱 Query with supabaseId (fallback path)"):console.warn("⚠️ No auth available for query");let s=`${zN}${t[0]}`;if(e){const o=s.includes("?")?"&":"?";s+=`${o}supabaseId=${e}`}const i=await fetch(s,{headers:n});if(!i.ok)throw(i.status===401||i.status===403)&&(console.log("🔄 Auth failed - may need to refresh"),sessionStorage.setItem("auth_failure","true")),new Error(`${i.status}: ${i.statusText}`);return i.json()}}}});async function Rt(t,e,r){const[n,s]=await Promise.all([VN(),WN()]),i={"Content-Type":"application/json"};s?(i.Authorization=`Bearer ${s}`,console.log("🔑 Mutation with Authorization header (fast path!)")):console.log("📱 Mutation with supabaseId (fallback path)");const o={method:t,headers:i};r?o.body=JSON.stringify({...r,supabaseId:n}):n&&(o.body=JSON.stringify({supabaseId:n}));const l=`${zN}${e}`,c=await fetch(l,o);if(!c.ok){if(c.status===401||c.status===403)throw console.log("🔄 Auth failed in API request"),new Error("Authentication required. Please refresh the page and try again.");let u=`${c.status}: ${c.statusText}`;try{u=(await c.json()).message||u}catch{const d=await c.text();u=`${c.status}: ${d}`}throw new Error(u)}return c}const HL=(ar.isNativePlatform(),"https://bjj-jits-journal.onrender.com"),qN=y.createContext(void 0),fr=()=>{const t=y.useContext(qN);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t};async function Hl(t,e,r,n,s=3){var o,l;const i=4-s;console.log("🔍 Loading user data for supabaseId:",t,`(attempt ${i}/3)`);try{const c=new AbortController,u=setTimeout(()=>c.abort(),1e4),d={};n&&(d.Authorization=`Bearer ${n}`,console.log("🔑 Including Supabase access token in request"));const f=await fetch(`${HL}/api/user/by-supabase-id/${t}`,{signal:c.signal,headers:d});if(clearTimeout(u),console.log("📡 User endpoint response status:",f.status),f.ok){const v=await f.json();return console.log("✅ User data loaded successfully:",{id:v.id,email:v.email}),{id:v.id.toString(),email:v.email,firstName:v.first_name,lastName:v.last_name,subscriptionStatus:v.subscription_status||"free",subscriptionPlan:v.subscription_plan,role:v.role||"user",createdAt:v.created_at,supabaseId:v.supabase_uid}}if(f.status===404)return s>1?(console.log("⏳ User not found yet (signup race condition), retrying in 1000ms..."),await new Promise(v=>setTimeout(v,1e3)),Hl(t,e,r,n,s-1)):(console.error("❌ User not found in database for supabaseId:",t),null);if(f.status>=500&&s>0){const v=Math.min(1e3*Math.pow(2,i-1),5e3);return console.log(`⚠️ Server error ${f.status}, retrying in ${v}ms...`),await new Promise(p=>setTimeout(p,v)),Hl(t,e,r,n,s-1)}const h=await f.text();return console.error("❌ Unexpected error from backend:",f.status,h),null}catch(c){if(s>0&&(c.name==="AbortError"||(o=c.message)!=null&&o.includes("fetch")||(l=c.message)!=null&&l.includes("network"))){const u=Math.min(1e3*Math.pow(2,i-1),5e3);return console.log(`⚠️ Network error (${c.message}), retrying in ${u}ms...`),await new Promise(d=>setTimeout(d,u)),Hl(t,e,r,n,s-1)}return console.error("❌ Fatal error in getUserFromSupabaseId:",c),null}}const KL=({children:t})=>{const[e,r]=y.useState(null),[n,s]=y.useState(null),[i,o]=y.useState(null),[l,c]=y.useState(!0),[u,d]=y.useState("Loading..."),[f,h]=y.useState(!1),v=he.useRef(null),p=he.useRef(!1);y.useEffect(()=>{(async()=>{await qL(),h(!0),console.log("✅ Auth cache hydrated - app ready to render")})()},[]),y.useEffect(()=>{if(!f)return;(async()=>{d("Checking session...");const{data:{session:_}}=await Ve.auth.getSession();if(o(_),s((_==null?void 0:_.user)??null),_!=null&&_.user)try{await Promise.all([Cn(_.user.id),En(_.access_token)]),d("Loading your data...");const S=await Hl(_.user.id,_.user.email||"",_.user.user_metadata,_.access_token);S?(Ar.clear(),r(S),v.current=_.user.id,c(!1)):(await Ve.auth.signOut(),await Promise.all([Cn(null),En(null)]),r(null),o(null),s(null),c(!1))}catch{await Ve.auth.signOut(),await Promise.all([Cn(null),En(null)]),r(null),o(null),s(null),c(!1)}else await Promise.all([Cn(null),En(null)]),c(!1)})().catch(_=>{console.error("Session check failed:",_),c(!1)});const{data:{subscription:x}}=Ve.auth.onAuthStateChange(async(_,S)=>{if(console.log("🔔 Auth state change:",_,"isSigningUp:",p.current),p.current){console.log("⏭️ Ignoring auth state change during signup");return}if(o(S),s((S==null?void 0:S.user)??null),S!=null&&S.user){if(await Promise.all([Cn(S.user.id),En(S.access_token)]),_==="TOKEN_REFRESHED"||v.current===S.user.id){c(!1);return}c(!0),d("Signing you in...");try{const k=await Hl(S.user.id,S.user.email||"",S.user.user_metadata,S.access_token);k?(Ar.clear(),r(k),v.current=S.user.id,c(!1)):(_!=="SIGNED_IN"?(console.log("⚠️ User data not found, signing out (event:",_,")"),await Ve.auth.signOut(),await Promise.all([Cn(null),En(null)]),r(null),o(null),s(null)):console.log("⏳ Fresh sign-in detected, user data not ready yet. Keeping session active."),c(!1))}catch{_!=="SIGNED_IN"&&(await Ve.auth.signOut(),await Promise.all([Cn(null),En(null)]),r(null),o(null),s(null)),c(!1)}}else await Promise.all([Cn(null),En(null)]),r(null),v.current=null,c(!1)});return()=>x.unsubscribe()},[f]);const g=m=>{r(m)},b=async()=>{await Ve.auth.signOut(),await Promise.all([Cn(null),En(null)]),r(null),o(null),s(null),Ar.clear()},w=m=>{console.log("🚦 Setting signup in progress:",m),p.current=m};return f?a.jsx(qN.Provider,{value:{user:e,supabaseUser:n,session:i,isLoading:l,loadingMessage:u,login:g,logout:b,isAuthenticated:!!e,setSignupInProgress:w},children:t}):a.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh"},children:a.jsx("p",{children:"Initializing..."})})},HN=y.createContext(void 0);function GL({children:t}){const[e,r]=y.useState(!0);y.useEffect(()=>{const o=localStorage.getItem("bjj_darkmode")!=="false";localStorage.getItem("bjj_darkmode")||localStorage.setItem("bjj_darkmode","true"),r(o),n(o)},[]);const n=o=>{o?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},s=o=>{r(o),localStorage.setItem("bjj_darkmode",o.toString()),n(o)},i=()=>{s(!e)};return a.jsx(HN.Provider,{value:{darkMode:e,toggleDarkMode:i,setDarkMode:s},children:t})}function QL(){const t=y.useContext(HN);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t}function YL(){const[t]=Xa();y.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"instant"}),document.body.scrollTop=0,document.documentElement.scrollTop=0},[t])}const JL=1,KN=4e3;let Zh=0;function ZL(){return Zh=(Zh+1)%Number.MAX_SAFE_INTEGER,Zh.toString()}const Xh=new Map,bx=t=>{if(Xh.has(t))return;const e=setTimeout(()=>{Xh.delete(t),Kl({type:"REMOVE_TOAST",toastId:t})},KN);Xh.set(t,e)},XL=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,JL)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?bx(r):t.toasts.forEach(n=>{bx(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},nd=[];let sd={toasts:[]};function Kl(t){sd=XL(sd,t),nd.forEach(e=>{e(sd)})}function eF({duration:t=KN,...e}){const r=ZL(),n=i=>Kl({type:"UPDATE_TOAST",toast:{...i,id:r}}),s=()=>Kl({type:"DISMISS_TOAST",toastId:r});return Kl({type:"ADD_TOAST",toast:{...e,id:r,open:!0,onOpenChange:i=>{i||s()}}}),setTimeout(()=>{s()},t),{id:r,dismiss:s,update:n}}function Ft(){const[t,e]=y.useState(sd);return y.useEffect(()=>(nd.push(e),()=>{const r=nd.indexOf(e);r>-1&&nd.splice(r,1)}),[t]),{...t,toast:eF,dismiss:r=>Kl({type:"DISMISS_TOAST",toastId:r})}}const zi={async getAll(t){const{data:e,error:r}=await Ve.from("classes").select("*").eq("user_id",t).order("date",{ascending:!1});if(r)throw r;return(e||[]).map(n=>({...n,classType:n.class_type,techniquesFocused:n.techniques_focused,rollingPartners:n.rolling_partners,yourSubmissions:n.your_submissions,partnerSubmissions:n.partner_submissions,cardioRating:n.cardio_rating}))},async create(t,e){const r={date:e.date,time:e.time,duration:e.duration,class_type:e.classType,instructor:e.instructor||"",techniques_focused:e.techniquesFocused||"",rolling_partners:e.rollingPartners||[],your_submissions:e.yourSubmissions||0,partner_submissions:e.partnerSubmissions||0,cardio_rating:e.cardioRating||3,user_id:t};console.log("Class data being sent to Supabase:",JSON.stringify(r,null,2));const{data:n,error:s}=await Ve.from("classes").insert(r).select().single();if(s)throw console.error("Class creation error:",s),console.error("Error details:",JSON.stringify(s,null,2)),s;return console.log("Class created successfully:",n),{...n,classType:n.class_type,techniquesFocused:n.techniques_focused,rollingPartners:n.rolling_partners,yourSubmissions:n.your_submissions,partnerSubmissions:n.partner_submissions,cardioRating:n.cardio_rating}},async update(t,e,r){const n={date:r.date,time:r.time,duration:r.duration,class_type:r.classType,instructor:r.instructor||"",techniques_focused:r.techniquesFocused||"",rolling_partners:r.rollingPartners||[],your_submissions:r.yourSubmissions||0,partner_submissions:r.partnerSubmissions||0,cardio_rating:r.cardioRating||3},{data:s,error:i}=await Ve.from("classes").update(n).eq("id",t).eq("user_id",e).select().single();if(i)throw i;return{...s,classType:s.class_type,techniquesFocused:s.techniques_focused,rollingPartners:s.rolling_partners,yourSubmissions:s.your_submissions,partnerSubmissions:s.partner_submissions,cardioRating:s.cardio_rating}},async delete(t,e){const{error:r}=await Ve.from("classes").delete().eq("id",t).eq("user_id",e);if(r)throw r;return{success:!0}}},zs={async getCurrent(t){const{data:e,error:r}=await Ve.from("belts").select("*").eq("user_id",t).order("promotion_date",{ascending:!1}).limit(1).single();if(r&&r.code!=="PGRST116")throw r;return e},async getAll(t){const{data:e,error:r}=await Ve.from("belts").select("*").eq("user_id",t).order("promotion_date",{ascending:!1});if(r)throw r;return e||[]},async create(t,e){const{data:r,error:n}=await Ve.from("belts").insert({belt:e.belt,stripes:e.stripes,promotion_date:e.promotionDate,instructor:e.instructor,notes:e.notes,user_id:t}).select().single();if(n)throw n;return r},async update(t,e,r){const{data:n,error:s}=await Ve.from("belts").update({belt:r.belt,stripes:r.stripes,promotion_date:r.promotionDate,instructor:r.instructor,notes:r.notes}).eq("id",t).eq("user_id",e).select().single();if(s)throw s;return n},async delete(t,e){const{error:r}=await Ve.from("belts").delete().eq("id",t).eq("user_id",e);if(r)throw r}},em={async getCurrent(t){const e=new Date,r=e.getUTCDay(),n=r===0?0:-r,s=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()+n,0,0,0,0)),i=s.toISOString().split("T")[0];console.log("getCurrent - Looking for week:",i);const{data:o,error:l}=await Ve.from("weekly_commitments").select("*").eq("user_id",t).gte("week_start_date",i).lt("week_start_date",new Date(s.getTime()+24*60*60*1e3).toISOString().split("T")[0]).order("created_at",{ascending:!1}).limit(1).single();if(console.log("getCurrent - Found:",o,"Error:",l),l&&l.code!=="PGRST116")throw l;return o},async create(t,e){console.log("Creating weekly commitment with userId:",t,"data:",e);const{data:r,error:n}=await Ve.from("weekly_commitments").insert({week_start_date:e.weekStartDate,target_classes:e.targetClasses,completed_classes:e.completedClasses||0,is_completed:e.isCompleted||0,user_id:t}).select().single();if(n)throw console.error("Weekly commitment creation error:",n),console.error("Error details:",JSON.stringify(n,null,2)),n;return console.log("Weekly commitment created successfully:",r),r},async update(t,e,r){console.log("Updating weekly commitment:",t,"userId:",e,"data:",r);const n={};r.weekStartDate!==void 0&&(n.week_start_date=r.weekStartDate),r.targetClasses!==void 0&&(n.target_classes=r.targetClasses),r.completedClasses!==void 0&&(n.completed_classes=r.completedClasses),r.isCompleted!==void 0&&(n.is_completed=r.isCompleted);const{data:s,error:i}=await Ve.from("weekly_commitments").update(n).eq("id",t).eq("user_id",e).select().single();if(i)throw console.error("Weekly commitment update error:",i),console.error("Error details:",JSON.stringify(i,null,2)),i;return console.log("Weekly commitment updated successfully:",s),s}},_x={async getAll(t){const{data:e,error:r}=await Ve.from("drawings").select("*").eq("user_id",t).order("created_at",{ascending:!1});if(r)throw r;return e||[]},async create(t,e){const{data:r,error:n}=await Ve.from("drawings").insert({...e,user_id:t}).select().single();if(n)throw n;return r}};function tF(){const[t,e]=y.useState(!1),[r,n]=y.useState(3),{toast:s}=Ft(),i=ks(),{user:o}=fr();he.useEffect(()=>{o&&console.log("WeeklyGoals user object:",{id:o.id,type:typeof o.id,email:o.email})},[o]);const{data:l}=Xe({queryKey:["weeklyCommitments","current",o==null?void 0:o.id],queryFn:()=>em.getCurrent(o.id),enabled:!!(o!=null&&o.id),staleTime:6e4}),{data:c=[]}=Xe({queryKey:["classes",o==null?void 0:o.id],queryFn:()=>zi.getAll(o.id),enabled:!!(o!=null&&o.id),staleTime:6e4}),u=new Date,d=new Date(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()-u.getUTCDay()+1);d.setUTCHours(0,0,0,0);const f=Array.isArray(c)?c.filter(m=>new Date(m.date)>=d).length:0,h=We({mutationFn:async m=>{if(!(o!=null&&o.id))throw new Error("User not authenticated");return l&&l.id?await em.update(l.id,o.id,m):await em.create(o.id,m)},onSuccess:m=>{console.log("Weekly goal mutation success:",m),i.invalidateQueries({queryKey:["weeklyCommitments","current",o==null?void 0:o.id]}),i.invalidateQueries({queryKey:["classes",o==null?void 0:o.id]}),e(!1),s({title:"Success",description:`Weekly goal set to ${r} classes!`,duration:4e3})}}),v=m=>{if(m.preventDefault(),h.isPending)return;const x=new Date,_=x.getUTCDay(),S=_===0?0:-_,k=new Date(Date.UTC(x.getUTCFullYear(),x.getUTCMonth(),x.getUTCDate()+S,0,0,0,0));console.log("FRONTEND: Creating goal for week:",k.toISOString()),h.mutate({weekStartDate:k,targetClasses:r,completedClasses:f,isCompleted:f>=r?1:0})},p=(l==null?void 0:l.target_classes)||0,g=f,b=p>0?Math.min(g/p*100,100):0,w=Math.max(p-g,0);return a.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Weekly Goals"}),a.jsx("button",{onClick:()=>e(!t),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:l?"Update":"Set Goal"})]}),t&&a.jsxs("form",{onSubmit:v,className:"mb-4 p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"mb-3",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Classes this week: ",r]}),a.jsx("input",{type:"range",min:"1",max:"10",value:r,onChange:m=>n(parseInt(m.target.value)),className:"w-full"}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[a.jsx("span",{children:"1"}),a.jsx("span",{children:"5"}),a.jsx("span",{children:"10"})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{type:"submit",disabled:h.isPending,className:"flex-1 bg-blue-600 text-white py-2 px-3 rounded-lg text-sm hover:bg-blue-700 disabled:opacity-50",children:h.isPending?"Saving...":"Set Goal"}),a.jsx("button",{type:"button",onClick:()=>e(!1),className:"px-3 py-2 text-gray-600 hover:text-gray-800 text-sm",children:"Cancel"})]})]}),l?a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Progress this week"}),a.jsxs("span",{className:"text-sm font-medium text-gray-800",children:[g," / ",p," classes"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 mb-3",children:a.jsx("div",{className:`h-3 rounded-full transition-all duration-300 ${b>=100?"bg-green-500":b>=75?"bg-yellow-500":"bg-blue-500"}`,style:{width:`${b}%`}})}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("div",{className:`${b>=100?"text-green-600":"text-gray-600"}`,children:b>=100?a.jsx("span",{className:"font-medium",children:"🎉 Goal completed!"}):w===1?a.jsxs("span",{children:[w," more class to go!"]}):w>1?a.jsxs("span",{children:[w," more classes to go!"]}):a.jsx("span",{children:"Keep it up!"})}),a.jsxs("div",{className:"text-gray-500",children:[Math.round(b),"%"]})]}),b>=100&&a.jsxs("div",{className:"mt-3 p-3 bg-green-50 rounded-lg text-center",children:[a.jsx("div",{className:"text-green-800 font-medium text-sm",children:"Excellent work this week! 🥋"}),a.jsx("div",{className:"text-green-600 text-xs mt-1",children:"You've reached your training goal"})]})]}):a.jsxs("div",{className:"text-center py-4 text-gray-500",children:[a.jsx("p",{className:"text-sm",children:"No weekly goal set yet."}),a.jsx("p",{className:"text-xs",children:"Set a goal to track your progress!"})]})]})}/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rF=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),GN=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var nF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sF=y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...l},c)=>y.createElement("svg",{ref:c,...nF,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:GN("lucide",s),...l},[...o.map(([u,d])=>y.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=(t,e)=>{const r=y.forwardRef(({className:n,...s},i)=>y.createElement(sF,{ref:i,iconNode:e,className:GN(`lucide-${rF(t)}`,n),...s}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=pe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gl=pe("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ud=pe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=pe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iF=pe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const un=pe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=pe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oF=pe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=pe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=pe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=pe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aF=pe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lF=pe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cF=pe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uF=pe("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=pe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dF=pe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=pe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bd=pe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=pe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fF=pe("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tm=pe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hF=pe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mF=pe("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pF=pe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zp=pe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vp=pe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=pe("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gF=pe("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yF=pe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=pe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vF=pe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xF=pe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wp=pe("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wF=pe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bF=pe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const co=pe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zd=pe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _F=pe("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SF=pe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jF=pe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vd=pe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=pe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=pe("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kF=pe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function NF(){const[t,e]=y.useState(!1),r=y.useRef(null),{user:n,logout:s}=fr(),{data:i=[]}=Xe({queryKey:["classes",n==null?void 0:n.id],queryFn:async()=>n!=null&&n.id?await zi.getAll(n.id):[],enabled:!!(n!=null&&n.id)}),{data:o}=Xe({queryKey:["current-belt",n==null?void 0:n.id],queryFn:async()=>{if(!(n!=null&&n.id))return null;console.log("ProfileDropdown - Fetching belt for user ID:",n.id);const u=await zs.getCurrent(n.id);return console.log("ProfileDropdown - Belt data received:",u),u},enabled:!!(n!=null&&n.id)});y.useEffect(()=>{const u=d=>{r.current&&!r.current.contains(d.target)&&e(!1)};return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[]);const l=u=>u?new Date(u).toLocaleDateString():"No promotions yet",c=()=>{if(!o)return"White Belt";const{belt:u,stripes:d}=o,f=u.charAt(0).toUpperCase()+u.slice(1),h=d>0?` (${d} stripe${d>1?"s":""})`:"";return`${f} Belt${h}`};return a.jsxs("div",{className:"relative",ref:r,children:[a.jsxs("button",{onClick:()=>e(!t),className:"flex items-center space-x-3 bg-white rounded-full p-2 shadow-md hover:shadow-lg transition-shadow duration-200 border border-gray-200",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-red-500 rounded-full flex items-center justify-center",children:a.jsx(Vd,{className:"w-4 h-4 text-white"})}),a.jsxs("div",{className:"hidden md:block text-left",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:(n==null?void 0:n.firstName)||"User"}),a.jsx("p",{className:"text-xs text-gray-500",children:c()})]}),a.jsx(Vf,{className:`w-4 h-4 text-gray-500 transition-transform duration-200 ${t?"rotate-180":""}`})]}),t&&a.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-xl shadow-lg border border-gray-200 z-50",children:[a.jsx("div",{className:"p-4 border-b border-gray-100",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-red-500 rounded-full flex items-center justify-center",children:a.jsx(Vd,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("h3",{className:"font-semibold text-gray-900",children:[n==null?void 0:n.firstName," ",n==null?void 0:n.lastName]}),a.jsx("p",{className:"text-sm text-gray-600",children:n==null?void 0:n.email}),a.jsx("p",{className:"text-sm font-medium text-blue-600",children:c()})]})]})}),a.jsxs("div",{className:"p-4 border-b border-gray-100",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Your Progress"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(iF,{className:"w-4 h-4 text-blue-500"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Total Classes"})]}),a.jsx("span",{className:"text-sm font-semibold text-gray-900",children:i.length})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Gl,{className:"w-4 h-4 text-yellow-500"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Last Promotion"})]}),a.jsx("span",{className:"text-sm font-semibold text-gray-900",children:l(o==null?void 0:o.promotion_date)})]})]})]}),a.jsxs("div",{className:"p-2",children:[a.jsx(Mt,{href:"/settings",children:a.jsxs("button",{onClick:()=>e(!1),className:"w-full flex items-center space-x-3 px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:[a.jsx(xF,{className:"w-4 h-4"}),a.jsx("span",{children:"Settings"})]})}),a.jsx(Mt,{href:"/belts",children:a.jsxs("button",{onClick:()=>e(!1),className:"w-full flex items-center space-x-3 px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:[a.jsx(Gl,{className:"w-4 h-4"}),a.jsx("span",{children:"Belt Progress"})]})}),a.jsxs("button",{onClick:()=>{s(),e(!1)},className:"w-full flex items-center space-x-3 px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[a.jsx(pF,{className:"w-4 h-4"}),a.jsx("span",{children:"Log Out"})]})]})]})]})}const CF=()=>{const t=[{quote:"The ground is my ocean, I'm the shark, and most people don't even know how to swim",author:"Rickson Gracie"},{quote:"A belt only covers two inches of your ass. You have to cover the rest",author:"Royce Gracie"},{quote:"Always assume that your opponent is going to be bigger, stronger and faster than you",author:"Helio Gracie"},{quote:"If you think, you are late. If you are late, you use strength. If you use strength, you tire. And if you tire, you die",author:"Saulo Ribeiro"}],[e]=y.useState(()=>t[Math.floor(Math.random()*t.length)]);return a.jsxs("div",{className:"text-center",children:[a.jsxs("h2",{className:"text-xl font-bold mb-3 leading-tight",children:['"',e.quote,'"']}),a.jsxs("p",{className:"text-blue-100 text-sm",children:["- ",e.author]})]})};function EF(){const{user:t}=fr(),{data:e}=Xe({queryKey:["belts","current",t==null?void 0:t.id],queryFn:()=>zs.getCurrent(t.id),enabled:!!(t!=null&&t.id),staleTime:6e4});console.log("Current belt data:",e);const{data:r=[]}=Xe({queryKey:["classes",t==null?void 0:t.id],queryFn:()=>zi.getAll(t.id),enabled:!!(t!=null&&t.id),staleTime:6e4}),n=new Date,s=new Date(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()-n.getUTCDay()+1);s.setUTCHours(0,0,0,0);const i=Array.isArray(r)?r.filter(p=>new Date(p.date)>=s).length:0,o=Array.isArray(r)?r.length:0,l=Array.isArray(r)?r.reduce((p,g)=>p+(g.duration||0),0):0,c=Array.isArray(r)?r.reduce((p,g)=>{const b=g.classType||g.class_type||"Unknown";return p[b]=(p[b]||0)+1,p},{}):{},u=Array.isArray(r)?Math.max(0,...r.map(p=>p.yourSubmissions||p.your_submissions||0)):0,d={};Array.isArray(r)&&r.forEach(p=>{const g=new Date(p.date),b=new Date(g.getUTCFullYear(),g.getUTCMonth(),g.getUTCDate()-g.getUTCDay()+1);b.setUTCHours(0,0,0,0);const w=b.toISOString().split("T")[0];d[w]=(d[w]||0)+(p.yourSubmissions||p.your_submissions||0)});const f=Math.max(0,...Object.values(d)),h={classesThisWeek:i,totalClasses:o,totalMinutes:l,classTypeBreakdown:c,highestSubsPerSession:u,highestSubsPerWeek:f},v=({belt:p,stripes:g})=>{const b=m=>({white:"bg-white border-2 border-gray-400",blue:"bg-blue-600",purple:"bg-purple-600",brown:"bg-amber-800",black:"bg-black"})[m]||"bg-gray-400",w=m=>({white:"bg-gray-800",blue:"bg-blue-800",purple:"bg-purple-800",brown:"bg-amber-900",black:"bg-gray-900"})[m]||"bg-gray-600";return a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:`${b(p)} w-20 h-5 rounded-sm shadow-md relative flex items-center justify-center`,children:[a.jsx("div",{className:`${w(p)} absolute left-0 top-0 bottom-0 w-1.5 rounded-l-sm`}),a.jsx("span",{className:`${p==="white"?"text-black":"text-white"} font-bold text-xs`,children:"BJJ"}),a.jsx("div",{className:"absolute right-1 top-1/2 transform -translate-y-1/2 flex gap-0.5",children:Array.from({length:g}).map((m,x)=>a.jsx("div",{className:"w-1 h-3 bg-gray-300 rounded-sm"},x))})]}),a.jsxs("div",{className:"text-xs font-medium capitalize text-gray-800 dark:text-white",children:[p," Belt ",g>0&&`(${g} stripe${g!==1?"s":""})`]})]})};return a.jsxs("div",{className:"p-6 max-w-md mx-auto min-h-screen bg-gray-50 dark:bg-gray-900",children:[a.jsx("div",{className:"flex justify-end mb-4",children:a.jsx(NF,{})}),a.jsx("div",{className:"mb-8 relative overflow-hidden rounded-3xl z-0 glow-pulse",children:a.jsxs("div",{className:"bg-gradient-to-r from-pink-500 via-purple-500 to-cyan-500 p-8 text-white",children:[a.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/20 rounded-full -translate-y-8 translate-x-8 bounce-fun"}),a.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-yellow-300/30 rounded-full translate-y-8 -translate-x-8 bounce-fun",style:{animationDelay:"1s"}}),a.jsx("div",{className:"absolute top-1/2 left-1/4 w-16 h-16 bg-green-300/20 rounded-full bounce-fun",style:{animationDelay:"0.5s"}}),a.jsx("div",{className:"relative z-10",children:a.jsx(CF,{})})]})}),a.jsx("div",{className:"mb-8",children:a.jsx(tF,{})}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-6",children:"Quick Actions ⚡"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs(Mt,{to:"/classes",className:"bg-gradient-to-br from-red-500 to-red-600 text-white p-6 rounded-2xl shadow-lg hover-scale transition-all duration-200 block",children:[a.jsx("div",{className:"text-2xl mb-2",children:"📝"}),a.jsx("div",{className:"font-bold text-lg mb-1",children:"Log Class"}),a.jsx("div",{className:"text-sm opacity-90",children:"Record your training"})]}),a.jsxs(Mt,{to:"/notes",className:"bg-gradient-to-br from-violet-500 to-violet-600 text-white p-6 rounded-2xl shadow-lg hover-scale transition-all duration-200 block",children:[a.jsx("div",{className:"text-2xl mb-2",children:"📚"}),a.jsx("div",{className:"font-bold text-lg mb-1",children:"New Note"}),a.jsx("div",{className:"text-sm opacity-90",children:"Save techniques"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white p-6 rounded-2xl shadow-lg hover-scale transition-all duration-200",children:[a.jsx("div",{className:"text-lg font-bold mb-2",children:"Your Stats 📊"}),a.jsxs("div",{className:"space-y-1 text-sm opacity-90",children:[Object.entries(h.classTypeBreakdown).length>0?Object.entries(h.classTypeBreakdown).map(([p,g])=>a.jsxs("div",{children:[p,": ",g]},p)):a.jsx("div",{children:"No classes yet"}),a.jsxs("div",{className:"border-t border-white/20 mt-2 pt-2",children:[a.jsxs("div",{children:["Best Session: ",h.highestSubsPerSession," subs"]}),a.jsxs("div",{children:["Best Week: ",h.highestSubsPerWeek," subs"]})]})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-emerald-500 to-emerald-600 text-white p-6 rounded-2xl shadow-lg hover-scale transition-all duration-200",children:[a.jsx("div",{className:"text-3xl font-bold mb-2",children:h.totalClasses}),a.jsx("div",{className:"text-sm opacity-90",children:"Total Classes"}),a.jsx("div",{className:"mt-2 text-2xl",children:"💪"})]}),a.jsxs(Mt,{to:"/belts",className:"bg-gradient-to-br from-purple-500 to-purple-600 text-white p-6 rounded-2xl shadow-lg hover-scale transition-all duration-200 block",children:[a.jsx("div",{className:"mb-2",children:e?a.jsx(v,{belt:e.belt,stripes:e.stripes}):a.jsx("div",{className:"text-sm text-purple-100",children:"No belt recorded"})}),a.jsx("div",{className:"text-sm opacity-90",children:"Current Belt"}),a.jsx("div",{className:"mt-2 text-2xl",children:"🥋"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 text-white p-6 rounded-2xl shadow-lg hover-scale transition-all duration-200",children:[a.jsxs("div",{className:"text-3xl font-bold mb-2",children:[(h.totalMinutes/60).toFixed(1),"hrs"]}),a.jsx("div",{className:"text-sm opacity-90",children:"Total Hours"}),a.jsx("div",{className:"mt-2 text-2xl",children:"⏱️"})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-md",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"Recent Activity"}),a.jsx("div",{className:"space-y-3",children:Array.isArray(r)&&r.length>0?r.slice(0,3).map(p=>a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-blue-600 dark:text-blue-400 text-sm",children:"📅"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-800 dark:text-white",children:"Training Session"}),a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[new Date(p.date).toLocaleDateString()," • ",p.classType||p.class_type||"Unknown"]})]})]},p.id)):a.jsxs("div",{className:"text-center py-4 text-gray-500 dark:text-gray-400",children:[a.jsx("p",{children:"No recent activity"}),a.jsx("p",{className:"text-sm",children:"Start by logging your first class!"})]})})]})]})}const PF=["Joe@cleancutconstructions.com.au","joe833360@gmail.com","Bjjjitsjournal@gmail.com","bjjjitsjournal@gmail.com","admin@apexbjj.com.au"],XN=t=>t?PF.includes(t):!1,Wf=(t,e,r)=>XN(t)||e==="premium"||e==="active"?!0:r?new Date(r)>new Date:!1,TF=(t,e,r)=>XN(t)?"Premium (Unlimited)":Wf(t,e,r)?"Premium":"Free Tier",Xi={classes:3,notes:3,dataLimitGB:0,communitySharesPerWeek:0};function AF(){const[t,e]=y.useState(!1),[r,n]=y.useState(null),[s,i]=y.useState(!1),[o,l]=y.useState(null),[c,u]=y.useState(null),d=()=>new Intl.DateTimeFormat("en-CA",{timeZone:"Australia/Sydney",year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date),[f,h]=y.useState({date:d(),time:"18:00",duration:60,type:"Gi",instructor:"",notes:"",rollingPartners:"",yourSubmissions:0,partnerSubmissions:0,cardioRating:3}),{toast:v}=Ft(),p=ks(),{user:g}=fr(),b=Wf(g==null?void 0:g.email,g==null?void 0:g.subscriptionStatus),{data:w=[],isLoading:m}=Xe({queryKey:["classes",g==null?void 0:g.id],queryFn:async()=>g!=null&&g.id?await zi.getAll(g.id):[],enabled:!!(g!=null&&g.id)}),x=Array.isArray(w)?w:[],_=We({mutationFn:async({classData:O,originalFormData:V})=>{if(!(g!=null&&g.id))throw new Error("User not authenticated");return{result:await zi.create(g.id,O),originalFormData:V}},onSuccess:({originalFormData:O})=>{p.invalidateQueries({queryKey:["classes",g==null?void 0:g.id]}),p.invalidateQueries({queryKey:["weekly-commitment",g==null?void 0:g.id]}),p.invalidateQueries({queryKey:["current-belt",g==null?void 0:g.id]}),p.refetchQueries({queryKey:["classes",g==null?void 0:g.id]}),p.refetchQueries({queryKey:["weekly-commitment",g==null?void 0:g.id]});let V="Your training session has been recorded.";const R=[];if(O.instructor&&O.instructor.trim()&&R.push(`with ${O.instructor}`),O.notes&&O.notes.trim()){const B=O.notes.trim().length>30?O.notes.trim().substring(0,30)+"...":O.notes.trim();R.push(B)}R.length>0&&(V=`${O.type} class logged - ${R.join(" • ")}`),v({title:"Class Logged!",description:V,duration:4e3}),j()},onError:O=>{v({title:"Error",description:"Failed to log class. Please try again.",variant:"destructive"})}}),S=We({mutationFn:async({classId:O,classData:V})=>{if(!(g!=null&&g.id))throw new Error("User not authenticated");return await zi.update(O,g.id,V)},onSuccess:()=>{p.invalidateQueries({queryKey:["classes",g==null?void 0:g.id]}),v({title:"Class Updated!",description:"Your class has been updated successfully.",duration:4e3}),j()},onError:()=>{v({title:"Error",description:"Failed to update class. Please try again.",variant:"destructive"})}}),k=We({mutationFn:async O=>{if(!(g!=null&&g.id))throw new Error("User not authenticated");return await zi.delete(O,g.id)},onSuccess:()=>{p.invalidateQueries({queryKey:["classes",g==null?void 0:g.id]}),p.invalidateQueries({queryKey:["weekly-commitment",g==null?void 0:g.id]}),v({title:"Class Deleted",description:"Your class has been removed.",duration:4e3}),i(!1),l(null)},onError:()=>{v({title:"Error",description:"Failed to delete class. Please try again.",variant:"destructive"})}}),j=()=>{e(!1),n(null),h({date:d(),time:"18:00",duration:60,type:"Gi",instructor:"",notes:"",rollingPartners:"",yourSubmissions:0,partnerSubmissions:0,cardioRating:3})},E=O=>{var V,R;n(O.id),h({date:O.date.split("T")[0],time:O.time||"18:00",duration:O.duration,type:O.classType||O.class_type,instructor:O.instructor||"",notes:O.techniquesFocused||O.techniques_focused||"",rollingPartners:((V=O.rollingPartners)==null?void 0:V.join(", "))||((R=O.rolling_partners)==null?void 0:R.join(", "))||"",yourSubmissions:O.yourSubmissions||O.your_submissions||0,partnerSubmissions:O.partnerSubmissions||O.partner_submissions||0,cardioRating:O.cardioRating||O.cardio_rating||3}),e(!0)},T=O=>{l(O),i(!0)},I=()=>{o&&k.mutate(o)},q=O=>{if(O.preventDefault(),!r&&!b&&Array.isArray(w)&&w.length>=Xi.classes){v({title:"Class Limit Reached",description:`Free tier is limited to ${Xi.classes} classes. Upgrade to Premium for unlimited class logging!`,variant:"destructive"});return}const V={date:f.date,time:f.time,duration:f.duration,classType:f.type,instructor:f.instructor,techniquesFocused:f.notes,rollingPartners:f.rollingPartners?f.rollingPartners.split(",").map(R=>R.trim()).filter(R=>R):[],yourSubmissions:f.yourSubmissions,partnerSubmissions:f.partnerSubmissions,cardioRating:f.cardioRating};r?S.mutate({classId:r,classData:V}):_.mutate({classData:V,originalFormData:{...f}})},L=O=>{const{name:V,value:R}=O.target;h(B=>({...B,[V]:["duration","yourSubmissions","partnerSubmissions","cardioRating"].includes(V)?parseInt(R)||0:R}))};return t?a.jsxs("div",{className:"p-6 max-w-md mx-auto bg-background min-h-screen",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-foreground",children:r?"Edit Class":"Log Class"}),a.jsx("button",{onClick:j,className:"text-muted-foreground hover:text-foreground",children:"✕"})]}),a.jsxs("form",{onSubmit:q,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Date"}),a.jsx("input",{type:"date",name:"date",value:f.date,onChange:L,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-black",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Time"}),a.jsx("input",{type:"time",name:"time",value:f.time,onChange:L,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-black",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Duration (minutes)"}),a.jsx("input",{type:"number",name:"duration",value:f.duration,onChange:L,min:"30",max:"240",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-black",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),a.jsxs("select",{name:"type",value:f.type,onChange:L,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-black",children:[a.jsx("option",{value:"Gi",children:"Gi"}),a.jsx("option",{value:"No Gi",children:"No Gi"}),a.jsx("option",{value:"Open Mat",children:"Open Mat"}),a.jsx("option",{value:"Competition",children:"Competition"}),a.jsx("option",{value:"Drilling",children:"Drilling"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Instructor"}),a.jsx("input",{type:"text",name:"instructor",value:f.instructor,onChange:L,placeholder:"Enter instructor name",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-black placeholder-gray-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),a.jsx("textarea",{name:"notes",value:f.notes,onChange:L,rows:3,placeholder:"What did you work on today?",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-black placeholder-gray-500"})]}),a.jsxs("div",{className:"border-t pt-4 mt-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-3",children:"Rolling Session"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rolling Partners"}),a.jsx("input",{type:"text",name:"rollingPartners",value:f.rollingPartners,onChange:L,placeholder:"Who did you roll with? (comma separated)",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-black placeholder-gray-500"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Submissions"}),a.jsx("input",{type:"number",name:"yourSubmissions",value:f.yourSubmissions,onChange:L,min:"0",max:"50",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-black"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Partner Submissions"}),a.jsx("input",{type:"number",name:"partnerSubmissions",value:f.partnerSubmissions,onChange:L,min:"0",max:"50",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-black"})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"How did your cardio feel? (1-5)"}),a.jsxs("select",{name:"cardioRating",value:f.cardioRating,onChange:L,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-black",children:[a.jsx("option",{value:1,children:"1 - Exhausted"}),a.jsx("option",{value:2,children:"2 - Tired"}),a.jsx("option",{value:3,children:"3 - Average"}),a.jsx("option",{value:4,children:"4 - Good"}),a.jsx("option",{value:5,children:"5 - Excellent"})]})]})]}),a.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-blue-500 to-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:from-blue-600 hover:to-blue-700 transition-all duration-200",children:r?"Update Class":"Log Class"})]})]}):a.jsxs("div",{className:"p-6 max-w-md mx-auto bg-background min-h-screen",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Classes"}),a.jsx("button",{onClick:()=>e(!0),className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-4 py-2 rounded-lg font-medium hover:from-blue-600 hover:to-purple-700 transition-all duration-200",children:"+ New Class"})]}),a.jsx("div",{className:"space-y-3",children:x.map((O,V)=>{const R=c===O.id;return a.jsxs("div",{className:"bg-gradient-to-r from-slate-50 to-gray-50 dark:from-slate-800/50 dark:to-gray-800/50 border border-slate-200 dark:border-slate-700 rounded-lg shadow-sm hover-scale transition-all duration-200",children:[a.jsxs("div",{onClick:()=>u(R?null:O.id),className:"cursor-pointer p-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[a.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-semibold",children:O.classType}),a.jsx("span",{className:"text-gray-400",children:"•"}),a.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[new Date(O.date).toLocaleDateString(),O.time&&` @ ${O.time}`]})]}),R?a.jsx(YN,{className:"w-5 h-5 text-gray-500"}):a.jsx(Vf,{className:"w-5 h-5 text-gray-500"})]}),R&&a.jsxs("div",{className:"px-4 pb-4 space-y-3 border-t border-slate-200 dark:border-slate-700 pt-3",children:[O.instructor&&a.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:[a.jsx("strong",{children:"Instructor:"})," ",O.instructor]}),O.techniquesFocused&&a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[a.jsx("strong",{children:"Notes:"})," ",O.techniquesFocused]}),O.rollingPartners&&O.rollingPartners.length>0&&a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[a.jsx("strong",{children:"Rolling Partners:"})," ",O.rollingPartners.join(", ")]}),(O.yourSubmissions>0||O.partnerSubmissions>0||O.cardioRating)&&a.jsxs("div",{className:"flex gap-4 text-sm text-gray-600 dark:text-gray-400",children:[(O.yourSubmissions>0||O.partnerSubmissions>0)&&a.jsxs("span",{children:[a.jsx("strong",{children:"Submissions:"})," You ",O.yourSubmissions||0," - ",O.partnerSubmissions||0," Partners"]}),O.cardioRating&&a.jsxs("span",{children:[a.jsx("strong",{children:"Cardio:"})," ",O.cardioRating,"/5",O.cardioRating===1&&" 😵",O.cardioRating===2&&" 😓",O.cardioRating===3&&" 😐",O.cardioRating===4&&" 😊",O.cardioRating===5&&" 💪"]})]}),a.jsxs("div",{className:"flex gap-2 pt-2 border-t border-slate-200 dark:border-slate-700",children:[a.jsxs("button",{onClick:B=>{B.stopPropagation(),E(O)},className:"flex items-center gap-2 flex-1 justify-center px-4 py-2 text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded transition-colors font-medium","data-testid":`button-edit-class-${O.id}`,children:[a.jsx(bF,{className:"w-4 h-4"}),"Edit"]}),a.jsxs("button",{onClick:B=>{B.stopPropagation(),T(O.id)},className:"flex items-center gap-2 flex-1 justify-center px-4 py-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors font-medium","data-testid":`button-delete-class-${O.id}`,children:[a.jsx(co,{className:"w-4 h-4"}),"Delete"]})]})]})]},O.id)})}),s&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-sm w-full",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2",children:"Delete Class?"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Are you sure you want to delete this class? This action cannot be undone."}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>{i(!1),l(null)},className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors","data-testid":"button-cancel-delete",children:"Cancel"}),a.jsx("button",{onClick:I,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors","data-testid":"button-confirm-delete",children:"Delete"})]})]})})]})}function eC(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=eC(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function tC(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=eC(t))&&(n&&(n+=" "),n+=e);return n}const Ex=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Px=tC,wy=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return Px(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const h=Ex(d)||Ex(f);return s[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...v}=d;return Object.entries(v).every(p=>{let[g,b]=p;return Array.isArray(b)?b.includes({...i,...l}[g]):{...i,...l}[g]===b})?[...u,f,h]:u},[]);return Px(t,o,c,r==null?void 0:r.class,r==null?void 0:r.className)},by="-",OF=t=>{const e=DF(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const l=o.split(by);return l[0]===""&&l.length!==1&&l.shift(),rC(l,e)||RF(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},rC=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),s=n?rC(t.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(by);return(o=e.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},Tx=/^\[(.+)\]$/,RF=t=>{if(Tx.test(t)){const e=Tx.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},DF=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return MF(Object.entries(t.classGroups),r).forEach(([i,o])=>{qp(o,n,i,e)}),n},qp=(t,e,r,n)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:Ax(e,s);i.classGroupId=r;return}if(typeof s=="function"){if(IF(s)){qp(s(n),e,r,n);return}e.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{qp(o,Ax(e,i),r,n)})})},Ax=(t,e)=>{let r=t;return e.split(by).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},IF=t=>t.isThemeGetter,MF=(t,e)=>e?t.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[e+o,l])):i);return[r,s]}):t,LF=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},nC="!",FF=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,s=e[0],i=e.length,o=l=>{const c=[];let u=0,d=0,f;for(let b=0;b<l.length;b++){let w=l[b];if(u===0){if(w===s&&(n||l.slice(b,b+i)===e)){c.push(l.slice(d,b)),d=b+i;continue}if(w==="/"){f=b;continue}}w==="["?u++:w==="]"&&u--}const h=c.length===0?l:l.substring(d),v=h.startsWith(nC),p=v?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:v,baseClassName:p,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:o}):o},$F=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},UF=t=>({cache:LF(t.cacheSize),parseClassName:FF(t),...OF(t)}),BF=/\s+/,zF=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(BF);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:v}=r(u);let p=!!v,g=n(p?h.substring(0,v):h);if(!g){if(!p){l=u+(l.length>0?" "+l:l);continue}if(g=n(h),!g){l=u+(l.length>0?" "+l:l);continue}p=!1}const b=$F(d).join(":"),w=f?b+nC:b,m=w+g;if(i.includes(m))continue;i.push(m);const x=s(g,p);for(let _=0;_<x.length;++_){const S=x[_];i.push(w+S)}l=u+(l.length>0?" "+l:l)}return l};function VF(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=sC(e))&&(n&&(n+=" "),n+=r);return n}const sC=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=sC(t[n]))&&(r&&(r+=" "),r+=e);return r};function WF(t,...e){let r,n,s,i=o;function o(c){const u=e.reduce((d,f)=>f(d),t());return r=UF(u),n=r.cache.get,s=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=zF(c,r);return s(c,d),d}return function(){return i(VF.apply(null,arguments))}}const Ge=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},iC=/^\[(?:([a-z-]+):)?(.+)\]$/i,qF=/^\d+\/\d+$/,HF=new Set(["px","full","screen"]),KF=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,GF=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,QF=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,YF=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,JF=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Jn=t=>da(t)||HF.has(t)||qF.test(t),As=t=>sl(t,"length",i3),da=t=>!!t&&!Number.isNaN(Number(t)),rm=t=>sl(t,"number",da),xl=t=>!!t&&Number.isInteger(Number(t)),ZF=t=>t.endsWith("%")&&da(t.slice(0,-1)),xe=t=>iC.test(t),Os=t=>KF.test(t),XF=new Set(["length","size","percentage"]),e3=t=>sl(t,XF,oC),t3=t=>sl(t,"position",oC),r3=new Set(["image","url"]),n3=t=>sl(t,r3,a3),s3=t=>sl(t,"",o3),wl=()=>!0,sl=(t,e,r)=>{const n=iC.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},i3=t=>GF.test(t)&&!QF.test(t),oC=()=>!1,o3=t=>YF.test(t),a3=t=>JF.test(t),l3=()=>{const t=Ge("colors"),e=Ge("spacing"),r=Ge("blur"),n=Ge("brightness"),s=Ge("borderColor"),i=Ge("borderRadius"),o=Ge("borderSpacing"),l=Ge("borderWidth"),c=Ge("contrast"),u=Ge("grayscale"),d=Ge("hueRotate"),f=Ge("invert"),h=Ge("gap"),v=Ge("gradientColorStops"),p=Ge("gradientColorStopPositions"),g=Ge("inset"),b=Ge("margin"),w=Ge("opacity"),m=Ge("padding"),x=Ge("saturate"),_=Ge("scale"),S=Ge("sepia"),k=Ge("skew"),j=Ge("space"),E=Ge("translate"),T=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],q=()=>["auto",xe,e],L=()=>[xe,e],O=()=>["",Jn,As],V=()=>["auto",da,xe],R=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],B=()=>["solid","dashed","dotted","double","none"],$=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],P=()=>["start","end","center","between","around","evenly","stretch"],M=()=>["","0",xe],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],te=()=>[da,xe];return{cacheSize:500,separator:":",theme:{colors:[wl],spacing:[Jn,As],blur:["none","",Os,xe],brightness:te(),borderColor:[t],borderRadius:["none","","full",Os,xe],borderSpacing:L(),borderWidth:O(),contrast:te(),grayscale:M(),hueRotate:te(),invert:M(),gap:L(),gradientColorStops:[t],gradientColorStopPositions:[ZF,As],inset:q(),margin:q(),opacity:te(),padding:L(),saturate:te(),scale:te(),sepia:M(),skew:te(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",xe]}],container:["container"],columns:[{columns:[Os]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...R(),xe]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",xl,xe]}],basis:[{basis:q()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",xe]}],grow:[{grow:M()}],shrink:[{shrink:M()}],order:[{order:["first","last","none",xl,xe]}],"grid-cols":[{"grid-cols":[wl]}],"col-start-end":[{col:["auto",{span:["full",xl,xe]},xe]}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":[wl]}],"row-start-end":[{row:["auto",{span:[xl,xe]},xe]}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",xe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",xe]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...P()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...P(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...P(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[m]}],px:[{px:[m]}],py:[{py:[m]}],ps:[{ps:[m]}],pe:[{pe:[m]}],pt:[{pt:[m]}],pr:[{pr:[m]}],pb:[{pb:[m]}],pl:[{pl:[m]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",xe,e]}],"min-w":[{"min-w":[xe,e,"min","max","fit"]}],"max-w":[{"max-w":[xe,e,"none","full","min","max","fit","prose",{screen:[Os]},Os]}],h:[{h:[xe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[xe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[xe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[xe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Os,As]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",rm]}],"font-family":[{font:[wl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",xe]}],"line-clamp":[{"line-clamp":["none",da,rm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Jn,xe]}],"list-image":[{"list-image":["none",xe]}],"list-style-type":[{list:["none","disc","decimal",xe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Jn,As]}],"underline-offset":[{"underline-offset":["auto",Jn,xe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...R(),t3]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",e3]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},n3]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...B(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:B()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...B()]}],"outline-offset":[{"outline-offset":[Jn,xe]}],"outline-w":[{outline:[Jn,As]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Jn,As]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Os,s3]}],"shadow-color":[{shadow:[wl]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...$(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":$()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Os,xe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[x]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",xe]}],duration:[{duration:te()}],ease:[{ease:["linear","in","out","in-out",xe]}],delay:[{delay:te()}],animate:[{animate:["none","spin","ping","pulse","bounce",xe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[xl,xe]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",xe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",xe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",xe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Jn,As,rm]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},c3=WF(l3);function ue(...t){return c3(tC(t))}const u3=wy("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),vc=y.forwardRef(({className:t,variant:e,...r},n)=>a.jsx("div",{ref:n,role:"alert",className:ue(u3({variant:e}),t),...r}));vc.displayName="Alert";const d3=y.forwardRef(({className:t,...e},r)=>a.jsx("h5",{ref:r,className:ue("mb-1 font-medium leading-none tracking-tight",t),...e}));d3.displayName="AlertTitle";const xc=y.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:ue("text-sm [&_p]:leading-relaxed",t),...e}));xc.displayName="AlertDescription";const f3=(ar.isNativePlatform(),"https://bjj-jits-journal.onrender.com");function h3({noteId:t,existingVideo:e,onVideoUploaded:r}){const[n,s]=y.useState(!1),[i,o]=y.useState(0),l=y.useRef(null),c=y.useRef(null),{toast:u}=Ft(),d=ks(),{user:f}=fr(),{data:h}=Xe({queryKey:["/api/storage/usage"]}),v=We({mutationFn:async({file:k,thumbnail:j})=>{var L;const E=new FormData;E.append("video",k),E.append("fileName",k.name),E.append("fileSize",k.size.toString()),E.append("userId",((L=f==null?void 0:f.id)==null?void 0:L.toString())||""),E.append("supabaseId",(f==null?void 0:f.supabaseId)||""),j&&E.append("thumbnail",j),console.log("📤 FormData being sent:"),console.log("  - userId:",f==null?void 0:f.id),console.log("  - supabaseId:",f==null?void 0:f.supabaseId),console.log("  - fileName:",k.name),console.log("  - fileSize:",k.size),o(30);const T=`${f3}/api/notes/${t}/upload-video`;console.log("🎥 Starting video upload to:",T),console.log("📦 File size:",k.size,"bytes");const I=await fetch(T,{method:"POST",body:E}).catch(O=>{throw console.error("❌ Fetch error:",O),new Error(`Network error: ${O.message}`)});if(console.log("📡 Response status:",I.status),!I.ok){const O=await I.json();throw console.error("❌ Server error:",O),new Error(O.message||"Upload failed")}o(80);const q=await I.json();return o(100),q},onSuccess:()=>{setTimeout(()=>{s(!1),o(0)},500),d.invalidateQueries({queryKey:["notes"]}),d.invalidateQueries({queryKey:["/api/storage/usage"]}),u({title:"Video uploaded successfully!",description:"Your video has been attached to the note"}),r==null||r()},onError:k=>{s(!1),o(0),console.error("Video upload error:",k),u({title:"Upload failed",description:k.message||"Failed to upload video. Please try again.",variant:"destructive"})}}),p=We({mutationFn:async()=>await Rt("DELETE",`/api/notes/${t}/video?userId=${f==null?void 0:f.id}`),onSuccess:()=>{d.invalidateQueries({queryKey:["notes"]}),d.invalidateQueries({queryKey:["/api/storage/usage"]}),u({title:"Video removed",description:"Video has been removed from the note"}),r==null||r()},onError:k=>{u({title:"Remove failed",description:"Failed to remove video. Please try again.",variant:"destructive"})}}),g=k=>{var T;const j=(T=k.target.files)==null?void 0:T[0];if(!j)return;if(!j.type.startsWith("video/")){u({title:"Invalid file type",description:"Please select a video file",variant:"destructive"});return}const E=5*1024*1024*1024;if(j.size>E){u({title:"File too large",description:"Video must be less than 5GB",variant:"destructive"});return}if(h){const I=j.size,q=h.remaining;if(I>q){const L=(I/1048576).toFixed(1);u({title:"Storage quota exceeded",description:`This video (${L} MB) exceeds your remaining storage (${h.remainingFormatted}). Delete videos or upgrade your plan.`,variant:"destructive"});return}}b(j)},b=async k=>{s(!0),o(10);try{const j=await w(k);o(20),v.mutate({file:k,thumbnail:j})}catch(j){console.error("Upload error:",j),s(!1),o(0),u({title:"Upload failed",description:"Failed to process video file",variant:"destructive"})}},w=k=>new Promise(j=>{const E=document.createElement("video");E.crossOrigin="anonymous",E.onloadeddata=()=>{E.currentTime=1},E.onseeked=()=>{const T=document.createElement("canvas"),I=T.getContext("2d");T.width=E.videoWidth,T.height=E.videoHeight,I==null||I.drawImage(E,0,0);const q=T.toDataURL("image/jpeg",.8);j(q)},E.onerror=()=>j(""),E.src=URL.createObjectURL(k)}),m=()=>{p.mutate()},x=()=>{var k;(k=l.current)==null||k.click()};if(e)return a.jsxs("div",{className:"mt-4 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Cx,{className:"w-5 h-5 text-blue-600"}),a.jsx("span",{className:"font-medium text-gray-800",children:"Attached Video"})]}),a.jsx("button",{onClick:m,disabled:p.isPending,className:"text-red-600 hover:text-red-700 p-1",children:a.jsx(co,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"relative",children:[a.jsx("video",{ref:c,src:e.videoUrl,controls:!0,className:"w-full rounded-lg shadow-sm",style:{maxHeight:"300px"},children:"Your browser does not support the video tag."}),a.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["📎 ",e.videoFileName]})]})]});const _=h&&h.percentage>=80,S=h&&h.percentage>=100;return a.jsxs("div",{className:"mt-4",children:[_&&!S&&a.jsxs(vc,{className:"mb-4","data-testid":"alert-storage-warning-upload",children:[a.jsx(zd,{className:"h-4 w-4"}),a.jsxs(xc,{children:["You're using ",h==null?void 0:h.percentage.toFixed(0),"% of your storage (",h==null?void 0:h.remainingFormatted," remaining). Consider deleting old videos or upgrading your plan."]})]}),S&&a.jsxs(vc,{variant:"destructive",className:"mb-4","data-testid":"alert-storage-full-upload",children:[a.jsx(zd,{className:"h-4 w-4"}),a.jsx(xc,{children:"Storage limit reached. Delete videos or upgrade to continue uploading."})]}),a.jsx("input",{ref:l,type:"file",accept:"video/*",onChange:g,className:"hidden"}),n?a.jsx("div",{className:"p-6 border-2 border-blue-300 border-dashed rounded-lg bg-blue-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Cx,{className:"w-8 h-8 text-blue-600 mx-auto mb-3 animate-pulse"}),a.jsx("p",{className:"text-blue-800 font-medium mb-2",children:i<50?"Reading video file...":i<60?"Generating thumbnail...":i<100?"Uploading to server...":"Finalizing..."}),a.jsx("div",{className:"w-full bg-blue-200 rounded-full h-3 mb-2",children:a.jsx("div",{className:"bg-blue-600 h-3 rounded-full transition-all duration-500 ease-out",style:{width:`${i}%`}})}),a.jsxs("p",{className:"text-sm text-blue-600 font-medium",children:[Math.round(i),"% complete"]}),a.jsx("p",{className:"text-xs text-blue-500 mt-1",children:"Please wait, do not close this page"})]})}):a.jsx("div",{className:"w-full",children:a.jsx("button",{onClick:x,className:"w-full p-6 border-2 border-gray-300 border-dashed rounded-lg hover:border-blue-400 hover:bg-blue-50 transition-colors group",disabled:n,children:a.jsxs("div",{className:"text-center",children:[a.jsx(SF,{className:"w-8 h-8 text-gray-400 group-hover:text-blue-600 mx-auto mb-3"}),a.jsx("span",{className:"text-lg text-gray-600 group-hover:text-blue-600 font-medium",children:"Upload Video from Gallery"}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Select a video file from your device"})]})})}),a.jsx("p",{className:"text-xs text-gray-500 mt-3 text-center",children:"Supported formats: MP4, MOV, AVI • Maximum file size: 5GB"})]})}function Ox(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function qf(...t){return e=>{let r=!1;const n=t.map(s=>{const i=Ox(s,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():Ox(t[s],null)}}}}function Ie(...t){return y.useCallback(qf(...t),t)}function fi(t){const e=m3(t),r=y.forwardRef((n,s)=>{const{children:i,...o}=n,l=y.Children.toArray(i),c=l.find(g3);if(c){const u=c.props.children,d=l.map(f=>f===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:f);return a.jsx(e,{...o,ref:s,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return a.jsx(e,{...o,ref:s,children:i})});return r.displayName=`${t}.Slot`,r}var aC=fi("Slot");function m3(t){const e=y.forwardRef((r,n)=>{const{children:s,...i}=r;if(y.isValidElement(s)){const o=v3(s),l=y3(i,s.props);return s.type!==y.Fragment&&(l.ref=n?qf(n,o):o),y.cloneElement(s,l)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var lC=Symbol("radix.slottable");function p3(t){const e=({children:r})=>a.jsx(a.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=lC,e}function g3(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===lC}function y3(t,e){const r={...e};for(const n in e){const s=t[n],i=e[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{i(...l),s(...l)}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...t,...r}}function v3(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}const wc=wy("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),$e=y.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...s},i)=>{const o=n?aC:"button";return a.jsx(o,{className:ue(wc({variant:e,size:r,className:t})),ref:i,...s})});$e.displayName="Button";function ne(t,e,{checkForDefaultPrevented:r=!0}={}){return function(s){if(t==null||t(s),r===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function x3(t,e){const r=y.createContext(e),n=i=>{const{children:o,...l}=i,c=y.useMemo(()=>l,Object.values(l));return a.jsx(r.Provider,{value:c,children:o})};n.displayName=t+"Provider";function s(i){const o=y.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[n,s]}function Gn(t,e=[]){let r=[];function n(i,o){const l=y.createContext(o),c=r.length;r=[...r,o];const u=f=>{var w;const{scope:h,children:v,...p}=f,g=((w=h==null?void 0:h[t])==null?void 0:w[c])||l,b=y.useMemo(()=>p,Object.values(p));return a.jsx(g.Provider,{value:b,children:v})};u.displayName=i+"Provider";function d(f,h){var g;const v=((g=h==null?void 0:h[t])==null?void 0:g[c])||l,p=y.useContext(v);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>y.createContext(o));return function(l){const c=(l==null?void 0:l[t])||i;return y.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[n,w3(s,...e)]}function w3(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function Xr(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t}),y.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function Ba({prop:t,defaultProp:e,onChange:r=()=>{}}){const[n,s]=b3({defaultProp:e,onChange:r}),i=t!==void 0,o=i?t:n,l=Xr(r),c=y.useCallback(u=>{if(i){const f=typeof u=="function"?u(t):u;f!==t&&l(f)}else s(u)},[i,t,s,l]);return[o,c]}function b3({defaultProp:t,onChange:e}){const r=y.useState(t),[n]=r,s=y.useRef(n),i=Xr(e);return y.useEffect(()=>{s.current!==n&&(i(n),s.current=n)},[n,s,i]),r}var _3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Se=_3.reduce((t,e)=>{const r=fi(`Primitive.${e}`),n=y.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function cC(t,e){t&&Za.flushSync(()=>t.dispatchEvent(e))}function _y(t){const e=t+"CollectionProvider",[r,n]=Gn(e),[s,i]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:b,children:w}=g,m=he.useRef(null),x=he.useRef(new Map).current;return a.jsx(s,{scope:b,itemMap:x,collectionRef:m,children:w})};o.displayName=e;const l=t+"CollectionSlot",c=fi(l),u=he.forwardRef((g,b)=>{const{scope:w,children:m}=g,x=i(l,w),_=Ie(b,x.collectionRef);return a.jsx(c,{ref:_,children:m})});u.displayName=l;const d=t+"CollectionItemSlot",f="data-radix-collection-item",h=fi(d),v=he.forwardRef((g,b)=>{const{scope:w,children:m,...x}=g,_=he.useRef(null),S=Ie(b,_),k=i(d,w);return he.useEffect(()=>(k.itemMap.set(_,{ref:_,...x}),()=>void k.itemMap.delete(_))),a.jsx(h,{[f]:"",ref:S,children:m})});v.displayName=d;function p(g){const b=i(t+"CollectionConsumer",g);return he.useCallback(()=>{const m=b.collectionRef.current;if(!m)return[];const x=Array.from(m.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((k,j)=>x.indexOf(k.ref.current)-x.indexOf(j.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:u,ItemSlot:v},p,n]}var S3=y.createContext(void 0);function Sy(t){const e=y.useContext(S3);return t||e||"ltr"}function j3(t,e=globalThis==null?void 0:globalThis.document){const r=Xr(t);y.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var k3="DismissableLayer",Hp="dismissableLayer.update",N3="dismissableLayer.pointerDownOutside",C3="dismissableLayer.focusOutside",Rx,uC=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Jc=y.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=t,u=y.useContext(uC),[d,f]=y.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=y.useState({}),p=Ie(e,j=>f(j)),g=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=g.indexOf(b),m=d?g.indexOf(d):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,_=m>=w,S=T3(j=>{const E=j.target,T=[...u.branches].some(I=>I.contains(E));!_||T||(s==null||s(j),o==null||o(j),j.defaultPrevented||l==null||l())},h),k=A3(j=>{const E=j.target;[...u.branches].some(I=>I.contains(E))||(i==null||i(j),o==null||o(j),j.defaultPrevented||l==null||l())},h);return j3(j=>{m===u.layers.size-1&&(n==null||n(j),!j.defaultPrevented&&l&&(j.preventDefault(),l()))},h),y.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Rx=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Dx(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Rx)}},[d,h,r,u]),y.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Dx())},[d,u]),y.useEffect(()=>{const j=()=>v({});return document.addEventListener(Hp,j),()=>document.removeEventListener(Hp,j)},[]),a.jsx(Se.div,{...c,ref:p,style:{pointerEvents:x?_?"auto":"none":void 0,...t.style},onFocusCapture:ne(t.onFocusCapture,k.onFocusCapture),onBlurCapture:ne(t.onBlurCapture,k.onBlurCapture),onPointerDownCapture:ne(t.onPointerDownCapture,S.onPointerDownCapture)})});Jc.displayName=k3;var E3="DismissableLayerBranch",P3=y.forwardRef((t,e)=>{const r=y.useContext(uC),n=y.useRef(null),s=Ie(e,n);return y.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),a.jsx(Se.div,{...t,ref:s})});P3.displayName=E3;function T3(t,e=globalThis==null?void 0:globalThis.document){const r=Xr(t),n=y.useRef(!1),s=y.useRef(()=>{});return y.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){dC(N3,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function A3(t,e=globalThis==null?void 0:globalThis.document){const r=Xr(t),n=y.useRef(!1);return y.useEffect(()=>{const s=i=>{i.target&&!n.current&&dC(C3,r,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Dx(){const t=new CustomEvent(Hp);document.dispatchEvent(t)}function dC(t,e,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?cC(s,i):s.dispatchEvent(i)}var nm=0;function Hf(){y.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Ix()),document.body.insertAdjacentElement("beforeend",t[1]??Ix()),nm++,()=>{nm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),nm--}},[])}function Ix(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var sm="focusScope.autoFocusOnMount",im="focusScope.autoFocusOnUnmount",Mx={bubbles:!1,cancelable:!0},O3="FocusScope",Zc=y.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[l,c]=y.useState(null),u=Xr(s),d=Xr(i),f=y.useRef(null),h=Ie(e,g=>c(g)),v=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(n){let g=function(x){if(v.paused||!l)return;const _=x.target;l.contains(_)?f.current=_:Ms(f.current,{select:!0})},b=function(x){if(v.paused||!l)return;const _=x.relatedTarget;_!==null&&(l.contains(_)||Ms(f.current,{select:!0}))},w=function(x){if(document.activeElement===document.body)for(const S of x)S.removedNodes.length>0&&Ms(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",b);const m=new MutationObserver(w);return l&&m.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",b),m.disconnect()}}},[n,l,v.paused]),y.useEffect(()=>{if(l){Fx.add(v);const g=document.activeElement;if(!l.contains(g)){const w=new CustomEvent(sm,Mx);l.addEventListener(sm,u),l.dispatchEvent(w),w.defaultPrevented||(R3(F3(fC(l)),{select:!0}),document.activeElement===g&&Ms(l))}return()=>{l.removeEventListener(sm,u),setTimeout(()=>{const w=new CustomEvent(im,Mx);l.addEventListener(im,d),l.dispatchEvent(w),w.defaultPrevented||Ms(g??document.body,{select:!0}),l.removeEventListener(im,d),Fx.remove(v)},0)}}},[l,u,d,v]);const p=y.useCallback(g=>{if(!r&&!n||v.paused)return;const b=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,w=document.activeElement;if(b&&w){const m=g.currentTarget,[x,_]=D3(m);x&&_?!g.shiftKey&&w===_?(g.preventDefault(),r&&Ms(x,{select:!0})):g.shiftKey&&w===x&&(g.preventDefault(),r&&Ms(_,{select:!0})):w===m&&g.preventDefault()}},[r,n,v.paused]);return a.jsx(Se.div,{tabIndex:-1,...o,ref:h,onKeyDown:p})});Zc.displayName=O3;function R3(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Ms(n,{select:e}),document.activeElement!==r)return}function D3(t){const e=fC(t),r=Lx(e,t),n=Lx(e.reverse(),t);return[r,n]}function fC(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Lx(t,e){for(const r of t)if(!I3(r,{upTo:e}))return r}function I3(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function M3(t){return t instanceof HTMLInputElement&&"select"in t}function Ms(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&M3(t)&&e&&t.select()}}var Fx=L3();function L3(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=$x(t,e),t.unshift(e)},remove(e){var r;t=$x(t,e),(r=t[0])==null||r.resume()}}}function $x(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function F3(t){return t.filter(e=>e.tagName!=="A")}var lr=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},$3=Bj[" useId ".trim().toString()]||(()=>{}),U3=0;function Bn(t){const[e,r]=y.useState($3());return lr(()=>{r(n=>n??String(U3++))},[t]),e?`radix-${e}`:""}const B3=["top","right","bottom","left"],hi=Math.min,Or=Math.max,Wd=Math.round,Mu=Math.floor,zn=t=>({x:t,y:t}),z3={left:"right",right:"left",bottom:"top",top:"bottom"},V3={start:"end",end:"start"};function Kp(t,e,r){return Or(t,hi(e,r))}function vs(t,e){return typeof t=="function"?t(e):t}function xs(t){return t.split("-")[0]}function il(t){return t.split("-")[1]}function jy(t){return t==="x"?"y":"x"}function ky(t){return t==="y"?"height":"width"}function mi(t){return["top","bottom"].includes(xs(t))?"y":"x"}function Ny(t){return jy(mi(t))}function W3(t,e,r){r===void 0&&(r=!1);const n=il(t),s=Ny(t),i=ky(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=qd(o)),[o,qd(o)]}function q3(t){const e=qd(t);return[Gp(t),e,Gp(e)]}function Gp(t){return t.replace(/start|end/g,e=>V3[e])}function H3(t,e,r){const n=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return r?e?s:n:e?n:s;case"left":case"right":return e?i:o;default:return[]}}function K3(t,e,r,n){const s=il(t);let i=H3(xs(t),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Gp)))),i}function qd(t){return t.replace(/left|right|bottom|top/g,e=>z3[e])}function G3(t){return{top:0,right:0,bottom:0,left:0,...t}}function hC(t){return typeof t!="number"?G3(t):{top:t,right:t,bottom:t,left:t}}function Hd(t){const{x:e,y:r,width:n,height:s}=t;return{width:n,height:s,top:r,left:e,right:e+n,bottom:r+s,x:e,y:r}}function Ux(t,e,r){let{reference:n,floating:s}=t;const i=mi(e),o=Ny(e),l=ky(o),c=xs(e),u=i==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,h=n[l]/2-s[l]/2;let v;switch(c){case"top":v={x:d,y:n.y-s.height};break;case"bottom":v={x:d,y:n.y+n.height};break;case"right":v={x:n.x+n.width,y:f};break;case"left":v={x:n.x-s.width,y:f};break;default:v={x:n.x,y:n.y}}switch(il(e)){case"start":v[o]-=h*(r&&u?-1:1);break;case"end":v[o]+=h*(r&&u?-1:1);break}return v}const Q3=async(t,e,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:f}=Ux(u,n,c),h=n,v={},p=0;for(let g=0;g<l.length;g++){const{name:b,fn:w}=l[g],{x:m,y:x,data:_,reset:S}=await w({x:d,y:f,initialPlacement:n,placement:h,strategy:s,middlewareData:v,rects:u,platform:o,elements:{reference:t,floating:e}});d=m??d,f=x??f,v={...v,[b]:{...v[b],..._}},S&&p<=50&&(p++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(u=S.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):S.rects),{x:d,y:f}=Ux(u,h,c)),g=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:v}};async function bc(t,e){var r;e===void 0&&(e={});const{x:n,y:s,platform:i,rects:o,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:v=0}=vs(e,t),p=hC(v),b=l[h?f==="floating"?"reference":"floating":f],w=Hd(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(b)))==null||r?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),m=f==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),_=await(i.isElement==null?void 0:i.isElement(x))?await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1}:{x:1,y:1},S=Hd(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:m,offsetParent:x,strategy:c}):m);return{top:(w.top-S.top+p.top)/_.y,bottom:(S.bottom-w.bottom+p.bottom)/_.y,left:(w.left-S.left+p.left)/_.x,right:(S.right-w.right+p.right)/_.x}}const Y3=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:s,rects:i,platform:o,elements:l,middlewareData:c}=e,{element:u,padding:d=0}=vs(t,e)||{};if(u==null)return{};const f=hC(d),h={x:r,y:n},v=Ny(s),p=ky(v),g=await o.getDimensions(u),b=v==="y",w=b?"top":"left",m=b?"bottom":"right",x=b?"clientHeight":"clientWidth",_=i.reference[p]+i.reference[v]-h[v]-i.floating[p],S=h[v]-i.reference[v],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let j=k?k[x]:0;(!j||!await(o.isElement==null?void 0:o.isElement(k)))&&(j=l.floating[x]||i.floating[p]);const E=_/2-S/2,T=j/2-g[p]/2-1,I=hi(f[w],T),q=hi(f[m],T),L=I,O=j-g[p]-q,V=j/2-g[p]/2+E,R=Kp(L,V,O),B=!c.arrow&&il(s)!=null&&V!==R&&i.reference[p]/2-(V<L?I:q)-g[p]/2<0,$=B?V<L?V-L:V-O:0;return{[v]:h[v]+$,data:{[v]:R,centerOffset:V-R-$,...B&&{alignmentOffset:$}},reset:B}}}),J3=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...b}=vs(t,e);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const w=xs(s),m=mi(l),x=xs(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=h||(x||!g?[qd(l)]:q3(l)),k=p!=="none";!h&&k&&S.push(...K3(l,g,p,_));const j=[l,...S],E=await bc(e,b),T=[];let I=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&T.push(E[w]),f){const V=W3(s,o,_);T.push(E[V[0]],E[V[1]])}if(I=[...I,{placement:s,overflows:T}],!T.every(V=>V<=0)){var q,L;const V=(((q=i.flip)==null?void 0:q.index)||0)+1,R=j[V];if(R)return{data:{index:V,overflows:I},reset:{placement:R}};let B=(L=I.filter($=>$.overflows[0]<=0).sort(($,P)=>$.overflows[1]-P.overflows[1])[0])==null?void 0:L.placement;if(!B)switch(v){case"bestFit":{var O;const $=(O=I.filter(P=>{if(k){const M=mi(P.placement);return M===m||M==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(M=>M>0).reduce((M,K)=>M+K,0)]).sort((P,M)=>P[1]-M[1])[0])==null?void 0:O[0];$&&(B=$);break}case"initialPlacement":B=l;break}if(s!==B)return{reset:{placement:B}}}return{}}}};function Bx(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function zx(t){return B3.some(e=>t[e]>=0)}const Z3=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...s}=vs(t,e);switch(n){case"referenceHidden":{const i=await bc(e,{...s,elementContext:"reference"}),o=Bx(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:zx(o)}}}case"escaped":{const i=await bc(e,{...s,altBoundary:!0}),o=Bx(i,r.floating);return{data:{escapedOffsets:o,escaped:zx(o)}}}default:return{}}}}};async function X3(t,e){const{placement:r,platform:n,elements:s}=t,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=xs(r),l=il(r),c=mi(r)==="y",u=["left","top"].includes(o)?-1:1,d=i&&c?-1:1,f=vs(e,t);let{mainAxis:h,crossAxis:v,alignmentAxis:p}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof p=="number"&&(v=l==="end"?p*-1:p),c?{x:v*d,y:h*u}:{x:h*u,y:v*d}}const e$=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:s,y:i,placement:o,middlewareData:l}=e,c=await X3(e,t);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},t$=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:b=>{let{x:w,y:m}=b;return{x:w,y:m}}},...c}=vs(t,e),u={x:r,y:n},d=await bc(e,c),f=mi(xs(s)),h=jy(f);let v=u[h],p=u[f];if(i){const b=h==="y"?"top":"left",w=h==="y"?"bottom":"right",m=v+d[b],x=v-d[w];v=Kp(m,v,x)}if(o){const b=f==="y"?"top":"left",w=f==="y"?"bottom":"right",m=p+d[b],x=p-d[w];p=Kp(m,p,x)}const g=l.fn({...e,[h]:v,[f]:p});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[h]:i,[f]:o}}}}}},r$=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:s,rects:i,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=vs(t,e),d={x:r,y:n},f=mi(s),h=jy(f);let v=d[h],p=d[f];const g=vs(l,e),b=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const x=h==="y"?"height":"width",_=i.reference[h]-i.floating[x]+b.mainAxis,S=i.reference[h]+i.reference[x]-b.mainAxis;v<_?v=_:v>S&&(v=S)}if(u){var w,m;const x=h==="y"?"width":"height",_=["top","left"].includes(xs(s)),S=i.reference[f]-i.floating[x]+(_&&((w=o.offset)==null?void 0:w[f])||0)+(_?0:b.crossAxis),k=i.reference[f]+i.reference[x]+(_?0:((m=o.offset)==null?void 0:m[f])||0)-(_?b.crossAxis:0);p<S?p=S:p>k&&(p=k)}return{[h]:v,[f]:p}}}},n$=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:s,rects:i,platform:o,elements:l}=e,{apply:c=()=>{},...u}=vs(t,e),d=await bc(e,u),f=xs(s),h=il(s),v=mi(s)==="y",{width:p,height:g}=i.floating;let b,w;f==="top"||f==="bottom"?(b=f,w=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(w=f,b=h==="end"?"top":"bottom");const m=g-d.top-d.bottom,x=p-d.left-d.right,_=hi(g-d[b],m),S=hi(p-d[w],x),k=!e.middlewareData.shift;let j=_,E=S;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(E=x),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(j=m),k&&!h){const I=Or(d.left,0),q=Or(d.right,0),L=Or(d.top,0),O=Or(d.bottom,0);v?E=p-2*(I!==0||q!==0?I+q:Or(d.left,d.right)):j=g-2*(L!==0||O!==0?L+O:Or(d.top,d.bottom))}await c({...e,availableWidth:E,availableHeight:j});const T=await o.getDimensions(l.floating);return p!==T.width||g!==T.height?{reset:{rects:!0}}:{}}}};function Kf(){return typeof window<"u"}function ol(t){return mC(t)?(t.nodeName||"").toLowerCase():"#document"}function Mr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Qn(t){var e;return(e=(mC(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function mC(t){return Kf()?t instanceof Node||t instanceof Mr(t).Node:!1}function wn(t){return Kf()?t instanceof Element||t instanceof Mr(t).Element:!1}function Wn(t){return Kf()?t instanceof HTMLElement||t instanceof Mr(t).HTMLElement:!1}function Vx(t){return!Kf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Mr(t).ShadowRoot}function Xc(t){const{overflow:e,overflowX:r,overflowY:n,display:s}=bn(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(s)}function s$(t){return["table","td","th"].includes(ol(t))}function Gf(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Cy(t){const e=Ey(),r=wn(t)?bn(t):t;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function i$(t){let e=pi(t);for(;Wn(e)&&!za(e);){if(Cy(e))return e;if(Gf(e))return null;e=pi(e)}return null}function Ey(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function za(t){return["html","body","#document"].includes(ol(t))}function bn(t){return Mr(t).getComputedStyle(t)}function Qf(t){return wn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function pi(t){if(ol(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Vx(t)&&t.host||Qn(t);return Vx(e)?e.host:e}function pC(t){const e=pi(t);return za(e)?t.ownerDocument?t.ownerDocument.body:t.body:Wn(e)&&Xc(e)?e:pC(e)}function _c(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const s=pC(t),i=s===((n=t.ownerDocument)==null?void 0:n.body),o=Mr(s);if(i){const l=Qp(o);return e.concat(o,o.visualViewport||[],Xc(s)?s:[],l&&r?_c(l):[])}return e.concat(s,_c(s,[],r))}function Qp(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function gC(t){const e=bn(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=Wn(t),i=s?t.offsetWidth:r,o=s?t.offsetHeight:n,l=Wd(r)!==i||Wd(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function Py(t){return wn(t)?t:t.contextElement}function fa(t){const e=Py(t);if(!Wn(e))return zn(1);const r=e.getBoundingClientRect(),{width:n,height:s,$:i}=gC(e);let o=(i?Wd(r.width):r.width)/n,l=(i?Wd(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const o$=zn(0);function yC(t){const e=Mr(t);return!Ey()||!e.visualViewport?o$:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function a$(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Mr(t)?!1:e}function uo(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const s=t.getBoundingClientRect(),i=Py(t);let o=zn(1);e&&(n?wn(n)&&(o=fa(n)):o=fa(t));const l=a$(i,r,n)?yC(i):zn(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const h=Mr(i),v=n&&wn(n)?Mr(n):n;let p=h,g=Qp(p);for(;g&&n&&v!==p;){const b=fa(g),w=g.getBoundingClientRect(),m=bn(g),x=w.left+(g.clientLeft+parseFloat(m.paddingLeft))*b.x,_=w.top+(g.clientTop+parseFloat(m.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,f*=b.y,c+=x,u+=_,p=Mr(g),g=Qp(p)}}return Hd({width:d,height:f,x:c,y:u})}function Ty(t,e){const r=Qf(t).scrollLeft;return e?e.left+r:uo(Qn(t)).left+r}function vC(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),s=n.left+e.scrollLeft-(r?0:Ty(t,n)),i=n.top+e.scrollTop;return{x:s,y:i}}function l$(t){let{elements:e,rect:r,offsetParent:n,strategy:s}=t;const i=s==="fixed",o=Qn(n),l=e?Gf(e.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=zn(1);const d=zn(0),f=Wn(n);if((f||!f&&!i)&&((ol(n)!=="body"||Xc(o))&&(c=Qf(n)),Wn(n))){const v=uo(n);u=fa(n),d.x=v.x+n.clientLeft,d.y=v.y+n.clientTop}const h=o&&!f&&!i?vC(o,c,!0):zn(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function c$(t){return Array.from(t.getClientRects())}function u$(t){const e=Qn(t),r=Qf(t),n=t.ownerDocument.body,s=Or(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),i=Or(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+Ty(t);const l=-r.scrollTop;return bn(n).direction==="rtl"&&(o+=Or(e.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:l}}function d$(t,e){const r=Mr(t),n=Qn(t),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;const u=Ey();(!u||u&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:l,y:c}}function f$(t,e){const r=uo(t,!0,e==="fixed"),n=r.top+t.clientTop,s=r.left+t.clientLeft,i=Wn(t)?fa(t):zn(1),o=t.clientWidth*i.x,l=t.clientHeight*i.y,c=s*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function Wx(t,e,r){let n;if(e==="viewport")n=d$(t,r);else if(e==="document")n=u$(Qn(t));else if(wn(e))n=f$(e,r);else{const s=yC(t);n={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Hd(n)}function xC(t,e){const r=pi(t);return r===e||!wn(r)||za(r)?!1:bn(r).position==="fixed"||xC(r,e)}function h$(t,e){const r=e.get(t);if(r)return r;let n=_c(t,[],!1).filter(l=>wn(l)&&ol(l)!=="body"),s=null;const i=bn(t).position==="fixed";let o=i?pi(t):t;for(;wn(o)&&!za(o);){const l=bn(o),c=Cy(o);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Xc(o)&&!c&&xC(t,o))?n=n.filter(d=>d!==o):s=l,o=pi(o)}return e.set(t,n),n}function m$(t){let{element:e,boundary:r,rootBoundary:n,strategy:s}=t;const o=[...r==="clippingAncestors"?Gf(e)?[]:h$(e,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=Wx(e,d,s);return u.top=Or(f.top,u.top),u.right=hi(f.right,u.right),u.bottom=hi(f.bottom,u.bottom),u.left=Or(f.left,u.left),u},Wx(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function p$(t){const{width:e,height:r}=gC(t);return{width:e,height:r}}function g$(t,e,r){const n=Wn(e),s=Qn(e),i=r==="fixed",o=uo(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const c=zn(0);if(n||!n&&!i)if((ol(e)!=="body"||Xc(s))&&(l=Qf(e)),n){const h=uo(e,!0,i,e);c.x=h.x+e.clientLeft,c.y=h.y+e.clientTop}else s&&(c.x=Ty(s));const u=s&&!n&&!i?vC(s,l):zn(0),d=o.left+l.scrollLeft-c.x-u.x,f=o.top+l.scrollTop-c.y-u.y;return{x:d,y:f,width:o.width,height:o.height}}function om(t){return bn(t).position==="static"}function qx(t,e){if(!Wn(t)||bn(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Qn(t)===r&&(r=r.ownerDocument.body),r}function wC(t,e){const r=Mr(t);if(Gf(t))return r;if(!Wn(t)){let s=pi(t);for(;s&&!za(s);){if(wn(s)&&!om(s))return s;s=pi(s)}return r}let n=qx(t,e);for(;n&&s$(n)&&om(n);)n=qx(n,e);return n&&za(n)&&om(n)&&!Cy(n)?r:n||i$(t)||r}const y$=async function(t){const e=this.getOffsetParent||wC,r=this.getDimensions,n=await r(t.floating);return{reference:g$(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function v$(t){return bn(t).direction==="rtl"}const x$={convertOffsetParentRelativeRectToViewportRelativeRect:l$,getDocumentElement:Qn,getClippingRect:m$,getOffsetParent:wC,getElementRects:y$,getClientRects:c$,getDimensions:p$,getScale:fa,isElement:wn,isRTL:v$};function bC(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function w$(t,e){let r=null,n;const s=Qn(t);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=t.getBoundingClientRect(),{left:d,top:f,width:h,height:v}=u;if(l||e(),!h||!v)return;const p=Mu(f),g=Mu(s.clientWidth-(d+h)),b=Mu(s.clientHeight-(f+v)),w=Mu(d),x={rootMargin:-p+"px "+-g+"px "+-b+"px "+-w+"px",threshold:Or(0,hi(1,c))||1};let _=!0;function S(k){const j=k[0].intersectionRatio;if(j!==c){if(!_)return o();j?o(!1,j):n=setTimeout(()=>{o(!1,1e-7)},1e3)}j===1&&!bC(u,t.getBoundingClientRect())&&o(),_=!1}try{r=new IntersectionObserver(S,{...x,root:s.ownerDocument})}catch{r=new IntersectionObserver(S,x)}r.observe(t)}return o(!0),i}function b$(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=Py(t),d=s||i?[...u?_c(u):[],..._c(e)]:[];d.forEach(w=>{s&&w.addEventListener("scroll",r,{passive:!0}),i&&w.addEventListener("resize",r)});const f=u&&l?w$(u,r):null;let h=-1,v=null;o&&(v=new ResizeObserver(w=>{let[m]=w;m&&m.target===u&&v&&(v.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var x;(x=v)==null||x.observe(e)})),r()}),u&&!c&&v.observe(u),v.observe(e));let p,g=c?uo(t):null;c&&b();function b(){const w=uo(t);g&&!bC(g,w)&&r(),g=w,p=requestAnimationFrame(b)}return r(),()=>{var w;d.forEach(m=>{s&&m.removeEventListener("scroll",r),i&&m.removeEventListener("resize",r)}),f==null||f(),(w=v)==null||w.disconnect(),v=null,c&&cancelAnimationFrame(p)}}const _$=e$,S$=t$,j$=J3,k$=n$,N$=Z3,Hx=Y3,C$=r$,E$=(t,e,r)=>{const n=new Map,s={platform:x$,...r},i={...s.platform,_c:n};return Q3(t,e,{...s,platform:i})};var id=typeof document<"u"?y.useLayoutEffect:y.useEffect;function Kd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Kd(t[n],e[n]))return!1;return!0}if(s=Object.keys(t),r=s.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&t.$$typeof)&&!Kd(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function _C(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Kx(t,e){const r=_C(t);return Math.round(e*r)/r}function am(t){const e=y.useRef(t);return id(()=>{e.current=t}),e}function P$(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[d,f]=y.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[h,v]=y.useState(n);Kd(h,n)||v(n);const[p,g]=y.useState(null),[b,w]=y.useState(null),m=y.useCallback(P=>{P!==k.current&&(k.current=P,g(P))},[]),x=y.useCallback(P=>{P!==j.current&&(j.current=P,w(P))},[]),_=i||p,S=o||b,k=y.useRef(null),j=y.useRef(null),E=y.useRef(d),T=c!=null,I=am(c),q=am(s),L=am(u),O=y.useCallback(()=>{if(!k.current||!j.current)return;const P={placement:e,strategy:r,middleware:h};q.current&&(P.platform=q.current),E$(k.current,j.current,P).then(M=>{const K={...M,isPositioned:L.current!==!1};V.current&&!Kd(E.current,K)&&(E.current=K,Za.flushSync(()=>{f(K)}))})},[h,e,r,q,L]);id(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(P=>({...P,isPositioned:!1})))},[u]);const V=y.useRef(!1);id(()=>(V.current=!0,()=>{V.current=!1}),[]),id(()=>{if(_&&(k.current=_),S&&(j.current=S),_&&S){if(I.current)return I.current(_,S,O);O()}},[_,S,O,I,T]);const R=y.useMemo(()=>({reference:k,floating:j,setReference:m,setFloating:x}),[m,x]),B=y.useMemo(()=>({reference:_,floating:S}),[_,S]),$=y.useMemo(()=>{const P={position:r,left:0,top:0};if(!B.floating)return P;const M=Kx(B.floating,d.x),K=Kx(B.floating,d.y);return l?{...P,transform:"translate("+M+"px, "+K+"px)",..._C(B.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:M,top:K}},[r,l,B.floating,d.x,d.y]);return y.useMemo(()=>({...d,update:O,refs:R,elements:B,floatingStyles:$}),[d,O,R,B,$])}const T$=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:s}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?Hx({element:n.current,padding:s}).fn(r):{}:n?Hx({element:n,padding:s}).fn(r):{}}}},A$=(t,e)=>({..._$(t),options:[t,e]}),O$=(t,e)=>({...S$(t),options:[t,e]}),R$=(t,e)=>({...C$(t),options:[t,e]}),D$=(t,e)=>({...j$(t),options:[t,e]}),I$=(t,e)=>({...k$(t),options:[t,e]}),M$=(t,e)=>({...N$(t),options:[t,e]}),L$=(t,e)=>({...T$(t),options:[t,e]});var F$="Arrow",SC=y.forwardRef((t,e)=>{const{children:r,width:n=10,height:s=5,...i}=t;return a.jsx(Se.svg,{...i,ref:e,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});SC.displayName=F$;var $$=SC;function U$(t){const[e,r]=y.useState(void 0);return lr(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=t.offsetWidth,l=t.offsetHeight;r({width:o,height:l})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var Ay="Popper",[jC,al]=Gn(Ay),[B$,kC]=jC(Ay),NC=t=>{const{__scopePopper:e,children:r}=t,[n,s]=y.useState(null);return a.jsx(B$,{scope:e,anchor:n,onAnchorChange:s,children:r})};NC.displayName=Ay;var CC="PopperAnchor",EC=y.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...s}=t,i=kC(CC,r),o=y.useRef(null),l=Ie(e,o);return y.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:a.jsx(Se.div,{...s,ref:l})});EC.displayName=CC;var Oy="PopperContent",[z$,V$]=jC(Oy),PC=y.forwardRef((t,e)=>{var ie,Me,Le,Ae,Oe,De;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:v="optimized",onPlaced:p,...g}=t,b=kC(Oy,r),[w,m]=y.useState(null),x=Ie(e,Qt=>m(Qt)),[_,S]=y.useState(null),k=U$(_),j=(k==null?void 0:k.width)??0,E=(k==null?void 0:k.height)??0,T=n+(i!=="center"?"-"+i:""),I=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},q=Array.isArray(u)?u:[u],L=q.length>0,O={padding:I,boundary:q.filter(q$),altBoundary:L},{refs:V,floatingStyles:R,placement:B,isPositioned:$,middlewareData:P}=P$({strategy:"fixed",placement:T,whileElementsMounted:(...Qt)=>b$(...Qt,{animationFrame:v==="always"}),elements:{reference:b.anchor},middleware:[A$({mainAxis:s+E,alignmentAxis:o}),c&&O$({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?R$():void 0,...O}),c&&D$({...O}),I$({...O,apply:({elements:Qt,rects:Nr,availableWidth:Ei,availableHeight:Cs})=>{const{width:Es,height:dh}=Nr.reference,jo=Qt.floating.style;jo.setProperty("--radix-popper-available-width",`${Ei}px`),jo.setProperty("--radix-popper-available-height",`${Cs}px`),jo.setProperty("--radix-popper-anchor-width",`${Es}px`),jo.setProperty("--radix-popper-anchor-height",`${dh}px`)}}),_&&L$({element:_,padding:l}),H$({arrowWidth:j,arrowHeight:E}),h&&M$({strategy:"referenceHidden",...O})]}),[M,K]=OC(B),te=Xr(p);lr(()=>{$&&(te==null||te())},[$,te]);const ke=(ie=P.arrow)==null?void 0:ie.x,Pt=(Me=P.arrow)==null?void 0:Me.y,ot=((Le=P.arrow)==null?void 0:Le.centerOffset)!==0,[$t,et]=y.useState();return lr(()=>{w&&et(window.getComputedStyle(w).zIndex)},[w]),a.jsx("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...R,transform:$?R.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:$t,"--radix-popper-transform-origin":[(Ae=P.transformOrigin)==null?void 0:Ae.x,(Oe=P.transformOrigin)==null?void 0:Oe.y].join(" "),...((De=P.hide)==null?void 0:De.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:a.jsx(z$,{scope:r,placedSide:M,onArrowChange:S,arrowX:ke,arrowY:Pt,shouldHideArrow:ot,children:a.jsx(Se.div,{"data-side":M,"data-align":K,...g,ref:x,style:{...g.style,animation:$?void 0:"none"}})})})});PC.displayName=Oy;var TC="PopperArrow",W$={top:"bottom",right:"left",bottom:"top",left:"right"},AC=y.forwardRef(function(e,r){const{__scopePopper:n,...s}=e,i=V$(TC,n),o=W$[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx($$,{...s,ref:r,style:{...s.style,display:"block"}})})});AC.displayName=TC;function q$(t){return t!==null}var H$=t=>({name:"transformOrigin",options:t,fn(e){var b,w,m;const{placement:r,rects:n,middlewareData:s}=e,o=((b=s.arrow)==null?void 0:b.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,d]=OC(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((w=s.arrow)==null?void 0:w.x)??0)+l/2,v=(((m=s.arrow)==null?void 0:m.y)??0)+c/2;let p="",g="";return u==="bottom"?(p=o?f:`${h}px`,g=`${-c}px`):u==="top"?(p=o?f:`${h}px`,g=`${n.floating.height+c}px`):u==="right"?(p=`${-c}px`,g=o?f:`${v}px`):u==="left"&&(p=`${n.floating.width+c}px`,g=o?f:`${v}px`),{data:{x:p,y:g}}}});function OC(t){const[e,r="center"]=t.split("-");return[e,r]}var Ry=NC,Yf=EC,Dy=PC,Iy=AC,K$="Portal",eu=y.forwardRef((t,e)=>{var l;const{container:r,...n}=t,[s,i]=y.useState(!1);lr(()=>i(!0),[]);const o=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?QD.createPortal(a.jsx(Se.div,{...n,ref:e}),o):null});eu.displayName=K$;function G$(t,e){return y.useReducer((r,n)=>e[r][n]??r,t)}var Yn=t=>{const{present:e,children:r}=t,n=Q$(e),s=typeof r=="function"?r({present:n.isPresent}):y.Children.only(r),i=Ie(n.ref,Y$(s));return typeof r=="function"||n.isPresent?y.cloneElement(s,{ref:i}):null};Yn.displayName="Presence";function Q$(t){const[e,r]=y.useState(),n=y.useRef({}),s=y.useRef(t),i=y.useRef("none"),o=t?"mounted":"unmounted",[l,c]=G$(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const u=Lu(n.current);i.current=l==="mounted"?u:"none"},[l]),lr(()=>{const u=n.current,d=s.current;if(d!==t){const h=i.current,v=Lu(u);t?c("MOUNT"):v==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),lr(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=v=>{const g=Lu(n.current).includes(v.animationName);if(v.target===e&&g&&(c("ANIMATION_END"),!s.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},h=v=>{v.target===e&&(i.current=Lu(n.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:y.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function Lu(t){return(t==null?void 0:t.animationName)||"none"}function Y$(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var lm="rovingFocusGroup.onEntryFocus",J$={bubbles:!1,cancelable:!0},Jf="RovingFocusGroup",[Yp,RC,Z$]=_y(Jf),[X$,DC]=Gn(Jf,[Z$]),[e5,t5]=X$(Jf),IC=y.forwardRef((t,e)=>a.jsx(Yp.Provider,{scope:t.__scopeRovingFocusGroup,children:a.jsx(Yp.Slot,{scope:t.__scopeRovingFocusGroup,children:a.jsx(r5,{...t,ref:e})})}));IC.displayName=Jf;var r5=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=t,h=y.useRef(null),v=Ie(e,h),p=Sy(i),[g=null,b]=Ba({prop:o,defaultProp:l,onChange:c}),[w,m]=y.useState(!1),x=Xr(u),_=RC(r),S=y.useRef(!1),[k,j]=y.useState(0);return y.useEffect(()=>{const E=h.current;if(E)return E.addEventListener(lm,x),()=>E.removeEventListener(lm,x)},[x]),a.jsx(e5,{scope:r,orientation:n,dir:p,loop:s,currentTabStopId:g,onItemFocus:y.useCallback(E=>b(E),[b]),onItemShiftTab:y.useCallback(()=>m(!0),[]),onFocusableItemAdd:y.useCallback(()=>j(E=>E+1),[]),onFocusableItemRemove:y.useCallback(()=>j(E=>E-1),[]),children:a.jsx(Se.div,{tabIndex:w||k===0?-1:0,"data-orientation":n,...f,ref:v,style:{outline:"none",...t.style},onMouseDown:ne(t.onMouseDown,()=>{S.current=!0}),onFocus:ne(t.onFocus,E=>{const T=!S.current;if(E.target===E.currentTarget&&T&&!w){const I=new CustomEvent(lm,J$);if(E.currentTarget.dispatchEvent(I),!I.defaultPrevented){const q=_().filter(B=>B.focusable),L=q.find(B=>B.active),O=q.find(B=>B.id===g),R=[L,O,...q].filter(Boolean).map(B=>B.ref.current);FC(R,d)}}S.current=!1}),onBlur:ne(t.onBlur,()=>m(!1))})})}),MC="RovingFocusGroupItem",LC=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,...o}=t,l=Bn(),c=i||l,u=t5(MC,r),d=u.currentTabStopId===c,f=RC(r),{onFocusableItemAdd:h,onFocusableItemRemove:v}=u;return y.useEffect(()=>{if(n)return h(),()=>v()},[n,h,v]),a.jsx(Yp.ItemSlot,{scope:r,id:c,focusable:n,active:s,children:a.jsx(Se.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:ne(t.onMouseDown,p=>{n?u.onItemFocus(c):p.preventDefault()}),onFocus:ne(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:ne(t.onKeyDown,p=>{if(p.key==="Tab"&&p.shiftKey){u.onItemShiftTab();return}if(p.target!==p.currentTarget)return;const g=i5(p,u.orientation,u.dir);if(g!==void 0){if(p.metaKey||p.ctrlKey||p.altKey||p.shiftKey)return;p.preventDefault();let w=f().filter(m=>m.focusable).map(m=>m.ref.current);if(g==="last")w.reverse();else if(g==="prev"||g==="next"){g==="prev"&&w.reverse();const m=w.indexOf(p.currentTarget);w=u.loop?o5(w,m+1):w.slice(m+1)}setTimeout(()=>FC(w))}})})})});LC.displayName=MC;var n5={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function s5(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function i5(t,e,r){const n=s5(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return n5[n]}function FC(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function o5(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var a5=IC,l5=LC,c5=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Oo=new WeakMap,Fu=new WeakMap,$u={},cm=0,$C=function(t){return t&&(t.host||$C(t.parentNode))},u5=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=$C(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},d5=function(t,e,r,n){var s=u5(e,Array.isArray(t)?t:[t]);$u[r]||($u[r]=new WeakMap);var i=$u[r],o=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var v=h.getAttribute(n),p=v!==null&&v!=="false",g=(Oo.get(h)||0)+1,b=(i.get(h)||0)+1;Oo.set(h,g),i.set(h,b),o.push(h),g===1&&p&&Fu.set(h,!0),b===1&&h.setAttribute(r,"true"),p||h.setAttribute(n,"true")}catch(w){console.error("aria-hidden: cannot operate on ",h,w)}})};return d(e),l.clear(),cm++,function(){o.forEach(function(f){var h=Oo.get(f)-1,v=i.get(f)-1;Oo.set(f,h),i.set(f,v),h||(Fu.has(f)||f.removeAttribute(n),Fu.delete(f)),v||f.removeAttribute(r)}),cm--,cm||(Oo=new WeakMap,Oo=new WeakMap,Fu=new WeakMap,$u={})}},Zf=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),s=c5(t);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),d5(n,s,r,"aria-hidden")):function(){return null}},Mn=function(){return Mn=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Mn.apply(this,arguments)};function UC(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function f5(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}var od="right-scroll-bar-position",ad="width-before-scroll-bar",h5="with-scroll-bars-hidden",m5="--removed-body-scroll-bar-size";function um(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function p5(t,e){var r=y.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=e,r.facade}var g5=typeof window<"u"?y.useLayoutEffect:y.useEffect,Gx=new WeakMap;function y5(t,e){var r=p5(null,function(n){return t.forEach(function(s){return um(s,n)})});return g5(function(){var n=Gx.get(r);if(n){var s=new Set(n),i=new Set(t),o=r.current;s.forEach(function(l){i.has(l)||um(l,null)}),i.forEach(function(l){s.has(l)||um(l,o)})}Gx.set(r,t)},[t]),r}function v5(t){return t}function x5(t,e){e===void 0&&(e=v5);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(i){var o=e(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return s}function w5(t){t===void 0&&(t={});var e=x5(null);return e.options=Mn({async:!0,ssr:!1},t),e}var BC=function(t){var e=t.sideCar,r=UC(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return y.createElement(n,Mn({},r))};BC.isSideCarExport=!0;function b5(t,e){return t.useMedium(e),BC}var zC=w5(),dm=function(){},Xf=y.forwardRef(function(t,e){var r=y.useRef(null),n=y.useState({onScrollCapture:dm,onWheelCapture:dm,onTouchMoveCapture:dm}),s=n[0],i=n[1],o=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,h=t.sideCar,v=t.noIsolation,p=t.inert,g=t.allowPinchZoom,b=t.as,w=b===void 0?"div":b,m=t.gapMode,x=UC(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,S=y5([r,e]),k=Mn(Mn({},x),s);return y.createElement(y.Fragment,null,d&&y.createElement(_,{sideCar:zC,removeScrollBar:u,shards:f,noIsolation:v,inert:p,setCallbacks:i,allowPinchZoom:!!g,lockRef:r,gapMode:m}),o?y.cloneElement(y.Children.only(l),Mn(Mn({},k),{ref:S})):y.createElement(w,Mn({},k,{className:c,ref:S}),l))});Xf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Xf.classNames={fullWidth:ad,zeroRight:od};var _5=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function S5(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=_5();return e&&t.setAttribute("nonce",e),t}function j5(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function k5(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var N5=function(){var t=0,e=null;return{add:function(r){t==0&&(e=S5())&&(j5(e,r),k5(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},C5=function(){var t=N5();return function(e,r){y.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},VC=function(){var t=C5(),e=function(r){var n=r.styles,s=r.dynamic;return t(n,s),null};return e},E5={left:0,top:0,right:0,gap:0},fm=function(t){return parseInt(t||"",10)||0},P5=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[fm(r),fm(n),fm(s)]},T5=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return E5;var e=P5(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},A5=VC(),ha="data-scroll-locked",O5=function(t,e,r,n){var s=t.left,i=t.top,o=t.right,l=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(h5,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(ha,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(od,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(ad,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(od," .").concat(od,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(ad," .").concat(ad,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(ha,`] {
    `).concat(m5,": ").concat(l,`px;
  }
`)},Qx=function(){var t=parseInt(document.body.getAttribute(ha)||"0",10);return isFinite(t)?t:0},R5=function(){y.useEffect(function(){return document.body.setAttribute(ha,(Qx()+1).toString()),function(){var t=Qx()-1;t<=0?document.body.removeAttribute(ha):document.body.setAttribute(ha,t.toString())}},[])},D5=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,s=n===void 0?"margin":n;R5();var i=y.useMemo(function(){return T5(s)},[s]);return y.createElement(A5,{styles:O5(i,!e,s,r?"":"!important")})},Jp=!1;if(typeof window<"u")try{var Uu=Object.defineProperty({},"passive",{get:function(){return Jp=!0,!0}});window.addEventListener("test",Uu,Uu),window.removeEventListener("test",Uu,Uu)}catch{Jp=!1}var Ro=Jp?{passive:!1}:!1,I5=function(t){return t.tagName==="TEXTAREA"},WC=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!I5(t)&&r[e]==="visible")},M5=function(t){return WC(t,"overflowY")},L5=function(t){return WC(t,"overflowX")},Yx=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=qC(t,n);if(s){var i=HC(t,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},F5=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},$5=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},qC=function(t,e){return t==="v"?M5(e):L5(e)},HC=function(t,e){return t==="v"?F5(e):$5(e)},U5=function(t,e){return t==="h"&&e==="rtl"?-1:1},B5=function(t,e,r,n,s){var i=U5(t,window.getComputedStyle(e).direction),o=i*n,l=r.target,c=e.contains(l),u=!1,d=o>0,f=0,h=0;do{var v=HC(t,l),p=v[0],g=v[1],b=v[2],w=g-b-i*p;(p||w)&&qC(t,l)&&(f+=w,h+=p),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(u=!0),u},Bu=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Jx=function(t){return[t.deltaX,t.deltaY]},Zx=function(t){return t&&"current"in t?t.current:t},z5=function(t,e){return t[0]===e[0]&&t[1]===e[1]},V5=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},W5=0,Do=[];function q5(t){var e=y.useRef([]),r=y.useRef([0,0]),n=y.useRef(),s=y.useState(W5++)[0],i=y.useState(VC)[0],o=y.useRef(t);y.useEffect(function(){o.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var g=f5([t.lockRef.current],(t.shards||[]).map(Zx),!0).filter(Boolean);return g.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=y.useCallback(function(g,b){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var w=Bu(g),m=r.current,x="deltaX"in g?g.deltaX:m[0]-w[0],_="deltaY"in g?g.deltaY:m[1]-w[1],S,k=g.target,j=Math.abs(x)>Math.abs(_)?"h":"v";if("touches"in g&&j==="h"&&k.type==="range")return!1;var E=Yx(j,k);if(!E)return!0;if(E?S=j:(S=j==="v"?"h":"v",E=Yx(j,k)),!E)return!1;if(!n.current&&"changedTouches"in g&&(x||_)&&(n.current=S),!S)return!0;var T=n.current||S;return B5(T,b,g,T==="h"?x:_,!0)},[]),c=y.useCallback(function(g){var b=g;if(!(!Do.length||Do[Do.length-1]!==i)){var w="deltaY"in b?Jx(b):Bu(b),m=e.current.filter(function(S){return S.name===b.type&&(S.target===b.target||b.target===S.shadowParent)&&z5(S.delta,w)})[0];if(m&&m.should){b.cancelable&&b.preventDefault();return}if(!m){var x=(o.current.shards||[]).map(Zx).filter(Boolean).filter(function(S){return S.contains(b.target)}),_=x.length>0?l(b,x[0]):!o.current.noIsolation;_&&b.cancelable&&b.preventDefault()}}},[]),u=y.useCallback(function(g,b,w,m){var x={name:g,delta:b,target:w,should:m,shadowParent:H5(w)};e.current.push(x),setTimeout(function(){e.current=e.current.filter(function(_){return _!==x})},1)},[]),d=y.useCallback(function(g){r.current=Bu(g),n.current=void 0},[]),f=y.useCallback(function(g){u(g.type,Jx(g),g.target,l(g,t.lockRef.current))},[]),h=y.useCallback(function(g){u(g.type,Bu(g),g.target,l(g,t.lockRef.current))},[]);y.useEffect(function(){return Do.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Ro),document.addEventListener("touchmove",c,Ro),document.addEventListener("touchstart",d,Ro),function(){Do=Do.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,Ro),document.removeEventListener("touchmove",c,Ro),document.removeEventListener("touchstart",d,Ro)}},[]);var v=t.removeScrollBar,p=t.inert;return y.createElement(y.Fragment,null,p?y.createElement(i,{styles:V5(s)}):null,v?y.createElement(D5,{gapMode:t.gapMode}):null)}function H5(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const K5=b5(zC,q5);var tu=y.forwardRef(function(t,e){return y.createElement(Xf,Mn({},t,{ref:e,sideCar:K5}))});tu.classNames=Xf.classNames;var Zp=["Enter"," "],G5=["ArrowDown","PageUp","Home"],KC=["ArrowUp","PageDown","End"],Q5=[...G5,...KC],Y5={ltr:[...Zp,"ArrowRight"],rtl:[...Zp,"ArrowLeft"]},J5={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ru="Menu",[Sc,Z5,X5]=_y(ru),[_o,GC]=Gn(ru,[X5,al,DC]),eh=al(),QC=DC(),[e6,So]=_o(ru),[t6,nu]=_o(ru),YC=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:s,onOpenChange:i,modal:o=!0}=t,l=eh(e),[c,u]=y.useState(null),d=y.useRef(!1),f=Xr(i),h=Sy(s);return y.useEffect(()=>{const v=()=>{d.current=!0,document.addEventListener("pointerdown",p,{capture:!0,once:!0}),document.addEventListener("pointermove",p,{capture:!0,once:!0})},p=()=>d.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",p,{capture:!0}),document.removeEventListener("pointermove",p,{capture:!0})}},[]),a.jsx(Ry,{...l,children:a.jsx(e6,{scope:e,open:r,onOpenChange:f,content:c,onContentChange:u,children:a.jsx(t6,{scope:e,onClose:y.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:n})})})};YC.displayName=ru;var r6="MenuAnchor",My=y.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,s=eh(r);return a.jsx(Yf,{...s,...n,ref:e})});My.displayName=r6;var Ly="MenuPortal",[n6,JC]=_o(Ly,{forceMount:void 0}),ZC=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:s}=t,i=So(Ly,e);return a.jsx(n6,{scope:e,forceMount:r,children:a.jsx(Yn,{present:r||i.open,children:a.jsx(eu,{asChild:!0,container:s,children:n})})})};ZC.displayName=Ly;var Qr="MenuContent",[s6,Fy]=_o(Qr),XC=y.forwardRef((t,e)=>{const r=JC(Qr,t.__scopeMenu),{forceMount:n=r.forceMount,...s}=t,i=So(Qr,t.__scopeMenu),o=nu(Qr,t.__scopeMenu);return a.jsx(Sc.Provider,{scope:t.__scopeMenu,children:a.jsx(Yn,{present:n||i.open,children:a.jsx(Sc.Slot,{scope:t.__scopeMenu,children:o.modal?a.jsx(i6,{...s,ref:e}):a.jsx(o6,{...s,ref:e})})})})}),i6=y.forwardRef((t,e)=>{const r=So(Qr,t.__scopeMenu),n=y.useRef(null),s=Ie(e,n);return y.useEffect(()=>{const i=n.current;if(i)return Zf(i)},[]),a.jsx($y,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:ne(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),o6=y.forwardRef((t,e)=>{const r=So(Qr,t.__scopeMenu);return a.jsx($y,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),a6=fi("MenuContent.ScrollLock"),$y=y.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:v,disableOutsideScroll:p,...g}=t,b=So(Qr,r),w=nu(Qr,r),m=eh(r),x=QC(r),_=Z5(r),[S,k]=y.useState(null),j=y.useRef(null),E=Ie(e,j,b.onContentChange),T=y.useRef(0),I=y.useRef(""),q=y.useRef(0),L=y.useRef(null),O=y.useRef("right"),V=y.useRef(0),R=p?tu:y.Fragment,B=p?{as:a6,allowPinchZoom:!0}:void 0,$=M=>{var ie,Me;const K=I.current+M,te=_().filter(Le=>!Le.disabled),ke=document.activeElement,Pt=(ie=te.find(Le=>Le.ref.current===ke))==null?void 0:ie.textValue,ot=te.map(Le=>Le.textValue),$t=x6(ot,K,Pt),et=(Me=te.find(Le=>Le.textValue===$t))==null?void 0:Me.ref.current;(function Le(Ae){I.current=Ae,window.clearTimeout(T.current),Ae!==""&&(T.current=window.setTimeout(()=>Le(""),1e3))})(K),et&&setTimeout(()=>et.focus())};y.useEffect(()=>()=>window.clearTimeout(T.current),[]),Hf();const P=y.useCallback(M=>{var te,ke;return O.current===((te=L.current)==null?void 0:te.side)&&b6(M,(ke=L.current)==null?void 0:ke.area)},[]);return a.jsx(s6,{scope:r,searchRef:I,onItemEnter:y.useCallback(M=>{P(M)&&M.preventDefault()},[P]),onItemLeave:y.useCallback(M=>{var K;P(M)||((K=j.current)==null||K.focus(),k(null))},[P]),onTriggerLeave:y.useCallback(M=>{P(M)&&M.preventDefault()},[P]),pointerGraceTimerRef:q,onPointerGraceIntentChange:y.useCallback(M=>{L.current=M},[]),children:a.jsx(R,{...B,children:a.jsx(Zc,{asChild:!0,trapped:s,onMountAutoFocus:ne(i,M=>{var K;M.preventDefault(),(K=j.current)==null||K.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:a.jsx(Jc,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:v,children:a.jsx(a5,{asChild:!0,...x,dir:w.dir,orientation:"vertical",loop:n,currentTabStopId:S,onCurrentTabStopIdChange:k,onEntryFocus:ne(c,M=>{w.isUsingKeyboardRef.current||M.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(Dy,{role:"menu","aria-orientation":"vertical","data-state":pE(b.open),"data-radix-menu-content":"",dir:w.dir,...m,...g,ref:E,style:{outline:"none",...g.style},onKeyDown:ne(g.onKeyDown,M=>{const te=M.target.closest("[data-radix-menu-content]")===M.currentTarget,ke=M.ctrlKey||M.altKey||M.metaKey,Pt=M.key.length===1;te&&(M.key==="Tab"&&M.preventDefault(),!ke&&Pt&&$(M.key));const ot=j.current;if(M.target!==ot||!Q5.includes(M.key))return;M.preventDefault();const et=_().filter(ie=>!ie.disabled).map(ie=>ie.ref.current);KC.includes(M.key)&&et.reverse(),y6(et)}),onBlur:ne(t.onBlur,M=>{M.currentTarget.contains(M.target)||(window.clearTimeout(T.current),I.current="")}),onPointerMove:ne(t.onPointerMove,jc(M=>{const K=M.target,te=V.current!==M.clientX;if(M.currentTarget.contains(K)&&te){const ke=M.clientX>V.current?"right":"left";O.current=ke,V.current=M.clientX}}))})})})})})})});XC.displayName=Qr;var l6="MenuGroup",Uy=y.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return a.jsx(Se.div,{role:"group",...n,ref:e})});Uy.displayName=l6;var c6="MenuLabel",eE=y.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return a.jsx(Se.div,{...n,ref:e})});eE.displayName=c6;var Gd="MenuItem",Xx="menu.itemSelect",th=y.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...s}=t,i=y.useRef(null),o=nu(Gd,t.__scopeMenu),l=Fy(Gd,t.__scopeMenu),c=Ie(e,i),u=y.useRef(!1),d=()=>{const f=i.current;if(!r&&f){const h=new CustomEvent(Xx,{bubbles:!0,cancelable:!0});f.addEventListener(Xx,v=>n==null?void 0:n(v),{once:!0}),cC(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return a.jsx(tE,{...s,ref:c,disabled:r,onClick:ne(t.onClick,d),onPointerDown:f=>{var h;(h=t.onPointerDown)==null||h.call(t,f),u.current=!0},onPointerUp:ne(t.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:ne(t.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||Zp.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});th.displayName=Gd;var tE=y.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...i}=t,o=Fy(Gd,r),l=QC(r),c=y.useRef(null),u=Ie(e,c),[d,f]=y.useState(!1),[h,v]=y.useState("");return y.useEffect(()=>{const p=c.current;p&&v((p.textContent??"").trim())},[i.children]),a.jsx(Sc.ItemSlot,{scope:r,disabled:n,textValue:s??h,children:a.jsx(l5,{asChild:!0,...l,focusable:!n,children:a.jsx(Se.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:ne(t.onPointerMove,jc(p=>{n?o.onItemLeave(p):(o.onItemEnter(p),p.defaultPrevented||p.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ne(t.onPointerLeave,jc(p=>o.onItemLeave(p))),onFocus:ne(t.onFocus,()=>f(!0)),onBlur:ne(t.onBlur,()=>f(!1))})})})}),u6="MenuCheckboxItem",rE=y.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...s}=t;return a.jsx(aE,{scope:t.__scopeMenu,checked:r,children:a.jsx(th,{role:"menuitemcheckbox","aria-checked":Qd(r)?"mixed":r,...s,ref:e,"data-state":zy(r),onSelect:ne(s.onSelect,()=>n==null?void 0:n(Qd(r)?!0:!r),{checkForDefaultPrevented:!1})})})});rE.displayName=u6;var nE="MenuRadioGroup",[d6,f6]=_o(nE,{value:void 0,onValueChange:()=>{}}),sE=y.forwardRef((t,e)=>{const{value:r,onValueChange:n,...s}=t,i=Xr(n);return a.jsx(d6,{scope:t.__scopeMenu,value:r,onValueChange:i,children:a.jsx(Uy,{...s,ref:e})})});sE.displayName=nE;var iE="MenuRadioItem",oE=y.forwardRef((t,e)=>{const{value:r,...n}=t,s=f6(iE,t.__scopeMenu),i=r===s.value;return a.jsx(aE,{scope:t.__scopeMenu,checked:i,children:a.jsx(th,{role:"menuitemradio","aria-checked":i,...n,ref:e,"data-state":zy(i),onSelect:ne(n.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,r)},{checkForDefaultPrevented:!1})})})});oE.displayName=iE;var By="MenuItemIndicator",[aE,h6]=_o(By,{checked:!1}),lE=y.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...s}=t,i=h6(By,r);return a.jsx(Yn,{present:n||Qd(i.checked)||i.checked===!0,children:a.jsx(Se.span,{...s,ref:e,"data-state":zy(i.checked)})})});lE.displayName=By;var m6="MenuSeparator",cE=y.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return a.jsx(Se.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});cE.displayName=m6;var p6="MenuArrow",uE=y.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,s=eh(r);return a.jsx(Iy,{...s,...n,ref:e})});uE.displayName=p6;var g6="MenuSub",[Qq,dE]=_o(g6),Ol="MenuSubTrigger",fE=y.forwardRef((t,e)=>{const r=So(Ol,t.__scopeMenu),n=nu(Ol,t.__scopeMenu),s=dE(Ol,t.__scopeMenu),i=Fy(Ol,t.__scopeMenu),o=y.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:t.__scopeMenu},d=y.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return y.useEffect(()=>d,[d]),y.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),a.jsx(My,{asChild:!0,...u,children:a.jsx(tE,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":pE(r.open),...t,ref:qf(e,s.onTriggerChange),onClick:f=>{var h;(h=t.onClick)==null||h.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:ne(t.onPointerMove,jc(f=>{i.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:ne(t.onPointerLeave,jc(f=>{var v,p;d();const h=(v=r.content)==null?void 0:v.getBoundingClientRect();if(h){const g=(p=r.content)==null?void 0:p.dataset.side,b=g==="right",w=b?-5:5,m=h[b?"left":"right"],x=h[b?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+w,y:f.clientY},{x:m,y:h.top},{x,y:h.top},{x,y:h.bottom},{x:m,y:h.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:ne(t.onKeyDown,f=>{var v;const h=i.searchRef.current!=="";t.disabled||h&&f.key===" "||Y5[n.dir].includes(f.key)&&(r.onOpenChange(!0),(v=r.content)==null||v.focus(),f.preventDefault())})})})});fE.displayName=Ol;var hE="MenuSubContent",mE=y.forwardRef((t,e)=>{const r=JC(Qr,t.__scopeMenu),{forceMount:n=r.forceMount,...s}=t,i=So(Qr,t.__scopeMenu),o=nu(Qr,t.__scopeMenu),l=dE(hE,t.__scopeMenu),c=y.useRef(null),u=Ie(e,c);return a.jsx(Sc.Provider,{scope:t.__scopeMenu,children:a.jsx(Yn,{present:n||i.open,children:a.jsx(Sc.Slot,{scope:t.__scopeMenu,children:a.jsx($y,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:ne(t.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:ne(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:ne(t.onKeyDown,d=>{var v;const f=d.currentTarget.contains(d.target),h=J5[o.dir].includes(d.key);f&&h&&(i.onOpenChange(!1),(v=l.trigger)==null||v.focus(),d.preventDefault())})})})})})});mE.displayName=hE;function pE(t){return t?"open":"closed"}function Qd(t){return t==="indeterminate"}function zy(t){return Qd(t)?"indeterminate":t?"checked":"unchecked"}function y6(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function v6(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function x6(t,e,r){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=r?t.indexOf(r):-1;let o=v6(t,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function w6(t,e){const{x:r,y:n}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const l=e[i].x,c=e[i].y,u=e[o].x,d=e[o].y;c>n!=d>n&&r<(u-l)*(n-c)/(d-c)+l&&(s=!s)}return s}function b6(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return w6(r,e)}function jc(t){return e=>e.pointerType==="mouse"?t(e):void 0}var _6=YC,S6=My,j6=ZC,k6=XC,N6=Uy,C6=eE,E6=th,P6=rE,T6=sE,A6=oE,O6=lE,R6=cE,D6=uE,I6=fE,M6=mE,Vy="DropdownMenu",[L6,Yq]=Gn(Vy,[GC]),hr=GC(),[F6,gE]=L6(Vy),yE=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:s,defaultOpen:i,onOpenChange:o,modal:l=!0}=t,c=hr(e),u=y.useRef(null),[d=!1,f]=Ba({prop:s,defaultProp:i,onChange:o});return a.jsx(F6,{scope:e,triggerId:Bn(),triggerRef:u,contentId:Bn(),open:d,onOpenChange:f,onOpenToggle:y.useCallback(()=>f(h=>!h),[f]),modal:l,children:a.jsx(_6,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};yE.displayName=Vy;var vE="DropdownMenuTrigger",xE=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=t,i=gE(vE,r),o=hr(r);return a.jsx(S6,{asChild:!0,...o,children:a.jsx(Se.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:qf(e,i.triggerRef),onPointerDown:ne(t.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:ne(t.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});xE.displayName=vE;var $6="DropdownMenuPortal",wE=t=>{const{__scopeDropdownMenu:e,...r}=t,n=hr(e);return a.jsx(j6,{...n,...r})};wE.displayName=$6;var bE="DropdownMenuContent",_E=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=gE(bE,r),i=hr(r),o=y.useRef(!1);return a.jsx(k6,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...n,ref:e,onCloseAutoFocus:ne(t.onCloseAutoFocus,l=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:ne(t.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});_E.displayName=bE;var U6="DropdownMenuGroup",B6=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=hr(r);return a.jsx(N6,{...s,...n,ref:e})});B6.displayName=U6;var z6="DropdownMenuLabel",SE=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=hr(r);return a.jsx(C6,{...s,...n,ref:e})});SE.displayName=z6;var V6="DropdownMenuItem",jE=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=hr(r);return a.jsx(E6,{...s,...n,ref:e})});jE.displayName=V6;var W6="DropdownMenuCheckboxItem",kE=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=hr(r);return a.jsx(P6,{...s,...n,ref:e})});kE.displayName=W6;var q6="DropdownMenuRadioGroup",H6=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=hr(r);return a.jsx(T6,{...s,...n,ref:e})});H6.displayName=q6;var K6="DropdownMenuRadioItem",NE=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=hr(r);return a.jsx(A6,{...s,...n,ref:e})});NE.displayName=K6;var G6="DropdownMenuItemIndicator",CE=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=hr(r);return a.jsx(O6,{...s,...n,ref:e})});CE.displayName=G6;var Q6="DropdownMenuSeparator",EE=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=hr(r);return a.jsx(R6,{...s,...n,ref:e})});EE.displayName=Q6;var Y6="DropdownMenuArrow",J6=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=hr(r);return a.jsx(D6,{...s,...n,ref:e})});J6.displayName=Y6;var Z6="DropdownMenuSubTrigger",PE=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=hr(r);return a.jsx(I6,{...s,...n,ref:e})});PE.displayName=Z6;var X6="DropdownMenuSubContent",TE=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=hr(r);return a.jsx(M6,{...s,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});TE.displayName=X6;var eU=yE,tU=xE,rU=wE,AE=_E,OE=SE,RE=jE,DE=kE,IE=NE,ME=CE,LE=EE,FE=PE,$E=TE;const UE=eU,BE=tU,nU=y.forwardRef(({className:t,inset:e,children:r,...n},s)=>a.jsxs(FE,{ref:s,className:ue("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...n,children:[r,a.jsx(QN,{className:"ml-auto"})]}));nU.displayName=FE.displayName;const sU=y.forwardRef(({className:t,...e},r)=>a.jsx($E,{ref:r,className:ue("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...e}));sU.displayName=$E.displayName;const Wy=y.forwardRef(({className:t,sideOffset:e=4,...r},n)=>a.jsx(rU,{children:a.jsx(AE,{ref:n,sideOffset:e,className:ue("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...r})}));Wy.displayName=AE.displayName;const eo=y.forwardRef(({className:t,inset:e,...r},n)=>a.jsx(RE,{ref:n,className:ue("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r}));eo.displayName=RE.displayName;const iU=y.forwardRef(({className:t,children:e,checked:r,...n},s)=>a.jsxs(DE,{ref:s,className:ue("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:r,...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(ME,{children:a.jsx(un,{className:"h-4 w-4"})})}),e]}));iU.displayName=DE.displayName;const oU=y.forwardRef(({className:t,children:e,...r},n)=>a.jsxs(IE,{ref:n,className:ue("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(ME,{children:a.jsx(lF,{className:"h-2 w-2 fill-current"})})}),e]}));oU.displayName=IE.displayName;const aU=y.forwardRef(({className:t,inset:e,...r},n)=>a.jsx(OE,{ref:n,className:ue("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...r}));aU.displayName=OE.displayName;const lU=y.forwardRef(({className:t,...e},r)=>a.jsx(LE,{ref:r,className:ue("-mx-1 my-1 h-px bg-muted",t),...e}));lU.displayName=LE.displayName;function cU({note:t,userBelt:e,userStripes:r}){const n=y.useRef(null),{toast:s}=Ft(),[i,o]=y.useState(!1);y.useEffect(()=>{o(!!navigator.share)},[]);const l=async()=>new Promise(h=>{const v=n.current;if(!v)return;const p=v.getContext("2d");if(!p)return;v.width=1080,v.height=1080;const g=p.createLinearGradient(0,0,0,1080);g.addColorStop(0,"#1e3a8a"),g.addColorStop(1,"#0f172a"),p.fillStyle=g,p.fillRect(0,0,1080,1080),p.globalAlpha=.05;for(let T=0;T<1080;T+=30)p.strokeStyle="#ffffff",p.lineWidth=1,p.beginPath(),p.moveTo(0,T),p.lineTo(1080,T),p.stroke();if(p.globalAlpha=1,p.fillStyle="rgba(220, 38, 38, 0.9)",p.fillRect(0,0,1080,180),p.fillStyle="#ffffff",p.font="bold 56px Arial, sans-serif",p.textAlign="center",p.fillText("BJJ JITS JOURNAL",540,70),p.font="32px Arial, sans-serif",p.fillStyle="#fecaca",p.fillText("Training Notes & Progress",540,130),e){const I={white:"#f8fafc",blue:"#3b82f6",purple:"#a855f7",brown:"#92400e",black:"#0f172a"};if(p.fillStyle=I[e.toLowerCase()]||"#6b7280",p.fillRect(80,250,180,60),p.fillStyle="#ffffff",p.font="bold 28px Arial",p.textAlign="left",p.fillText(e.toUpperCase(),100,290),r&&r>0){p.fillStyle="#fbbf24";for(let q=0;q<Math.min(r,4);q++)p.fillRect(280+q*25,265,15,30)}}p.fillStyle="#ffffff",p.font="bold 48px Arial, sans-serif",p.textAlign="center";const b=950,w=t.title.split(" ");let m="",x=e?400:300;for(const T of w){const I=m+T+" ";p.measureText(I).width>b&&m!==""?(p.fillText(m,540,x),m=T+" ",x+=60):m=I}p.fillText(m,540,x);const _=t.content.substring(0,150)+(t.content.length>150?"...":"");p.font="32px Arial, sans-serif",p.fillStyle="#cbd5e1";const S=_.split(" ");m="",x+=100;let k=0;const j=4;for(const T of S){if(k>=j)break;const I=m+T+" ";p.measureText(I).width>b&&m!==""?(p.fillText(m,540,x),m=T+" ",x+=45,k++):m=I}k<j&&m!==""&&p.fillText(m,540,x);const E=new Date(t.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});p.fillStyle="#94a3b8",p.font="28px Arial, sans-serif",p.textAlign="center",p.fillText(E,540,980),p.fillStyle="#dc2626",p.fillRect(0,1020,1080,60),p.fillStyle="#ffffff",p.font="bold 32px Arial",p.fillText("Track Your Journey • Share Your Progress",540,1060),v.toBlob(T=>{T&&h(T)},"image/png")}),c=async()=>{try{const h=await l(),v=new File([h],"bjj-journal-note.png",{type:"image/png"});navigator.canShare&&navigator.canShare({files:[v]})?(await navigator.share({files:[v],title:`BJJ Training Note: ${t.title}`,text:`${t.title}

${t.content.substring(0,100)}...`}),s({title:"Shared!",description:"Your note has been shared successfully."})):u()}catch(h){h.name!=="AbortError"&&(console.error("Share failed:",h),s({title:"Share cancelled",description:"You can download the image instead."}))}},u=async()=>{const h=await l(),v=URL.createObjectURL(h),p=document.createElement("a");p.href=v,p.download=`bjj-journal-${t.title.replace(/\s+/g,"-").toLowerCase()}.png`,p.click(),URL.revokeObjectURL(v),s({title:"Downloaded!",description:"Image saved to your device."})},d=()=>{const h=`${t.title}

Tracking my BJJ journey with Jits Journal! 🥋`,p=`https://twitter.com/intent/tweet?text=${encodeURIComponent(h)}&url=${encodeURIComponent("https://bjj-jits-journal.onrender.com")}`;window.open(p,"_blank","width=600,height=400")},f=()=>{const v=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent("https://bjj-jits-journal.onrender.com")}`;window.open(v,"_blank","width=600,height=400")};return a.jsxs(a.Fragment,{children:[a.jsx("canvas",{ref:n,style:{display:"none"}}),i?a.jsxs($e,{onClick:c,variant:"outline",size:"sm",className:"gap-2","data-testid":"button-share-note",children:[a.jsx(Wp,{className:"w-4 h-4"}),"Share to Social Media"]}):a.jsxs(UE,{children:[a.jsx(BE,{asChild:!0,children:a.jsxs($e,{variant:"outline",size:"sm",className:"gap-2","data-testid":"button-share-note",children:[a.jsx(Wp,{className:"w-4 h-4"}),"Share to Social Media"]})}),a.jsxs(Wy,{align:"end",children:[a.jsxs(eo,{onClick:d,"data-testid":"button-share-twitter",children:[a.jsx(_F,{className:"w-4 h-4 mr-2"}),"Share on Twitter"]}),a.jsxs(eo,{onClick:f,"data-testid":"button-share-facebook",children:[a.jsx(fF,{className:"w-4 h-4 mr-2"}),"Share on Facebook"]}),a.jsxs(eo,{onClick:u,"data-testid":"button-download-image",children:[a.jsx(dF,{className:"w-4 h-4 mr-2"}),"Download Image"]})]})]})]})}function uU(){const[t,e]=y.useState(!1),[r,n]=y.useState(null),[s,i]=y.useState(""),[o,l]=y.useState({title:"",content:"",tags:""}),{toast:c}=Ft(),u=ks(),{user:d}=fr(),[,f]=Xa(),h=Wf(d==null?void 0:d.email,d==null?void 0:d.subscriptionStatus),v=Xe({queryKey:["/api/notes"],enabled:!!(d!=null&&d.id),staleTime:6e4}),p=v.data||[],g=v.isLoading,{data:b}=Xe({queryKey:["belts","current",d==null?void 0:d.id],queryFn:()=>zs.getCurrent(d.id),enabled:!!(d!=null&&d.id),staleTime:6e4}),{data:w}=Xe({queryKey:["/api/my-gym"],staleTime:6e4}),m=We({mutationFn:async({noteId:R})=>await Rt("POST",`/api/notes/${R}/toggle-sharing`,{}),onSuccess:()=>{u.invalidateQueries({queryKey:["/api/notes"]}),c({title:"Success",description:"Note sharing updated successfully"})},onError:R=>{c({title:"Error",description:"Failed to update note sharing",variant:"destructive"})}}),x=We({mutationFn:async R=>await Rt("POST",`/api/notes/${R}/share-to-gym`,{}),onSuccess:()=>{u.invalidateQueries({queryKey:["/api/notes"]}),u.invalidateQueries({queryKey:["/api/gym-notes"]}),c({title:"Success",description:"Note shared to your gym!"})},onError:R=>{c({title:"Error",description:R.message||"Failed to share note to gym",variant:"destructive"})}}),_=We({mutationFn:async R=>await Rt("POST",`/api/notes/${R}/unshare-from-gym`,{}),onSuccess:()=>{u.invalidateQueries({queryKey:["/api/notes"]}),u.invalidateQueries({queryKey:["/api/gym-notes"]}),c({title:"Success",description:"Note removed from gym"})},onError:R=>{c({title:"Error",description:R.message||"Failed to remove note from gym",variant:"destructive"})}}),S=p.filter(R=>{if(!s.trim())return!0;const B=s.toLowerCase(),$=(R.title||"").toLowerCase(),P=(R.content||"").toLowerCase(),M=Array.isArray(R.tags)?R.tags.join(" ").toLowerCase():"";return $.includes(B)||P.includes(B)||M.includes(B)}),k=We({mutationFn:async R=>{if(!(d!=null&&d.id))throw new Error("User not authenticated");console.log("🚀 Creating note with data:",R);const B=new Promise((M,K)=>setTimeout(()=>K(new Error("Network timeout after 30 seconds")),3e4)),$=Rt("POST","/api/notes",R),P=await Promise.race([$,B]);return console.log("✅ Note created successfully"),P},onSuccess:()=>{u.invalidateQueries({queryKey:["/api/notes"]}),v.refetch(),c({title:"Note Saved!",description:"Your technique note has been saved."}),e(!1),n(null),l({title:"",content:"",tags:""})},onError:R=>{console.error("❌ Note creation failed:",R),c({title:"Error",description:R.message||"Failed to save note. Please try again.",variant:"destructive"})}}),j=We({mutationFn:async({noteId:R,noteData:B})=>{if(!(d!=null&&d.id))throw new Error("User not authenticated");console.log("🚀 Updating note:",R,"with data:",B);const $=new Promise((K,te)=>setTimeout(()=>te(new Error("Network timeout after 30 seconds")),3e4)),P=Rt("PUT",`/api/notes/${R}`,B),M=await Promise.race([P,$]);return console.log("✅ Note updated successfully"),M},onSuccess:()=>{u.invalidateQueries({queryKey:["/api/notes"]}),v.refetch(),c({title:"Note Updated!",description:"Your note has been updated successfully."}),e(!1),n(null),l({title:"",content:"",tags:""})},onError:R=>{console.error("❌ Note update failed:",R),c({title:"Error",description:R.message||"Failed to update note. Please try again.",variant:"destructive"})}}),E=We({mutationFn:async R=>{if(!(d!=null&&d.id))throw new Error("User not authenticated");console.log("🗑️ Deleting note:",R);const B=new Promise((M,K)=>setTimeout(()=>K(new Error("Network timeout after 30 seconds")),3e4)),$=Rt("DELETE",`/api/notes/${R}`,{}),P=await Promise.race([$,B]);return console.log("✅ Note deleted successfully"),P},onSuccess:()=>{u.invalidateQueries({queryKey:["/api/notes"]}),v.refetch(),c({title:"Note Deleted!",description:"Your note has been deleted successfully."})},onError:R=>{console.error("❌ Note deletion failed:",R),c({title:"Error",description:R.message||"Failed to delete note. Please try again.",variant:"destructive"})}}),T=R=>{if(R.preventDefault(),k.isPending||j.isPending||!o.title.trim())return;if(!r&&!h&&Array.isArray(p)&&p.length>=Xi.notes){c({title:"Note Limit Reached",description:`Free tier is limited to ${Xi.notes} notes. Upgrade to Premium for unlimited notes!`,variant:"destructive"});return}const B={title:o.title,content:o.content||"",tags:o.tags?o.tags.split(",").map($=>$.trim()).filter($=>$.length>0):[]};r?j.mutate({noteId:r.id,noteData:B}):k.mutate(B)},I=R=>{const{name:B,value:$}=R.target;l(P=>({...P,[B]:$}))},q=async R=>{try{await m.mutateAsync({noteId:R})}catch{}},L=R=>{n(R),l({title:R.title||"",content:R.content||"",tags:Array.isArray(R.tags)?R.tags.join(", "):""}),e(!0)},O=R=>{window.confirm("Are you sure you want to delete this note? This action cannot be undone.")&&E.mutate(R)},V=()=>{e(!1),n(null),l({title:"",content:"",tags:""})};return t?a.jsxs("div",{className:"p-6 max-w-md mx-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r?"Edit Note":"New Note"}),a.jsx("button",{onClick:V,className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),a.jsxs("form",{onSubmit:T,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-1",children:"Title"}),a.jsx("input",{type:"text",name:"title",value:o.title,onChange:I,placeholder:"Enter note title",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 text-gray-900",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-1",children:"Content"}),a.jsx("textarea",{name:"content",value:o.content,onChange:I,rows:6,placeholder:"Describe the technique, key points, setup, etc. (optional)",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 text-gray-900"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-1",children:"Tags (separated by commas)"}),a.jsx("input",{type:"text",name:"tags",value:o.tags,onChange:I,placeholder:"e.g., guard, armbar, fundamentals",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 text-gray-900"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{type:"button",onClick:V,className:"flex-1 bg-gray-300 text-gray-700 py-3 px-4 rounded-lg font-medium hover:bg-gray-400 transition-colors",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:k.isPending||j.isPending,className:"flex-1 bg-green-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:k.isPending||j.isPending?"Saving...":r?"Update Note":"Save Note"})]})]})]}):a.jsxs("div",{className:"p-6 max-w-md mx-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Notes"}),a.jsx("button",{onClick:()=>e(!0),className:"bg-green-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-green-700 transition-colors",children:"+ New Note"})]}),!h&&a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("span",{className:"text-yellow-600",children:"⚠️"}),a.jsx("span",{className:"font-medium text-yellow-800",children:"Free Tier Limit"})]}),a.jsxs("p",{className:"text-sm text-yellow-700",children:["You have ",Array.isArray(p)?p.length:0," out of ",Xi.notes," free notes. Upgrade to Premium for unlimited notes and sharing!"]}),a.jsx("button",{onClick:()=>f("/subscribe"),className:"mt-2 text-sm text-yellow-800 font-medium hover:text-yellow-900",children:"Upgrade Now →"})]}),h&&a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("span",{className:"text-green-600",children:"✓"}),a.jsx("span",{className:"font-medium text-green-800",children:"Premium Access"})]}),a.jsx("p",{className:"text-sm text-green-700",children:"You have unlimited notes with sharing capabilities. Keep adding your knowledge!"})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("input",{type:"text",value:s,onChange:R=>i(R.target.value),placeholder:"Search notes by title, content, or tags...",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 text-black"}),s&&a.jsxs("div",{className:"mt-2 text-sm text-black",children:["Found ",S.length," note",S.length!==1?"s":"",' matching "',s,'"']})]}),g?a.jsx("div",{className:"space-y-4",children:[1,2,3].map(R=>a.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-md animate-pulse",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),a.jsx("div",{className:"h-3 bg-gray-200 rounded mb-3"}),a.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]},R))}):Array.isArray(p)&&p.length>0?S.length>0?a.jsx("div",{className:"space-y-4",children:S.map(R=>a.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-md",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"font-semibold text-black",children:R.title}),a.jsxs("div",{className:"flex items-center gap-2",children:[R.isShared===1&&a.jsxs("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded flex items-center gap-1",children:[a.jsx(tm,{className:"w-3 h-3"}),"Community"]}),R.gymId&&a.jsxs("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded flex items-center gap-1",children:[a.jsx(as,{className:"w-3 h-3"}),"Gym"]}),a.jsx("button",{onClick:()=>L(R),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",title:"Edit note",children:"Edit"}),a.jsx("button",{onClick:()=>O(R.id),className:"text-red-600 hover:text-red-800 text-sm font-medium",title:"Delete note",children:"Delete"}),a.jsxs(UE,{children:[a.jsx(BE,{asChild:!0,children:a.jsxs("button",{className:"text-green-600 hover:text-green-800 text-sm font-medium flex items-center gap-1","data-testid":`button-share-menu-${R.id}`,children:[a.jsx(Wp,{className:"w-4 h-4"}),"Share"]})}),a.jsxs(Wy,{align:"end",children:[h?a.jsxs(eo,{onClick:()=>q(R.id),"data-testid":`button-share-community-${R.id}`,children:[a.jsx(tm,{className:"w-4 h-4 mr-2"}),R.isShared===1?"Remove from Community":"Share to Community"]}):a.jsxs(eo,{onClick:()=>c({title:"Premium Feature",description:"Community sharing is available with Premium. Upgrade to share with the community!",variant:"destructive"}),className:"opacity-50","data-testid":`button-share-community-locked-${R.id}`,children:[a.jsx(tm,{className:"w-4 h-4 mr-2"}),"Share to Community 🔒"]}),w&&w.role==="admin"&&a.jsxs(eo,{onClick:()=>R.gymId?_.mutate(R.id):x.mutate(R.id),"data-testid":`button-share-gym-${R.id}`,children:[a.jsx(as,{className:"w-4 h-4 mr-2"}),R.gymId?"Remove from Gym":"Share to My Gym"]})]})]})]})]}),a.jsx("div",{className:"mb-3",children:a.jsx(cU,{note:{id:R.id,title:R.title,content:R.content||"",createdAt:R.createdAt||R.date},userBelt:b==null?void 0:b.belt,userStripes:b==null?void 0:b.stripes})}),a.jsx("p",{className:"text-black text-sm mb-3",children:R.content}),a.jsx(h3,{noteId:R.id,existingVideo:R.videoUrl?{videoUrl:R.videoUrl,videoFileName:R.videoFileName,videoThumbnail:R.videoThumbnail}:null,onVideoUploaded:()=>{u.invalidateQueries({queryKey:["/api/notes"]}),v.refetch()}}),a.jsxs("div",{className:"flex items-center justify-between mt-4",children:[a.jsx("div",{className:"flex flex-wrap gap-1",children:Array.isArray(R.tags)&&R.tags.map((B,$)=>a.jsx("span",{className:"text-xs bg-gray-100 text-black px-2 py-1 rounded",children:B},$))}),a.jsx("span",{className:"text-xs text-black",children:new Date(R.createdAt||R.date).toLocaleDateString()})]})]},R.id))}):a.jsxs("div",{className:"text-center py-8 text-black",children:[a.jsxs("p",{children:['No notes found matching "',s,'"']}),a.jsx("p",{className:"text-sm",children:"Try a different search term or clear the search."}),a.jsx("button",{onClick:()=>i(""),className:"mt-2 text-blue-600 hover:text-blue-800 text-sm",children:"Clear search"})]}):a.jsxs("div",{className:"text-center py-8 text-black",children:[a.jsx("p",{children:"No notes yet."}),a.jsx("p",{className:"text-sm",children:"Create your first technique note!"})]})]})}function dU(){const[t,e]=y.useState(""),[r,n]=y.useState(!1),s=[{name:"Guard",query:"BJJ guard techniques"},{name:"Submissions",query:"BJJ submissions armbars chokes"},{name:"Sweeps",query:"BJJ sweeps from guard"},{name:"Escapes",query:"BJJ escapes defense"},{name:"Takedowns",query:"BJJ takedowns wrestling"},{name:"Passing",query:"BJJ guard passing"},{name:"Mount",query:"BJJ mount position attacks"},{name:"Side Control",query:"BJJ side control techniques"},{name:"Back Control",query:"BJJ back control rear naked choke"},{name:"Leg Locks",query:"BJJ leg locks heel hooks"},{name:"Gi Techniques",query:"BJJ gi techniques grips"},{name:"No-Gi",query:"BJJ no gi techniques"}],i=l=>{n(!0);const u=`https://www.youtube.com/results?search_query=${encodeURIComponent((l||t)+" BJJ brazilian jiu jitsu")}`;window.open(u,"_blank"),n(!1)},o=l=>{i(l)};return a.jsxs("div",{className:"p-6 max-w-md mx-auto",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx(gF,{className:"text-red-600",size:28}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"BJJ Videos"})]}),a.jsxs("div",{className:"relative mb-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Nx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",placeholder:"Search BJJ techniques...",value:t,onChange:l=>e(l.target.value),onKeyPress:l=>l.key==="Enter"&&i(t),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent text-black dark:text-white bg-white dark:bg-gray-800"})]}),a.jsxs("button",{onClick:()=>i(t),disabled:r||!t.trim(),className:"w-full mt-3 bg-red-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2",children:[a.jsx(Nx,{size:20}),r?"Searching...":"Search on YouTube"]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Quick Categories"}),a.jsx("div",{className:"grid grid-cols-2 gap-3",children:s.map(l=>a.jsx("button",{onClick:()=>o(l.query),className:"bg-white border border-gray-200 rounded-lg p-4 text-left hover:bg-gray-50 hover:border-red-300 transition-colors shadow-sm",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-medium text-black",children:l.name}),a.jsx(ZN,{size:16,className:"text-gray-400"})]})},l.name))})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),a.jsx("span",{className:"font-medium text-black",children:"YouTube Search"})]}),a.jsx("p",{className:"text-sm text-black",children:"Search results will open in YouTube where you can find the best BJJ instructional videos from top practitioners and academies."})]})]})}var qy="Dialog",[zE,VE]=Gn(qy),[fU,kn]=zE(qy),WE=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,l=y.useRef(null),c=y.useRef(null),[u=!1,d]=Ba({prop:n,defaultProp:s,onChange:i});return a.jsx(fU,{scope:e,triggerRef:l,contentRef:c,contentId:Bn(),titleId:Bn(),descriptionId:Bn(),open:u,onOpenChange:d,onOpenToggle:y.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};WE.displayName=qy;var qE="DialogTrigger",HE=y.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=kn(qE,r),i=Ie(e,s.triggerRef);return a.jsx(Se.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Gy(s.open),...n,ref:i,onClick:ne(t.onClick,s.onOpenToggle)})});HE.displayName=qE;var Hy="DialogPortal",[hU,KE]=zE(Hy,{forceMount:void 0}),GE=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:s}=t,i=kn(Hy,e);return a.jsx(hU,{scope:e,forceMount:r,children:y.Children.map(n,o=>a.jsx(Yn,{present:r||i.open,children:a.jsx(eu,{asChild:!0,container:s,children:o})}))})};GE.displayName=Hy;var Yd="DialogOverlay",QE=y.forwardRef((t,e)=>{const r=KE(Yd,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,i=kn(Yd,t.__scopeDialog);return i.modal?a.jsx(Yn,{present:n||i.open,children:a.jsx(pU,{...s,ref:e})}):null});QE.displayName=Yd;var mU=fi("DialogOverlay.RemoveScroll"),pU=y.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=kn(Yd,r);return a.jsx(tu,{as:mU,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(Se.div,{"data-state":Gy(s.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),fo="DialogContent",YE=y.forwardRef((t,e)=>{const r=KE(fo,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,i=kn(fo,t.__scopeDialog);return a.jsx(Yn,{present:n||i.open,children:i.modal?a.jsx(gU,{...s,ref:e}):a.jsx(yU,{...s,ref:e})})});YE.displayName=fo;var gU=y.forwardRef((t,e)=>{const r=kn(fo,t.__scopeDialog),n=y.useRef(null),s=Ie(e,r.contentRef,n);return y.useEffect(()=>{const i=n.current;if(i)return Zf(i)},[]),a.jsx(JE,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ne(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ne(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:ne(t.onFocusOutside,i=>i.preventDefault())})}),yU=y.forwardRef((t,e)=>{const r=kn(fo,t.__scopeDialog),n=y.useRef(!1),s=y.useRef(!1);return a.jsx(JE,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),JE=y.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,l=kn(fo,r),c=y.useRef(null),u=Ie(e,c);return Hf(),a.jsxs(a.Fragment,{children:[a.jsx(Zc,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(Jc,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Gy(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(xU,{titleId:l.titleId}),a.jsx(bU,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Ky="DialogTitle",ZE=y.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=kn(Ky,r);return a.jsx(Se.h2,{id:s.titleId,...n,ref:e})});ZE.displayName=Ky;var XE="DialogDescription",eP=y.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=kn(XE,r);return a.jsx(Se.p,{id:s.descriptionId,...n,ref:e})});eP.displayName=XE;var tP="DialogClose",rP=y.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=kn(tP,r);return a.jsx(Se.button,{type:"button",...n,ref:e,onClick:ne(t.onClick,()=>s.onOpenChange(!1))})});rP.displayName=tP;function Gy(t){return t?"open":"closed"}var nP="DialogTitleWarning",[vU,sP]=x3(nP,{contentName:fo,titleName:Ky,docsSlug:"dialog"}),xU=({titleId:t})=>{const e=sP(nP),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return y.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},wU="DialogDescriptionWarning",bU=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${sP(wU).contentName}}.`;return y.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},_U=WE,SU=HE,jU=GE,kU=QE,NU=YE,CU=ZE,EU=eP,iP=rP,oP="AlertDialog",[PU,Jq]=Gn(oP,[VE]),Ns=VE(),aP=t=>{const{__scopeAlertDialog:e,...r}=t,n=Ns(e);return a.jsx(_U,{...n,...r,modal:!0})};aP.displayName=oP;var TU="AlertDialogTrigger",lP=y.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Ns(r);return a.jsx(SU,{...s,...n,ref:e})});lP.displayName=TU;var AU="AlertDialogPortal",cP=t=>{const{__scopeAlertDialog:e,...r}=t,n=Ns(e);return a.jsx(jU,{...n,...r})};cP.displayName=AU;var OU="AlertDialogOverlay",uP=y.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Ns(r);return a.jsx(kU,{...s,...n,ref:e})});uP.displayName=OU;var ma="AlertDialogContent",[RU,DU]=PU(ma),IU=p3("AlertDialogContent"),dP=y.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...s}=t,i=Ns(r),o=y.useRef(null),l=Ie(e,o),c=y.useRef(null);return a.jsx(vU,{contentName:ma,titleName:fP,docsSlug:"alert-dialog",children:a.jsx(RU,{scope:r,cancelRef:c,children:a.jsxs(NU,{role:"alertdialog",...i,...s,ref:l,onOpenAutoFocus:ne(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[a.jsx(IU,{children:n}),a.jsx(LU,{contentRef:o})]})})})});dP.displayName=ma;var fP="AlertDialogTitle",hP=y.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Ns(r);return a.jsx(CU,{...s,...n,ref:e})});hP.displayName=fP;var mP="AlertDialogDescription",pP=y.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Ns(r);return a.jsx(EU,{...s,...n,ref:e})});pP.displayName=mP;var MU="AlertDialogAction",gP=y.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Ns(r);return a.jsx(iP,{...s,...n,ref:e})});gP.displayName=MU;var yP="AlertDialogCancel",vP=y.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:s}=DU(yP,r),i=Ns(r),o=Ie(e,s);return a.jsx(iP,{...i,...n,ref:o})});vP.displayName=yP;var LU=({contentRef:t})=>{const e=`\`${ma}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ma}\` by passing a \`${mP}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ma}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return y.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},FU=aP,$U=lP,UU=cP,xP=uP,wP=dP,bP=gP,_P=vP,SP=hP,jP=pP;const BU=FU,zU=$U,VU=UU,kP=y.forwardRef(({className:t,...e},r)=>a.jsx(xP,{className:ue("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));kP.displayName=xP.displayName;const NP=y.forwardRef(({className:t,...e},r)=>a.jsxs(VU,{children:[a.jsx(kP,{}),a.jsx(wP,{ref:r,className:ue("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));NP.displayName=wP.displayName;const CP=({className:t,...e})=>a.jsx("div",{className:ue("flex flex-col space-y-2 text-center sm:text-left",t),...e});CP.displayName="AlertDialogHeader";const EP=({className:t,...e})=>a.jsx("div",{className:ue("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});EP.displayName="AlertDialogFooter";const PP=y.forwardRef(({className:t,...e},r)=>a.jsx(SP,{ref:r,className:ue("text-lg font-semibold",t),...e}));PP.displayName=SP.displayName;const TP=y.forwardRef(({className:t,...e},r)=>a.jsx(jP,{ref:r,className:ue("text-sm text-muted-foreground",t),...e}));TP.displayName=jP.displayName;const AP=y.forwardRef(({className:t,...e},r)=>a.jsx(bP,{ref:r,className:ue(wc(),t),...e}));AP.displayName=bP.displayName;const OP=y.forwardRef(({className:t,...e},r)=>a.jsx(_P,{ref:r,className:ue(wc({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));OP.displayName=_P.displayName;var Qy="Progress",Yy=100,[WU,Zq]=Gn(Qy),[qU,HU]=WU(Qy),RP=y.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:i=KU,...o}=t;(s||s===0)&&!ew(s)&&console.error(GU(`${s}`,"Progress"));const l=ew(s)?s:Yy;n!==null&&!tw(n,l)&&console.error(QU(`${n}`,"Progress"));const c=tw(n,l)?n:null,u=Jd(c)?i(c,l):void 0;return a.jsx(qU,{scope:r,value:c,max:l,children:a.jsx(Se.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Jd(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":MP(c,l),"data-value":c??void 0,"data-max":l,...o,ref:e})})});RP.displayName=Qy;var DP="ProgressIndicator",IP=y.forwardRef((t,e)=>{const{__scopeProgress:r,...n}=t,s=HU(DP,r);return a.jsx(Se.div,{"data-state":MP(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:e})});IP.displayName=DP;function KU(t,e){return`${Math.round(t/e*100)}%`}function MP(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Jd(t){return typeof t=="number"}function ew(t){return Jd(t)&&!isNaN(t)&&t>0}function tw(t,e){return Jd(t)&&!isNaN(t)&&t<=e&&t>=0}function GU(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Yy}\`.`}function QU(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Yy} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var LP=RP,YU=IP;const FP=y.forwardRef(({className:t,value:e,...r},n)=>a.jsx(LP,{ref:n,className:ue("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...r,children:a.jsx(YU,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));FP.displayName=LP.displayName;const vt=y.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:ue("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));vt.displayName="Card";const sr=y.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:ue("flex flex-col space-y-1.5 p-6",t),...e}));sr.displayName="CardHeader";const ir=y.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:ue("text-2xl font-semibold leading-none tracking-tight",t),...e}));ir.displayName="CardTitle";const gi=y.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:ue("text-sm text-muted-foreground",t),...e}));gi.displayName="CardDescription";const Dt=y.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:ue("p-6 pt-0",t),...e}));Dt.displayName="CardContent";const JU=y.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:ue("flex items-center p-6 pt-0",t),...e}));JU.displayName="CardFooter";function ZU(){const{data:t,isLoading:e}=Xe({queryKey:["/api/storage/usage"]});if(e)return a.jsxs(vt,{children:[a.jsx(sr,{children:a.jsxs(ir,{className:"flex items-center gap-2",children:[a.jsx(jx,{className:"h-5 w-5"}),"Video Storage"]})}),a.jsx(Dt,{children:a.jsx("div",{className:"h-20 flex items-center justify-center text-muted-foreground",children:"Loading..."})})]});if(!t)return null;const{percentage:r,storageUsedFormatted:n,quotaFormatted:s,tierName:i,tier:o}=t,l=r>=80,c=r>=100;return a.jsxs(vt,{children:[a.jsxs(sr,{children:[a.jsxs(ir,{className:"flex items-center gap-2",children:[a.jsx(jx,{className:"h-5 w-5"}),"Video Storage"]}),a.jsxs(gi,{children:[i," Plan"]})]}),a.jsxs(Dt,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Used"}),a.jsxs("span",{className:"font-medium",children:[n," / ",s]})]}),a.jsx(FP,{value:Math.min(r,100),className:"h-2","data-testid":"storage-progress-bar"}),a.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[a.jsxs("span",{children:[r.toFixed(1),"% used"]}),!c&&a.jsxs("span",{children:[t.remainingFormatted," remaining"]})]})]}),c&&a.jsxs(vc,{variant:"destructive","data-testid":"alert-storage-full",children:[a.jsx(zd,{className:"h-4 w-4"}),a.jsx(xc,{children:"Storage limit reached. Delete videos or upgrade to continue uploading."})]}),!c&&l&&a.jsxs(vc,{"data-testid":"alert-storage-warning",children:[a.jsx(zd,{className:"h-4 w-4"}),a.jsx(xc,{children:"You're running low on storage. Consider upgrading for more space."})]}),!l&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground","data-testid":"storage-ok",children:[a.jsx(aF,{className:"h-4 w-4 text-green-500"}),a.jsx("span",{children:"Storage space available"})]}),o==="free"&&a.jsx("div",{className:"pt-2",children:a.jsx(Mt,{href:"/settings?tab=subscription",children:a.jsx($e,{variant:"outline",className:"w-full","data-testid":"button-upgrade-storage",children:"Upgrade for More Storage"})})}),o!=="free"&&o!=="gym_pro"&&a.jsx("div",{className:"pt-2",children:a.jsx(Mt,{href:"/settings?tab=subscription",children:a.jsx($e,{variant:"outline",className:"w-full","data-testid":"button-upgrade-storage",children:"Upgrade to Gym Pro"})})})]})]})}function XU(){const[t,e]=y.useState(!1),[r,n]=y.useState(!0),[s,i]=y.useState(!0),[o,l]=y.useState(""),c="1.0.80",{darkMode:u,setDarkMode:d}=QL(),{user:f}=fr(),{toast:h}=Ft(),[,v]=Xa(),p=Wf(f==null?void 0:f.email,f==null?void 0:f.subscriptionStatus,f==null?void 0:f.subscriptionExpiresAt),g=TF(f==null?void 0:f.email,f==null?void 0:f.subscriptionStatus,f==null?void 0:f.subscriptionExpiresAt);y.useEffect(()=>{const T=localStorage.getItem("bjj_autosync")!=="false",I=localStorage.getItem("bjj_notifications")!=="false";localStorage.getItem("bjj_autosync")||localStorage.setItem("bjj_autosync","true"),n(T),i(I)},[]);const b=()=>{const T=!r;n(T),localStorage.setItem("bjj_autosync",T.toString())},w=()=>{d(!u)},m=()=>{const T=!s;i(T),localStorage.setItem("bjj_notifications",T.toString())};Xe({queryKey:["/api/user-stats"]});const{data:x}=Xe({queryKey:["/api/classes"]}),{data:_}=Xe({queryKey:["/api/notes"]}),{data:S}=Xe({queryKey:["/api/my-gym"]}),k=We({mutationFn:async T=>await Rt("POST","/api/gyms/join",{code:T}),onSuccess:()=>{Ar.invalidateQueries({queryKey:["/api/my-gym"]}),h({title:"Success!",description:"You've joined the gym!"}),l("")},onError:T=>{h({title:"Error",description:T.message||"Failed to join gym",variant:"destructive"})}}),j=()=>{if(!o.trim()){h({title:"Error",description:"Please enter a gym code",variant:"destructive"});return}k.mutate(o.trim().toUpperCase())},E=We({mutationFn:async()=>await Rt("DELETE","/api/user/delete-account"),onSuccess:()=>{h({title:"Account Deleted",description:"Your account and all data have been permanently deleted."}),localStorage.clear(),sessionStorage.clear(),setTimeout(()=>{window.location.href="/"},2e3)},onError:T=>{h({title:"Error",description:T.message||"Failed to delete account",variant:"destructive"})}});return a.jsxs("div",{className:"p-6 max-w-md mx-auto dark:bg-gray-900 min-h-screen",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-6",children:"Settings"}),t&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 max-w-md w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-800 dark:text-white",children:"Upgrade to Premium"}),a.jsx("button",{onClick:()=>e(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:"âœ•"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"text-center",children:a.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg p-4 mb-4",children:[a.jsx("h4",{className:"text-lg font-bold",children:"Premium Plan"}),a.jsx("p",{className:"text-sm opacity-90",children:"Unlock unlimited potential"})]})}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-green-500",children:"âœ“"}),a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Unlimited class logging"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-green-500",children:"âœ“"}),a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Unlimited notes with sharing"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-green-500",children:"âœ“"}),a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Advanced video library"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-green-500",children:"âœ“"}),a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Cloud backup & sync"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-green-500",children:"âœ“"}),a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Priority support"})]})]}),a.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:[a.jsx("h5",{className:"font-semibold text-gray-800 dark:text-white mb-2",children:"How to Subscribe:"}),a.jsxs("ol",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[a.jsx("li",{children:"1. Visit your device's app store"}),a.jsx("li",{children:'2. Search for "Jits Journal"'}),a.jsx("li",{children:"3. Select premium subscription"}),a.jsx("li",{children:"4. Complete purchase through app store"})]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("button",{onClick:()=>e(!1),className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 px-6 rounded-lg hover:from-blue-700 hover:to-purple-700 transition-colors font-medium",children:"Got it!"}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"Subscriptions are managed through your app store"})]})]})]})}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-md mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"Account"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Plan"}),a.jsx("span",{className:`text-sm px-2 py-1 rounded ${p?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:g})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Classes Logged"}),a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[Array.isArray(x)?x.length:0," classes"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Notes Created"}),a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[Array.isArray(_)?_.length:0," notes"]})]}),!p&&a.jsx("button",{onClick:()=>v("/subscribe"),className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"Upgrade to Premium"})]})]}),a.jsx("div",{className:"mb-6",children:a.jsx(ZU,{})}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-md mb-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4 flex items-center gap-2",children:[a.jsx(Ud,{className:"w-5 h-5"}),"Gym Community"]}),a.jsxs("div",{className:"space-y-4",children:[S&&a.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(as,{className:"w-5 h-5 text-blue-600"}),a.jsx("span",{className:"font-semibold text-gray-800 dark:text-white",children:S.name})]}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Code: ",a.jsx("span",{className:"font-mono font-bold",children:S.code})]}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-2",children:"You're a member of this gym community"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:S?"Join another gym community":"Join a gym community to share notes with your training partners"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",placeholder:"Enter gym code...",value:o,onChange:T=>l(T.target.value.toUpperCase()),onKeyPress:T=>T.key==="Enter"&&j(),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-800 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent","data-testid":"input-gym-code"}),a.jsx("button",{onClick:j,disabled:k.isPending||!o.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed","data-testid":"button-join-gym",children:k.isPending?"Joining...":"Join"})]})]}),(f==null?void 0:f.role)==="admin"&&a.jsxs("button",{onClick:()=>v("/admin"),className:"w-full bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 transition-colors flex items-center justify-center gap-2","data-testid":"button-admin-panel",children:[a.jsx(Ud,{className:"w-4 h-4"}),"Manage Gyms (Admin)"]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-md mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"App Settings"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Notifications"}),a.jsx("button",{onClick:m,className:`w-12 h-6 rounded-full relative transition-colors ${s?"bg-green-500":"bg-gray-300 dark:bg-gray-600"}`,children:a.jsx("div",{className:`w-5 h-5 bg-white rounded-full absolute top-0.5 transition-transform ${s?"right-0.5":"left-0.5"}`})})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Auto-sync"}),a.jsx("button",{onClick:b,className:`w-12 h-6 rounded-full relative transition-colors ${r?"bg-green-500":"bg-gray-300 dark:bg-gray-600"}`,children:a.jsx("div",{className:`w-5 h-5 bg-white rounded-full absolute top-0.5 transition-transform ${r?"right-0.5":"left-0.5"}`})})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Dark Mode"}),a.jsx("button",{onClick:w,className:`w-12 h-6 rounded-full relative transition-colors ${u?"bg-green-500":"bg-gray-300 dark:bg-gray-600"}`,children:a.jsx("div",{className:`w-5 h-5 bg-white rounded-full absolute top-0.5 transition-transform ${u?"right-0.5":"left-0.5"}`})})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-md mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"Subscription"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-700",children:"Current Plan"}),a.jsx("span",{className:`text-sm px-2 py-1 rounded ${p?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:g})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Classes Limit"}),a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[Array.isArray(x)?x.length:0," / ",p?"Unlimited":Xi.classes]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Notes Limit"}),a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[Array.isArray(_)?_.length:0," / ",p?"Unlimited":Xi.notes]})]}),!p&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>v("/subscribe"),className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-2 px-4 rounded-lg hover:from-blue-700 hover:to-purple-700 transition-colors",children:"View Plans & Subscribe"}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:"Secure payments via Stripe"})]}),p&&a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(un,{className:"w-4 h-4 text-green-600"}),a.jsx("span",{className:"text-sm font-medium text-green-800",children:"Premium Active"})]}),a.jsx("p",{className:"text-xs text-green-700 mt-1",children:"You have unlimited access to all features"})]})]})]}),a.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-6 shadow-md mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"Premium Features"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(un,{className:"w-4 h-4 text-green-600"}),a.jsx("span",{className:"text-gray-700",children:"Unlimited class logging"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(un,{className:"w-4 h-4 text-green-600"}),a.jsx("span",{className:"text-gray-700",children:"Unlimited notes with sharing"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(un,{className:"w-4 h-4 text-green-600"}),a.jsx("span",{className:"text-gray-700",children:"Advanced video library"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(un,{className:"w-4 h-4 text-green-600"}),a.jsx("span",{className:"text-gray-700",children:"Cloud backup & sync"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(un,{className:"w-4 h-4 text-green-600"}),a.jsx("span",{className:"text-gray-700",children:"Advanced progress analytics"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(un,{className:"w-4 h-4 text-green-600"}),a.jsx("span",{className:"text-gray-700",children:"Priority support"})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-md mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"Legal & Privacy"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(Mt,{href:"/privacy",children:a.jsxs("button",{"data-testid":"button-privacy-policy",className:"w-full text-left text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-white py-2 flex items-center justify-between",children:[a.jsx("span",{children:"Privacy Policy"}),a.jsx("span",{className:"text-gray-400",children:"â†’"})]})}),a.jsx(Mt,{href:"/terms",children:a.jsxs("button",{"data-testid":"button-terms-of-service",className:"w-full text-left text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-white py-2 flex items-center justify-between",children:[a.jsx("span",{children:"Terms of Service"}),a.jsx("span",{className:"text-gray-400",children:"â†’"})]})})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-md mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"Danger Zone"}),a.jsxs(BU,{children:[a.jsx(zU,{asChild:!0,children:a.jsxs("button",{"data-testid":"button-delete-account",className:"w-full bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/30 py-3 px-4 rounded-lg flex items-center justify-center gap-2 font-medium transition-colors",children:[a.jsx(co,{className:"w-4 h-4"}),"Delete Account & All Data"]})}),a.jsxs(NP,{className:"bg-white dark:bg-gray-800",children:[a.jsxs(CP,{children:[a.jsx(PP,{className:"text-gray-900 dark:text-white",children:"Are you absolutely sure?"}),a.jsxs(TP,{className:"text-gray-600 dark:text-gray-400",children:["This action cannot be undone. This will permanently delete your account and remove all your data from our servers, including:",a.jsxs("ul",{className:"mt-2 list-disc list-inside space-y-1",children:[a.jsx("li",{children:"All training classes and sessions"}),a.jsx("li",{children:"All notes and technique breakdowns"}),a.jsx("li",{children:"Belt progression history"}),a.jsx("li",{children:"Competition game plans"}),a.jsx("li",{children:"Gym memberships"})]})]})]}),a.jsxs(EP,{children:[a.jsx(OP,{className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white",children:"Cancel"}),a.jsx(AP,{onClick:()=>E.mutate(),disabled:E.isPending,className:"bg-red-600 hover:bg-red-700 text-white",children:E.isPending?"Deleting...":"Yes, delete everything"})]})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-md mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"Support & Feedback"}),a.jsx("div",{className:"space-y-3",children:a.jsxs("button",{onClick:()=>window.location.href="/contact",className:"w-full text-left text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-white py-2 flex items-center justify-between",children:[a.jsx("span",{children:"Contact Support"}),a.jsx("span",{className:"text-gray-400",children:"â†’"})]})})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-md",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"App Info"}),a.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Version"}),a.jsx("span",{children:c})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Build"}),a.jsx("span",{children:"2025.01.05"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Developer"}),a.jsx("span",{children:"Jits Journal Team"})]})]})]})]})}const rr=y.forwardRef(({className:t,type:e,...r},n)=>a.jsx("input",{type:e,className:ue("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...r}));rr.displayName="Input";const Jy=y.forwardRef(({className:t,...e},r)=>a.jsx("textarea",{className:ue("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...e}));Jy.displayName="Textarea";function rw(t,[e,r]){return Math.min(r,Math.max(e,t))}function e8(t){const e=y.useRef({value:t,previous:t});return y.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var t8="VisuallyHidden",$P=y.forwardRef((t,e)=>a.jsx(Se.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));$P.displayName=t8;var r8=[" ","Enter","ArrowUp","ArrowDown"],n8=[" ","Enter"],su="Select",[rh,nh,s8]=_y(su),[ll,Xq]=Gn(su,[s8,al]),sh=al(),[i8,ki]=ll(su),[o8,a8]=ll(su),UP=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:v,form:p}=t,g=sh(e),[b,w]=y.useState(null),[m,x]=y.useState(null),[_,S]=y.useState(!1),k=Sy(u),[j=!1,E]=Ba({prop:n,defaultProp:s,onChange:i}),[T,I]=Ba({prop:o,defaultProp:l,onChange:c}),q=y.useRef(null),L=b?p||!!b.closest("form"):!0,[O,V]=y.useState(new Set),R=Array.from(O).map(B=>B.props.value).join(";");return a.jsx(Ry,{...g,children:a.jsxs(i8,{required:v,scope:e,trigger:b,onTriggerChange:w,valueNode:m,onValueNodeChange:x,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:Bn(),value:T,onValueChange:I,open:j,onOpenChange:E,dir:k,triggerPointerDownPosRef:q,disabled:h,children:[a.jsx(rh.Provider,{scope:e,children:a.jsx(o8,{scope:t.__scopeSelect,onNativeOptionAdd:y.useCallback(B=>{V($=>new Set($).add(B))},[]),onNativeOptionRemove:y.useCallback(B=>{V($=>{const P=new Set($);return P.delete(B),P})},[]),children:r})}),L?a.jsxs(dT,{"aria-hidden":!0,required:v,tabIndex:-1,name:d,autoComplete:f,value:T,onChange:B=>I(B.target.value),disabled:h,form:p,children:[T===void 0?a.jsx("option",{value:""}):null,Array.from(O)]},R):null]})})};UP.displayName=su;var BP="SelectTrigger",zP=y.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...s}=t,i=sh(r),o=ki(BP,r),l=o.disabled||n,c=Ie(e,o.onTriggerChange),u=nh(r),d=y.useRef("touch"),[f,h,v]=fT(g=>{const b=u().filter(x=>!x.disabled),w=b.find(x=>x.value===o.value),m=hT(b,g,w);m!==void 0&&o.onValueChange(m.value)}),p=g=>{l||(o.onOpenChange(!0),v()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return a.jsx(Yf,{asChild:!0,...i,children:a.jsx(Se.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":uT(o.value)?"":void 0,...s,ref:c,onClick:ne(s.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&p(g)}),onPointerDown:ne(s.onPointerDown,g=>{d.current=g.pointerType;const b=g.target;b.hasPointerCapture(g.pointerId)&&b.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(p(g),g.preventDefault())}),onKeyDown:ne(s.onKeyDown,g=>{const b=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(b&&g.key===" ")&&r8.includes(g.key)&&(p(),g.preventDefault())})})})});zP.displayName=BP;var VP="SelectValue",WP=y.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:o="",...l}=t,c=ki(VP,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=Ie(e,c.onValueNodeChange);return lr(()=>{u(d)},[u,d]),a.jsx(Se.span,{...l,ref:f,style:{pointerEvents:"none"},children:uT(c.value)?a.jsx(a.Fragment,{children:o}):i})});WP.displayName=VP;var l8="SelectIcon",qP=y.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...s}=t;return a.jsx(Se.span,{"aria-hidden":!0,...s,ref:e,children:n||"▼"})});qP.displayName=l8;var c8="SelectPortal",HP=t=>a.jsx(eu,{asChild:!0,...t});HP.displayName=c8;var ho="SelectContent",KP=y.forwardRef((t,e)=>{const r=ki(ho,t.__scopeSelect),[n,s]=y.useState();if(lr(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?Za.createPortal(a.jsx(GP,{scope:t.__scopeSelect,children:a.jsx(rh.Slot,{scope:t.__scopeSelect,children:a.jsx("div",{children:t.children})})}),i):null}return a.jsx(QP,{...t,ref:e})});KP.displayName=ho;var sn=10,[GP,Ni]=ll(ho),u8="SelectContentImpl",d8=fi("SelectContent.RemoveScroll"),QP=y.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:v,sticky:p,hideWhenDetached:g,avoidCollisions:b,...w}=t,m=ki(ho,r),[x,_]=y.useState(null),[S,k]=y.useState(null),j=Ie(e,ie=>_(ie)),[E,T]=y.useState(null),[I,q]=y.useState(null),L=nh(r),[O,V]=y.useState(!1),R=y.useRef(!1);y.useEffect(()=>{if(x)return Zf(x)},[x]),Hf();const B=y.useCallback(ie=>{const[Me,...Le]=L().map(De=>De.ref.current),[Ae]=Le.slice(-1),Oe=document.activeElement;for(const De of ie)if(De===Oe||(De==null||De.scrollIntoView({block:"nearest"}),De===Me&&S&&(S.scrollTop=0),De===Ae&&S&&(S.scrollTop=S.scrollHeight),De==null||De.focus(),document.activeElement!==Oe))return},[L,S]),$=y.useCallback(()=>B([E,x]),[B,E,x]);y.useEffect(()=>{O&&$()},[O,$]);const{onOpenChange:P,triggerPointerDownPosRef:M}=m;y.useEffect(()=>{if(x){let ie={x:0,y:0};const Me=Ae=>{var Oe,De;ie={x:Math.abs(Math.round(Ae.pageX)-(((Oe=M.current)==null?void 0:Oe.x)??0)),y:Math.abs(Math.round(Ae.pageY)-(((De=M.current)==null?void 0:De.y)??0))}},Le=Ae=>{ie.x<=10&&ie.y<=10?Ae.preventDefault():x.contains(Ae.target)||P(!1),document.removeEventListener("pointermove",Me),M.current=null};return M.current!==null&&(document.addEventListener("pointermove",Me),document.addEventListener("pointerup",Le,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Me),document.removeEventListener("pointerup",Le,{capture:!0})}}},[x,P,M]),y.useEffect(()=>{const ie=()=>P(!1);return window.addEventListener("blur",ie),window.addEventListener("resize",ie),()=>{window.removeEventListener("blur",ie),window.removeEventListener("resize",ie)}},[P]);const[K,te]=fT(ie=>{const Me=L().filter(Oe=>!Oe.disabled),Le=Me.find(Oe=>Oe.ref.current===document.activeElement),Ae=hT(Me,ie,Le);Ae&&setTimeout(()=>Ae.ref.current.focus())}),ke=y.useCallback((ie,Me,Le)=>{const Ae=!R.current&&!Le;(m.value!==void 0&&m.value===Me||Ae)&&(T(ie),Ae&&(R.current=!0))},[m.value]),Pt=y.useCallback(()=>x==null?void 0:x.focus(),[x]),ot=y.useCallback((ie,Me,Le)=>{const Ae=!R.current&&!Le;(m.value!==void 0&&m.value===Me||Ae)&&q(ie)},[m.value]),$t=n==="popper"?Xp:YP,et=$t===Xp?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:v,sticky:p,hideWhenDetached:g,avoidCollisions:b}:{};return a.jsx(GP,{scope:r,content:x,viewport:S,onViewportChange:k,itemRefCallback:ke,selectedItem:E,onItemLeave:Pt,itemTextRefCallback:ot,focusSelectedItem:$,selectedItemText:I,position:n,isPositioned:O,searchRef:K,children:a.jsx(tu,{as:d8,allowPinchZoom:!0,children:a.jsx(Zc,{asChild:!0,trapped:m.open,onMountAutoFocus:ie=>{ie.preventDefault()},onUnmountAutoFocus:ne(s,ie=>{var Me;(Me=m.trigger)==null||Me.focus({preventScroll:!0}),ie.preventDefault()}),children:a.jsx(Jc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ie=>ie.preventDefault(),onDismiss:()=>m.onOpenChange(!1),children:a.jsx($t,{role:"listbox",id:m.contentId,"data-state":m.open?"open":"closed",dir:m.dir,onContextMenu:ie=>ie.preventDefault(),...w,...et,onPlaced:()=>V(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:ne(w.onKeyDown,ie=>{const Me=ie.ctrlKey||ie.altKey||ie.metaKey;if(ie.key==="Tab"&&ie.preventDefault(),!Me&&ie.key.length===1&&te(ie.key),["ArrowUp","ArrowDown","Home","End"].includes(ie.key)){let Ae=L().filter(Oe=>!Oe.disabled).map(Oe=>Oe.ref.current);if(["ArrowUp","End"].includes(ie.key)&&(Ae=Ae.slice().reverse()),["ArrowUp","ArrowDown"].includes(ie.key)){const Oe=ie.target,De=Ae.indexOf(Oe);Ae=Ae.slice(De+1)}setTimeout(()=>B(Ae)),ie.preventDefault()}})})})})})})});QP.displayName=u8;var f8="SelectItemAlignedPosition",YP=y.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...s}=t,i=ki(ho,r),o=Ni(ho,r),[l,c]=y.useState(null),[u,d]=y.useState(null),f=Ie(e,j=>d(j)),h=nh(r),v=y.useRef(!1),p=y.useRef(!0),{viewport:g,selectedItem:b,selectedItemText:w,focusSelectedItem:m}=o,x=y.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&g&&b&&w){const j=i.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),T=i.valueNode.getBoundingClientRect(),I=w.getBoundingClientRect();if(i.dir!=="rtl"){const Oe=I.left-E.left,De=T.left-Oe,Qt=j.left-De,Nr=j.width+Qt,Ei=Math.max(Nr,E.width),Cs=window.innerWidth-sn,Es=rw(De,[sn,Math.max(sn,Cs-Ei)]);l.style.minWidth=Nr+"px",l.style.left=Es+"px"}else{const Oe=E.right-I.right,De=window.innerWidth-T.right-Oe,Qt=window.innerWidth-j.right-De,Nr=j.width+Qt,Ei=Math.max(Nr,E.width),Cs=window.innerWidth-sn,Es=rw(De,[sn,Math.max(sn,Cs-Ei)]);l.style.minWidth=Nr+"px",l.style.right=Es+"px"}const q=h(),L=window.innerHeight-sn*2,O=g.scrollHeight,V=window.getComputedStyle(u),R=parseInt(V.borderTopWidth,10),B=parseInt(V.paddingTop,10),$=parseInt(V.borderBottomWidth,10),P=parseInt(V.paddingBottom,10),M=R+B+O+P+$,K=Math.min(b.offsetHeight*5,M),te=window.getComputedStyle(g),ke=parseInt(te.paddingTop,10),Pt=parseInt(te.paddingBottom,10),ot=j.top+j.height/2-sn,$t=L-ot,et=b.offsetHeight/2,ie=b.offsetTop+et,Me=R+B+ie,Le=M-Me;if(Me<=ot){const Oe=q.length>0&&b===q[q.length-1].ref.current;l.style.bottom="0px";const De=u.clientHeight-g.offsetTop-g.offsetHeight,Qt=Math.max($t,et+(Oe?Pt:0)+De+$),Nr=Me+Qt;l.style.height=Nr+"px"}else{const Oe=q.length>0&&b===q[0].ref.current;l.style.top="0px";const Qt=Math.max(ot,R+g.offsetTop+(Oe?ke:0)+et)+Le;l.style.height=Qt+"px",g.scrollTop=Me-ot+g.offsetTop}l.style.margin=`${sn}px 0`,l.style.minHeight=K+"px",l.style.maxHeight=L+"px",n==null||n(),requestAnimationFrame(()=>v.current=!0)}},[h,i.trigger,i.valueNode,l,u,g,b,w,i.dir,n]);lr(()=>x(),[x]);const[_,S]=y.useState();lr(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const k=y.useCallback(j=>{j&&p.current===!0&&(x(),m==null||m(),p.current=!1)},[x,m]);return a.jsx(m8,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:v,onScrollButtonChange:k,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:a.jsx(Se.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});YP.displayName=f8;var h8="SelectPopperPosition",Xp=y.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=sn,...i}=t,o=sh(r);return a.jsx(Dy,{...o,...i,ref:e,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Xp.displayName=h8;var[m8,Zy]=ll(ho,{}),eg="SelectViewport",JP=y.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...s}=t,i=Ni(eg,r),o=Zy(eg,r),l=Ie(e,i.onViewportChange),c=y.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(rh.Slot,{scope:r,children:a.jsx(Se.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ne(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const v=Math.abs(c.current-d.scrollTop);if(v>0){const p=window.innerHeight-sn*2,g=parseFloat(f.style.minHeight),b=parseFloat(f.style.height),w=Math.max(g,b);if(w<p){const m=w+v,x=Math.min(p,m),_=m-x;f.style.height=x+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});JP.displayName=eg;var ZP="SelectGroup",[p8,g8]=ll(ZP),y8=y.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=Bn();return a.jsx(p8,{scope:r,id:s,children:a.jsx(Se.div,{role:"group","aria-labelledby":s,...n,ref:e})})});y8.displayName=ZP;var XP="SelectLabel",eT=y.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=g8(XP,r);return a.jsx(Se.div,{id:s.id,...n,ref:e})});eT.displayName=XP;var Zd="SelectItem",[v8,tT]=ll(Zd),rT=y.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...o}=t,l=ki(Zd,r),c=Ni(Zd,r),u=l.value===n,[d,f]=y.useState(i??""),[h,v]=y.useState(!1),p=Ie(e,m=>{var x;return(x=c.itemRefCallback)==null?void 0:x.call(c,m,n,s)}),g=Bn(),b=y.useRef("touch"),w=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(v8,{scope:r,value:n,disabled:s,textId:g,isSelected:u,onItemTextChange:y.useCallback(m=>{f(x=>x||((m==null?void 0:m.textContent)??"").trim())},[]),children:a.jsx(rh.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:a.jsx(Se.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:p,onFocus:ne(o.onFocus,()=>v(!0)),onBlur:ne(o.onBlur,()=>v(!1)),onClick:ne(o.onClick,()=>{b.current!=="mouse"&&w()}),onPointerUp:ne(o.onPointerUp,()=>{b.current==="mouse"&&w()}),onPointerDown:ne(o.onPointerDown,m=>{b.current=m.pointerType}),onPointerMove:ne(o.onPointerMove,m=>{var x;b.current=m.pointerType,s?(x=c.onItemLeave)==null||x.call(c):b.current==="mouse"&&m.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ne(o.onPointerLeave,m=>{var x;m.currentTarget===document.activeElement&&((x=c.onItemLeave)==null||x.call(c))}),onKeyDown:ne(o.onKeyDown,m=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&m.key===" "||(n8.includes(m.key)&&w(),m.key===" "&&m.preventDefault())})})})})});rT.displayName=Zd;var Rl="SelectItemText",nT=y.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,...i}=t,o=ki(Rl,r),l=Ni(Rl,r),c=tT(Rl,r),u=a8(Rl,r),[d,f]=y.useState(null),h=Ie(e,w=>f(w),c.onItemTextChange,w=>{var m;return(m=l.itemTextRefCallback)==null?void 0:m.call(l,w,c.value,c.disabled)}),v=d==null?void 0:d.textContent,p=y.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:v},c.value),[c.disabled,c.value,v]),{onNativeOptionAdd:g,onNativeOptionRemove:b}=u;return lr(()=>(g(p),()=>b(p)),[g,b,p]),a.jsxs(a.Fragment,{children:[a.jsx(Se.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Za.createPortal(i.children,o.valueNode):null]})});nT.displayName=Rl;var sT="SelectItemIndicator",iT=y.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return tT(sT,r).isSelected?a.jsx(Se.span,{"aria-hidden":!0,...n,ref:e}):null});iT.displayName=sT;var tg="SelectScrollUpButton",oT=y.forwardRef((t,e)=>{const r=Ni(tg,t.__scopeSelect),n=Zy(tg,t.__scopeSelect),[s,i]=y.useState(!1),o=Ie(e,n.onScrollButtonChange);return lr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(lT,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});oT.displayName=tg;var rg="SelectScrollDownButton",aT=y.forwardRef((t,e)=>{const r=Ni(rg,t.__scopeSelect),n=Zy(rg,t.__scopeSelect),[s,i]=y.useState(!1),o=Ie(e,n.onScrollButtonChange);return lr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(lT,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});aT.displayName=rg;var lT=y.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=t,i=Ni("SelectScrollButton",r),o=y.useRef(null),l=nh(r),c=y.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return y.useEffect(()=>()=>c(),[c]),lr(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),a.jsx(Se.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:ne(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:ne(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:ne(s.onPointerLeave,()=>{c()})})}),x8="SelectSeparator",cT=y.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return a.jsx(Se.div,{"aria-hidden":!0,...n,ref:e})});cT.displayName=x8;var ng="SelectArrow",w8=y.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=sh(r),i=ki(ng,r),o=Ni(ng,r);return i.open&&o.position==="popper"?a.jsx(Iy,{...s,...n,ref:e}):null});w8.displayName=ng;function uT(t){return t===""||t===void 0}var dT=y.forwardRef((t,e)=>{const{value:r,...n}=t,s=y.useRef(null),i=Ie(e,s),o=e8(r);return y.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&d){const f=new Event("change",{bubbles:!0});d.call(l,r),l.dispatchEvent(f)}},[o,r]),a.jsx($P,{asChild:!0,children:a.jsx("select",{...n,ref:i,defaultValue:r})})});dT.displayName="BubbleSelect";function fT(t){const e=Xr(t),r=y.useRef(""),n=y.useRef(0),s=y.useCallback(o=>{const l=r.current+o;e(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),i=y.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function hT(t,e,r){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=r?t.indexOf(r):-1;let o=b8(t,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function b8(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var _8=UP,mT=zP,S8=WP,j8=qP,k8=HP,pT=KP,N8=JP,gT=eT,yT=rT,C8=nT,E8=iT,vT=oT,xT=aT,wT=cT;const nw=_8,sw=S8,sg=y.forwardRef(({className:t,children:e,...r},n)=>a.jsxs(mT,{ref:n,className:ue("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,a.jsx(j8,{asChild:!0,children:a.jsx(Vf,{className:"h-4 w-4 opacity-50"})})]}));sg.displayName=mT.displayName;const bT=y.forwardRef(({className:t,...e},r)=>a.jsx(vT,{ref:r,className:ue("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(YN,{className:"h-4 w-4"})}));bT.displayName=vT.displayName;const _T=y.forwardRef(({className:t,...e},r)=>a.jsx(xT,{ref:r,className:ue("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(Vf,{className:"h-4 w-4"})}));_T.displayName=xT.displayName;const ig=y.forwardRef(({className:t,children:e,position:r="popper",...n},s)=>a.jsx(k8,{children:a.jsxs(pT,{ref:s,className:ue("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[a.jsx(bT,{}),a.jsx(N8,{className:ue("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),a.jsx(_T,{})]})}));ig.displayName=pT.displayName;const P8=y.forwardRef(({className:t,...e},r)=>a.jsx(gT,{ref:r,className:ue("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));P8.displayName=gT.displayName;const nn=y.forwardRef(({className:t,children:e,...r},n)=>a.jsxs(yT,{ref:n,className:ue("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(E8,{children:a.jsx(un,{className:"h-4 w-4"})})}),a.jsx(C8,{children:e})]}));nn.displayName=yT.displayName;const T8=y.forwardRef(({className:t,...e},r)=>a.jsx(wT,{ref:r,className:ue("-mx-1 my-1 h-px bg-muted",t),...e}));T8.displayName=wT.displayName;var iu=t=>t.type==="checkbox",Vi=t=>t instanceof Date,er=t=>t==null;const ST=t=>typeof t=="object";var ht=t=>!er(t)&&!Array.isArray(t)&&ST(t)&&!Vi(t),jT=t=>ht(t)&&t.target?iu(t.target)?t.target.checked:t.target.value:t,A8=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,kT=(t,e)=>t.has(A8(e)),O8=t=>{const e=t.constructor&&t.constructor.prototype;return ht(e)&&e.hasOwnProperty("isPrototypeOf")},Xy=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Tt(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Xy&&(t instanceof Blob||n))&&(r||ht(t)))if(e=r?[]:{},!r&&!O8(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=Tt(t[s]));else return t;return e}var ih=t=>Array.isArray(t)?t.filter(Boolean):[],ut=t=>t===void 0,Q=(t,e,r)=>{if(!e||!ht(t))return r;const n=ih(e.split(/[,[\].]+?/)).reduce((s,i)=>er(s)?s:s[i],t);return ut(n)||n===t?ut(t[e])?r:t[e]:n},Tr=t=>typeof t=="boolean",ev=t=>/^\w*$/.test(t),NT=t=>ih(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Fe=(t,e,r)=>{let n=-1;const s=ev(e)?[e]:NT(e),i=s.length,o=i-1;for(;++n<i;){const l=s[n];let c=r;if(n!==o){const u=t[l];c=ht(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const Xd={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},hn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Zn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},CT=he.createContext(null),oh=()=>he.useContext(CT),R8=t=>{const{children:e,...r}=t;return he.createElement(CT.Provider,{value:r},e)};var ET=(t,e,r,n=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==hn.all&&(e._proxyFormState[o]=!n||hn.all),r&&(r[o]=!0),t[o]}});return s};function D8(t){const e=oh(),{control:r=e.control,disabled:n,name:s,exact:i}=t||{},[o,l]=he.useState(r._formState),c=he.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=he.useRef(s);return u.current=s,he.useEffect(()=>r._subscribe({name:u.current,formState:c.current,exact:i,callback:d=>{!n&&l({...r._formState,...d})}}),[r,n,i]),he.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),he.useMemo(()=>ET(o,r,c.current,!1),[o,r])}var Ln=t=>typeof t=="string",PT=(t,e,r,n,s)=>Ln(t)?(n&&e.watch.add(t),Q(r,t,s)):Array.isArray(t)?t.map(i=>(n&&e.watch.add(i),Q(r,i))):(n&&(e.watchAll=!0),r);function I8(t){const e=oh(),{control:r=e.control,name:n,defaultValue:s,disabled:i,exact:o}=t||{},l=he.useRef(n),c=he.useRef(s);l.current=n,he.useEffect(()=>r._subscribe({name:l.current,formState:{values:!0},exact:o,callback:f=>!i&&d(PT(l.current,r._names,f.values||r._formValues,!1,c.current))}),[r,i,o]);const[u,d]=he.useState(r._getWatch(n,s));return he.useEffect(()=>r._removeUnmounted()),u}function M8(t){const e=oh(),{name:r,disabled:n,control:s=e.control,shouldUnregister:i}=t,o=kT(s._names.array,r),l=I8({control:s,name:r,defaultValue:Q(s._formValues,r,Q(s._defaultValues,r,t.defaultValue)),exact:!0}),c=D8({control:s,name:r,exact:!0}),u=he.useRef(t),d=he.useRef(s.register(r,{...t.rules,value:l,...Tr(t.disabled)?{disabled:t.disabled}:{}})),f=he.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Q(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!Q(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Q(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Q(c.validatingFields,r)},error:{enumerable:!0,get:()=>Q(c.errors,r)}}),[c,r]),h=he.useCallback(b=>d.current.onChange({target:{value:jT(b),name:r},type:Xd.CHANGE}),[r]),v=he.useCallback(()=>d.current.onBlur({target:{value:Q(s._formValues,r),name:r},type:Xd.BLUR}),[r,s._formValues]),p=he.useCallback(b=>{const w=Q(s._fields,r);w&&b&&(w._f.ref={focus:()=>b.focus(),select:()=>b.select(),setCustomValidity:m=>b.setCustomValidity(m),reportValidity:()=>b.reportValidity()})},[s._fields,r]),g=he.useMemo(()=>({name:r,value:l,...Tr(n)||c.disabled?{disabled:c.disabled||n}:{},onChange:h,onBlur:v,ref:p}),[r,n,c.disabled,h,v,p,l]);return he.useEffect(()=>{const b=s._options.shouldUnregister||i;s.register(r,{...u.current.rules,...Tr(u.current.disabled)?{disabled:u.current.disabled}:{}});const w=(m,x)=>{const _=Q(s._fields,m);_&&_._f&&(_._f.mount=x)};if(w(r,!0),b){const m=Tt(Q(s._options.defaultValues,r));Fe(s._defaultValues,r,m),ut(Q(s._formValues,r))&&Fe(s._formValues,r,m)}return!o&&s.register(r),()=>{(o?b&&!s._state.action:b)?s.unregister(r):w(r,!1)}},[r,s,o,i]),he.useEffect(()=>{s._setDisabledField({disabled:n,name:r})},[n,r,s]),he.useMemo(()=>({field:g,formState:c,fieldState:f}),[g,c,f])}const L8=t=>t.render(M8(t));var TT=(t,e,r,n,s)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:s||!0}}:{},Ql=t=>Array.isArray(t)?t:[t],iw=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},og=t=>er(t)||!ST(t);function Vs(t,e){if(og(t)||og(e))return t===e;if(Vi(t)&&Vi(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const s of r){const i=t[s];if(!n.includes(s))return!1;if(s!=="ref"){const o=e[s];if(Vi(i)&&Vi(o)||ht(i)&&ht(o)||Array.isArray(i)&&Array.isArray(o)?!Vs(i,o):i!==o)return!1}}return!0}var Zt=t=>ht(t)&&!Object.keys(t).length,tv=t=>t.type==="file",mn=t=>typeof t=="function",ef=t=>{if(!Xy)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},AT=t=>t.type==="select-multiple",rv=t=>t.type==="radio",F8=t=>rv(t)||iu(t),hm=t=>ef(t)&&t.isConnected;function $8(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=ut(t)?n++:t[e[n++]];return t}function U8(t){for(const e in t)if(t.hasOwnProperty(e)&&!ut(t[e]))return!1;return!0}function wt(t,e){const r=Array.isArray(e)?e:ev(e)?[e]:NT(e),n=r.length===1?t:$8(t,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(ht(n)&&Zt(n)||Array.isArray(n)&&U8(n))&&wt(t,r.slice(0,-1)),t}var OT=t=>{for(const e in t)if(mn(t[e]))return!0;return!1};function tf(t,e={}){const r=Array.isArray(t);if(ht(t)||r)for(const n in t)Array.isArray(t[n])||ht(t[n])&&!OT(t[n])?(e[n]=Array.isArray(t[n])?[]:{},tf(t[n],e[n])):er(t[n])||(e[n]=!0);return e}function RT(t,e,r){const n=Array.isArray(t);if(ht(t)||n)for(const s in t)Array.isArray(t[s])||ht(t[s])&&!OT(t[s])?ut(e)||og(r[s])?r[s]=Array.isArray(t[s])?tf(t[s],[]):{...tf(t[s])}:RT(t[s],er(e)?{}:e[s],r[s]):r[s]=!Vs(t[s],e[s]);return r}var bl=(t,e)=>RT(t,e,tf(e));const ow={value:!1,isValid:!1},aw={value:!0,isValid:!0};var DT=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!ut(t[0].attributes.value)?ut(t[0].value)||t[0].value===""?aw:{value:t[0].value,isValid:!0}:aw:ow}return ow},IT=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>ut(t)?t:e?t===""?NaN:t&&+t:r&&Ln(t)?new Date(t):n?n(t):t;const lw={isValid:!1,value:null};var MT=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,lw):lw;function cw(t){const e=t.ref;return tv(e)?e.files:rv(e)?MT(t.refs).value:AT(e)?[...e.selectedOptions].map(({value:r})=>r):iu(e)?DT(t.refs).value:IT(ut(e.value)?t.ref.value:e.value,t)}var B8=(t,e,r,n)=>{const s={};for(const i of t){const o=Q(e,i);o&&Fe(s,i,o._f)}return{criteriaMode:r,names:[...t],fields:s,shouldUseNativeValidation:n}},rf=t=>t instanceof RegExp,_l=t=>ut(t)?t:rf(t)?t.source:ht(t)?rf(t.value)?t.value.source:t.value:t,uw=t=>({isOnSubmit:!t||t===hn.onSubmit,isOnBlur:t===hn.onBlur,isOnChange:t===hn.onChange,isOnAll:t===hn.all,isOnTouch:t===hn.onTouched});const dw="AsyncFunction";var z8=t=>!!t&&!!t.validate&&!!(mn(t.validate)&&t.validate.constructor.name===dw||ht(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===dw)),V8=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),fw=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const Yl=(t,e,r,n)=>{for(const s of r||Object.keys(t)){const i=Q(t,s);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!n)return!0;if(o.ref&&e(o.ref,o.name)&&!n)return!0;if(Yl(l,e))break}else if(ht(l)&&Yl(l,e))break}}};function hw(t,e,r){const n=Q(t,r);if(n||ev(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),o=Q(e,i),l=Q(t,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};s.pop()}return{name:r}}var W8=(t,e,r,n)=>{r(t);const{name:s,...i}=t;return Zt(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!n||hn.all))},q8=(t,e,r)=>!t||!e||t===e||Ql(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),H8=(t,e,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(e||t):(r?n.isOnBlur:s.isOnBlur)?!t:(r?n.isOnChange:s.isOnChange)?t:!0,K8=(t,e)=>!ih(Q(t,e)).length&&wt(t,e),G8=(t,e,r)=>{const n=Ql(Q(t,r));return Fe(n,"root",e[r]),Fe(t,r,n),t},ld=t=>Ln(t);function mw(t,e,r="validate"){if(ld(t)||Array.isArray(t)&&t.every(ld)||Tr(t)&&!t)return{type:r,message:ld(t)?t:"",ref:e}}var Io=t=>ht(t)&&!rf(t)?t:{value:t,message:""},pw=async(t,e,r,n,s,i)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:v,validate:p,name:g,valueAsNumber:b,mount:w}=t._f,m=Q(r,g);if(!w||e.has(g))return{};const x=l?l[0]:o,_=L=>{s&&x.reportValidity&&(x.setCustomValidity(Tr(L)?"":L||""),x.reportValidity())},S={},k=rv(o),j=iu(o),E=k||j,T=(b||tv(o))&&ut(o.value)&&ut(m)||ef(o)&&o.value===""||m===""||Array.isArray(m)&&!m.length,I=TT.bind(null,g,n,S),q=(L,O,V,R=Zn.maxLength,B=Zn.minLength)=>{const $=L?O:V;S[g]={type:L?R:B,message:$,ref:o,...I(L?R:B,$)}};if(i?!Array.isArray(m)||!m.length:c&&(!E&&(T||er(m))||Tr(m)&&!m||j&&!DT(l).isValid||k&&!MT(l).isValid)){const{value:L,message:O}=ld(c)?{value:!!c,message:c}:Io(c);if(L&&(S[g]={type:Zn.required,message:O,ref:x,...I(Zn.required,O)},!n))return _(O),S}if(!T&&(!er(f)||!er(h))){let L,O;const V=Io(h),R=Io(f);if(!er(m)&&!isNaN(m)){const B=o.valueAsNumber||m&&+m;er(V.value)||(L=B>V.value),er(R.value)||(O=B<R.value)}else{const B=o.valueAsDate||new Date(m),$=K=>new Date(new Date().toDateString()+" "+K),P=o.type=="time",M=o.type=="week";Ln(V.value)&&m&&(L=P?$(m)>$(V.value):M?m>V.value:B>new Date(V.value)),Ln(R.value)&&m&&(O=P?$(m)<$(R.value):M?m<R.value:B<new Date(R.value))}if((L||O)&&(q(!!L,V.message,R.message,Zn.max,Zn.min),!n))return _(S[g].message),S}if((u||d)&&!T&&(Ln(m)||i&&Array.isArray(m))){const L=Io(u),O=Io(d),V=!er(L.value)&&m.length>+L.value,R=!er(O.value)&&m.length<+O.value;if((V||R)&&(q(V,L.message,O.message),!n))return _(S[g].message),S}if(v&&!T&&Ln(m)){const{value:L,message:O}=Io(v);if(rf(L)&&!m.match(L)&&(S[g]={type:Zn.pattern,message:O,ref:o,...I(Zn.pattern,O)},!n))return _(O),S}if(p){if(mn(p)){const L=await p(m,r),O=mw(L,x);if(O&&(S[g]={...O,...I(Zn.validate,O.message)},!n))return _(O.message),S}else if(ht(p)){let L={};for(const O in p){if(!Zt(L)&&!n)break;const V=mw(await p[O](m,r),x,O);V&&(L={...V,...I(O,V.message)},_(V.message),n&&(S[g]=L))}if(!Zt(L)&&(S[g]={ref:x,...L},!n))return S}}return _(!0),S};const Q8={mode:hn.onSubmit,reValidateMode:hn.onChange,shouldFocusError:!0};function Y8(t={}){let e={...Q8,...t},r={submitCount:0,isDirty:!1,isLoading:mn(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const n={};let s=ht(e.defaultValues)||ht(e.values)?Tt(e.values||e.defaultValues)||{}:{},i=e.shouldUnregister?{}:Tt(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:iw(),state:iw()},v=uw(e.mode),p=uw(e.reValidateMode),g=e.criteriaMode===hn.all,b=N=>D=>{clearTimeout(u),u=setTimeout(N,D)},w=async N=>{if(!e.disabled&&(d.isValid||f.isValid||N)){const D=e.resolver?Zt((await T()).errors):await q(n,!0);D!==r.isValid&&h.state.next({isValid:D})}},m=(N,D)=>{!e.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((N||Array.from(l.mount)).forEach(F=>{F&&(D?Fe(r.validatingFields,F,D):wt(r.validatingFields,F))}),h.state.next({validatingFields:r.validatingFields,isValidating:!Zt(r.validatingFields)}))},x=(N,D=[],F,X,G=!0,H=!0)=>{if(X&&F&&!e.disabled){if(o.action=!0,H&&Array.isArray(Q(n,N))){const re=F(Q(n,N),X.argA,X.argB);G&&Fe(n,N,re)}if(H&&Array.isArray(Q(r.errors,N))){const re=F(Q(r.errors,N),X.argA,X.argB);G&&Fe(r.errors,N,re),K8(r.errors,N)}if((d.touchedFields||f.touchedFields)&&H&&Array.isArray(Q(r.touchedFields,N))){const re=F(Q(r.touchedFields,N),X.argA,X.argB);G&&Fe(r.touchedFields,N,re)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=bl(s,i)),h.state.next({name:N,isDirty:O(N,D),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Fe(i,N,D)},_=(N,D)=>{Fe(r.errors,N,D),h.state.next({errors:r.errors})},S=N=>{r.errors=N,h.state.next({errors:r.errors,isValid:!1})},k=(N,D,F,X)=>{const G=Q(n,N);if(G){const H=Q(i,N,ut(F)?Q(s,N):F);ut(H)||X&&X.defaultChecked||D?Fe(i,N,D?H:cw(G._f)):B(N,H),o.mount&&w()}},j=(N,D,F,X,G)=>{let H=!1,re=!1;const Re={name:N};if(!e.disabled){if(!F||X){(d.isDirty||f.isDirty)&&(re=r.isDirty,r.isDirty=Re.isDirty=O(),H=re!==Re.isDirty);const mt=Vs(Q(s,N),D);re=!!Q(r.dirtyFields,N),mt?wt(r.dirtyFields,N):Fe(r.dirtyFields,N,!0),Re.dirtyFields=r.dirtyFields,H=H||(d.dirtyFields||f.dirtyFields)&&re!==!mt}if(F){const mt=Q(r.touchedFields,N);mt||(Fe(r.touchedFields,N,F),Re.touchedFields=r.touchedFields,H=H||(d.touchedFields||f.touchedFields)&&mt!==F)}H&&G&&h.state.next(Re)}return H?Re:{}},E=(N,D,F,X)=>{const G=Q(r.errors,N),H=(d.isValid||f.isValid)&&Tr(D)&&r.isValid!==D;if(e.delayError&&F?(c=b(()=>_(N,F)),c(e.delayError)):(clearTimeout(u),c=null,F?Fe(r.errors,N,F):wt(r.errors,N)),(F?!Vs(G,F):G)||!Zt(X)||H){const re={...X,...H&&Tr(D)?{isValid:D}:{},errors:r.errors,name:N};r={...r,...re},h.state.next(re)}},T=async N=>{m(N,!0);const D=await e.resolver(i,e.context,B8(N||l.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return m(N),D},I=async N=>{const{errors:D}=await T(N);if(N)for(const F of N){const X=Q(D,F);X?Fe(r.errors,F,X):wt(r.errors,F)}else r.errors=D;return D},q=async(N,D,F={valid:!0})=>{for(const X in N){const G=N[X];if(G){const{_f:H,...re}=G;if(H){const Re=l.array.has(H.name),mt=G._f&&z8(G._f);mt&&d.validatingFields&&m([X],!0);const Ut=await pw(G,l.disabled,i,g,e.shouldUseNativeValidation&&!D,Re);if(mt&&d.validatingFields&&m([X]),Ut[H.name]&&(F.valid=!1,D))break;!D&&(Q(Ut,H.name)?Re?G8(r.errors,Ut,H.name):Fe(r.errors,H.name,Ut[H.name]):wt(r.errors,H.name))}!Zt(re)&&await q(re,D,F)}}return F.valid},L=()=>{for(const N of l.unMount){const D=Q(n,N);D&&(D._f.refs?D._f.refs.every(F=>!hm(F)):!hm(D._f.ref))&&Le(N)}l.unMount=new Set},O=(N,D)=>!e.disabled&&(N&&D&&Fe(i,N,D),!Vs(ke(),s)),V=(N,D,F)=>PT(N,l,{...o.mount?i:ut(D)?s:Ln(N)?{[N]:D}:D},F,D),R=N=>ih(Q(o.mount?i:s,N,e.shouldUnregister?Q(s,N,[]):[])),B=(N,D,F={})=>{const X=Q(n,N);let G=D;if(X){const H=X._f;H&&(!H.disabled&&Fe(i,N,IT(D,H)),G=ef(H.ref)&&er(D)?"":D,AT(H.ref)?[...H.ref.options].forEach(re=>re.selected=G.includes(re.value)):H.refs?iu(H.ref)?H.refs.length>1?H.refs.forEach(re=>(!re.defaultChecked||!re.disabled)&&(re.checked=Array.isArray(G)?!!G.find(Re=>Re===re.value):G===re.value)):H.refs[0]&&(H.refs[0].checked=!!G):H.refs.forEach(re=>re.checked=re.value===G):tv(H.ref)?H.ref.value="":(H.ref.value=G,H.ref.type||h.state.next({name:N,values:Tt(i)})))}(F.shouldDirty||F.shouldTouch)&&j(N,G,F.shouldTouch,F.shouldDirty,!0),F.shouldValidate&&te(N)},$=(N,D,F)=>{for(const X in D){const G=D[X],H=`${N}.${X}`,re=Q(n,H);(l.array.has(N)||ht(G)||re&&!re._f)&&!Vi(G)?$(H,G,F):B(H,G,F)}},P=(N,D,F={})=>{const X=Q(n,N),G=l.array.has(N),H=Tt(D);Fe(i,N,H),G?(h.array.next({name:N,values:Tt(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&F.shouldDirty&&h.state.next({name:N,dirtyFields:bl(s,i),isDirty:O(N,H)})):X&&!X._f&&!er(H)?$(N,H,F):B(N,H,F),fw(N,l)&&h.state.next({...r}),h.state.next({name:o.mount?N:void 0,values:Tt(i)})},M=async N=>{o.mount=!0;const D=N.target;let F=D.name,X=!0;const G=Q(n,F),H=re=>{X=Number.isNaN(re)||Vi(re)&&isNaN(re.getTime())||Vs(re,Q(i,F,re))};if(G){let re,Re;const mt=D.type?cw(G._f):jT(N),Ut=N.type===Xd.BLUR||N.type===Xd.FOCUS_OUT,yO=!V8(G._f)&&!e.resolver&&!Q(r.errors,F)&&!G._f.deps||H8(Ut,Q(r.touchedFields,F),r.isSubmitted,p,v),fh=fw(F,l,Ut);Fe(i,F,mt),Ut?(G._f.onBlur&&G._f.onBlur(N),c&&c(0)):G._f.onChange&&G._f.onChange(N);const hh=j(F,mt,Ut),vO=!Zt(hh)||fh;if(!Ut&&h.state.next({name:F,type:N.type,values:Tt(i)}),yO)return(d.isValid||f.isValid)&&(e.mode==="onBlur"?Ut&&w():Ut||w()),vO&&h.state.next({name:F,...fh?{}:hh});if(!Ut&&fh&&h.state.next({...r}),e.resolver){const{errors:Nv}=await T([F]);if(H(mt),X){const xO=hw(r.errors,n,F),Cv=hw(Nv,n,xO.name||F);re=Cv.error,F=Cv.name,Re=Zt(Nv)}}else m([F],!0),re=(await pw(G,l.disabled,i,g,e.shouldUseNativeValidation))[F],m([F]),H(mt),X&&(re?Re=!1:(d.isValid||f.isValid)&&(Re=await q(n,!0)));X&&(G._f.deps&&te(G._f.deps),E(F,Re,re,hh))}},K=(N,D)=>{if(Q(r.errors,D)&&N.focus)return N.focus(),1},te=async(N,D={})=>{let F,X;const G=Ql(N);if(e.resolver){const H=await I(ut(N)?N:G);F=Zt(H),X=N?!G.some(re=>Q(H,re)):F}else N?(X=(await Promise.all(G.map(async H=>{const re=Q(n,H);return await q(re&&re._f?{[H]:re}:re)}))).every(Boolean),!(!X&&!r.isValid)&&w()):X=F=await q(n);return h.state.next({...!Ln(N)||(d.isValid||f.isValid)&&F!==r.isValid?{}:{name:N},...e.resolver||!N?{isValid:F}:{},errors:r.errors}),D.shouldFocus&&!X&&Yl(n,K,N?G:l.mount),X},ke=N=>{const D={...o.mount?i:s};return ut(N)?D:Ln(N)?Q(D,N):N.map(F=>Q(D,F))},Pt=(N,D)=>({invalid:!!Q((D||r).errors,N),isDirty:!!Q((D||r).dirtyFields,N),error:Q((D||r).errors,N),isValidating:!!Q(r.validatingFields,N),isTouched:!!Q((D||r).touchedFields,N)}),ot=N=>{N&&Ql(N).forEach(D=>wt(r.errors,D)),h.state.next({errors:N?r.errors:{}})},$t=(N,D,F)=>{const X=(Q(n,N,{_f:{}})._f||{}).ref,G=Q(r.errors,N)||{},{ref:H,message:re,type:Re,...mt}=G;Fe(r.errors,N,{...mt,...D,ref:X}),h.state.next({name:N,errors:r.errors,isValid:!1}),F&&F.shouldFocus&&X&&X.focus&&X.focus()},et=(N,D)=>mn(N)?h.state.subscribe({next:F=>N(V(void 0,D),F)}):V(N,D,!0),ie=N=>h.state.subscribe({next:D=>{q8(N.name,D.name,N.exact)&&W8(D,N.formState||d,jo,N.reRenderRoot)&&N.callback({values:{...i},...r,...D})}}).unsubscribe,Me=N=>(o.mount=!0,f={...f,...N.formState},ie({...N,formState:f})),Le=(N,D={})=>{for(const F of N?Ql(N):l.mount)l.mount.delete(F),l.array.delete(F),D.keepValue||(wt(n,F),wt(i,F)),!D.keepError&&wt(r.errors,F),!D.keepDirty&&wt(r.dirtyFields,F),!D.keepTouched&&wt(r.touchedFields,F),!D.keepIsValidating&&wt(r.validatingFields,F),!e.shouldUnregister&&!D.keepDefaultValue&&wt(s,F);h.state.next({values:Tt(i)}),h.state.next({...r,...D.keepDirty?{isDirty:O()}:{}}),!D.keepIsValid&&w()},Ae=({disabled:N,name:D})=>{(Tr(N)&&o.mount||N||l.disabled.has(D))&&(N?l.disabled.add(D):l.disabled.delete(D))},Oe=(N,D={})=>{let F=Q(n,N);const X=Tr(D.disabled)||Tr(e.disabled);return Fe(n,N,{...F||{},_f:{...F&&F._f?F._f:{ref:{name:N}},name:N,mount:!0,...D}}),l.mount.add(N),F?Ae({disabled:Tr(D.disabled)?D.disabled:e.disabled,name:N}):k(N,!0,D.value),{...X?{disabled:D.disabled||e.disabled}:{},...e.progressive?{required:!!D.required,min:_l(D.min),max:_l(D.max),minLength:_l(D.minLength),maxLength:_l(D.maxLength),pattern:_l(D.pattern)}:{},name:N,onChange:M,onBlur:M,ref:G=>{if(G){Oe(N,D),F=Q(n,N);const H=ut(G.value)&&G.querySelectorAll&&G.querySelectorAll("input,select,textarea")[0]||G,re=F8(H),Re=F._f.refs||[];if(re?Re.find(mt=>mt===H):H===F._f.ref)return;Fe(n,N,{_f:{...F._f,...re?{refs:[...Re.filter(hm),H,...Array.isArray(Q(s,N))?[{}]:[]],ref:{type:H.type,name:N}}:{ref:H}}}),k(N,!1,void 0,H)}else F=Q(n,N,{}),F._f&&(F._f.mount=!1),(e.shouldUnregister||D.shouldUnregister)&&!(kT(l.array,N)&&o.action)&&l.unMount.add(N)}}},De=()=>e.shouldFocusError&&Yl(n,K,l.mount),Qt=N=>{Tr(N)&&(h.state.next({disabled:N}),Yl(n,(D,F)=>{const X=Q(n,F);X&&(D.disabled=X._f.disabled||N,Array.isArray(X._f.refs)&&X._f.refs.forEach(G=>{G.disabled=X._f.disabled||N}))},0,!1))},Nr=(N,D)=>async F=>{let X;F&&(F.preventDefault&&F.preventDefault(),F.persist&&F.persist());let G=Tt(i);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:H,values:re}=await T();r.errors=H,G=re}else await q(n);if(l.disabled.size)for(const H of l.disabled)Fe(G,H,void 0);if(wt(r.errors,"root"),Zt(r.errors)){h.state.next({errors:{}});try{await N(G,F)}catch(H){X=H}}else D&&await D({...r.errors},F),De(),setTimeout(De);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Zt(r.errors)&&!X,submitCount:r.submitCount+1,errors:r.errors}),X)throw X},Ei=(N,D={})=>{Q(n,N)&&(ut(D.defaultValue)?P(N,Tt(Q(s,N))):(P(N,D.defaultValue),Fe(s,N,Tt(D.defaultValue))),D.keepTouched||wt(r.touchedFields,N),D.keepDirty||(wt(r.dirtyFields,N),r.isDirty=D.defaultValue?O(N,Tt(Q(s,N))):O()),D.keepError||(wt(r.errors,N),d.isValid&&w()),h.state.next({...r}))},Cs=(N,D={})=>{const F=N?Tt(N):s,X=Tt(F),G=Zt(N),H=G?s:X;if(D.keepDefaultValues||(s=F),!D.keepValues){if(D.keepDirtyValues){const re=new Set([...l.mount,...Object.keys(bl(s,i))]);for(const Re of Array.from(re))Q(r.dirtyFields,Re)?Fe(H,Re,Q(i,Re)):P(Re,Q(H,Re))}else{if(Xy&&ut(N))for(const re of l.mount){const Re=Q(n,re);if(Re&&Re._f){const mt=Array.isArray(Re._f.refs)?Re._f.refs[0]:Re._f.ref;if(ef(mt)){const Ut=mt.closest("form");if(Ut){Ut.reset();break}}}}for(const re of l.mount)P(re,Q(H,re))}i=Tt(H),h.array.next({values:{...H}}),h.state.next({values:{...H}})}l={mount:D.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!D.keepIsValid||!!D.keepDirtyValues,o.watch=!!e.shouldUnregister,h.state.next({submitCount:D.keepSubmitCount?r.submitCount:0,isDirty:G?!1:D.keepDirty?r.isDirty:!!(D.keepDefaultValues&&!Vs(N,s)),isSubmitted:D.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:G?{}:D.keepDirtyValues?D.keepDefaultValues&&i?bl(s,i):r.dirtyFields:D.keepDefaultValues&&N?bl(s,N):D.keepDirty?r.dirtyFields:{},touchedFields:D.keepTouched?r.touchedFields:{},errors:D.keepErrors?r.errors:{},isSubmitSuccessful:D.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Es=(N,D)=>Cs(mn(N)?N(i):N,D),dh=(N,D={})=>{const F=Q(n,N),X=F&&F._f;if(X){const G=X.refs?X.refs[0]:X.ref;G.focus&&(G.focus(),D.shouldSelect&&mn(G.select)&&G.select())}},jo=N=>{r={...r,...N}},kv={control:{register:Oe,unregister:Le,getFieldState:Pt,handleSubmit:Nr,setError:$t,_subscribe:ie,_runSchema:T,_getWatch:V,_getDirty:O,_setValid:w,_setFieldArray:x,_setDisabledField:Ae,_setErrors:S,_getFieldArray:R,_reset:Cs,_resetDefaultValues:()=>mn(e.defaultValues)&&e.defaultValues().then(N=>{Es(N,e.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:L,_disableForm:Qt,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(N){o=N},get _defaultValues(){return s},get _names(){return l},set _names(N){l=N},get _formState(){return r},get _options(){return e},set _options(N){e={...e,...N}}},subscribe:Me,trigger:te,register:Oe,handleSubmit:Nr,watch:et,setValue:P,getValues:ke,reset:Es,resetField:Ei,clearErrors:ot,unregister:Le,setError:$t,setFocus:dh,getFieldState:Pt};return{...kv,formControl:kv}}function nf(t={}){const e=he.useRef(void 0),r=he.useRef(void 0),[n,s]=he.useState({isDirty:!1,isValidating:!1,isLoading:mn(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:mn(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:Y8(t),formState:n},t.formControl&&t.defaultValues&&!mn(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const i=e.current.control;return i._options=t,he.useLayoutEffect(()=>i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0}),[i]),he.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),he.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),he.useEffect(()=>{t.values&&!Vs(t.values,r.current)?(i._reset(t.values,i._options.resetOptions),r.current=t.values,s(o=>({...o}))):i._resetDefaultValues()},[t.values,i]),he.useEffect(()=>{t.errors&&!Zt(t.errors)&&i._setErrors(t.errors)},[t.errors,i]),he.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),he.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[t.shouldUnregister,i]),e.current.formState=ET(n,i),e.current}const gw=(t,e,r)=>{if(t&&"reportValidity"in t){const n=Q(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},LT=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?gw(n.ref,r,t):n.refs&&n.refs.forEach(s=>gw(s,r,t))}},J8=(t,e)=>{e.shouldUseNativeValidation&&LT(t,e);const r={};for(const n in t){const s=Q(e.fields,n),i=Object.assign(t[n]||{},{ref:s&&s.ref});if(Z8(e.names||Object.keys(t),n)){const o=Object.assign({},Q(r,n));Fe(o,"root",i),Fe(r,n,o)}else Fe(r,n,i)}return r},Z8=(t,e)=>t.some(r=>r.startsWith(e+"."));var X8=function(t,e){for(var r={};t.length;){var n=t[0],s=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return t.push(f)})}),e){var c=r[o].types,u=c&&c[n.code];r[o]=TT(o,e,r,s,u?[].concat(u,n.message):n.message)}t.shift()}return r},sf=function(t,e,r){return r===void 0&&(r={}),function(n,s,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(u){return i.shouldUseNativeValidation&&LT({},i),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:J8(X8(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}};const U=Symbol.for("drizzle:entityKind");function Ot(t,e){if(!t||typeof t!="object")return!1;if(t instanceof e)return!0;if(!Object.prototype.hasOwnProperty.call(e,U))throw new Error(`Class "${e.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let r=Object.getPrototypeOf(t).constructor;if(r)for(;r;){if(U in r&&r[U]===e[U])return!0;r=Object.getPrototypeOf(r)}return!1}var Gw;Gw=U;class Va{constructor(e,r){A(this,"name");A(this,"keyAsName");A(this,"primary");A(this,"notNull");A(this,"default");A(this,"defaultFn");A(this,"onUpdateFn");A(this,"hasDefault");A(this,"isUnique");A(this,"uniqueName");A(this,"uniqueType");A(this,"dataType");A(this,"columnType");A(this,"enumValues");A(this,"generated");A(this,"generatedIdentity");A(this,"config");this.table=e,this.config=r,this.name=r.name,this.keyAsName=r.keyAsName,this.notNull=r.notNull,this.default=r.default,this.defaultFn=r.defaultFn,this.onUpdateFn=r.onUpdateFn,this.hasDefault=r.hasDefault,this.primary=r.primaryKey,this.isUnique=r.isUnique,this.uniqueName=r.uniqueName,this.uniqueType=r.uniqueType,this.dataType=r.dataType,this.columnType=r.columnType,this.generated=r.generated,this.generatedIdentity=r.generatedIdentity}mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}A(Va,Gw,"Column");var Qw;Qw=U;class FT{constructor(e,r,n){A(this,"config");A(this,"$default",this.$defaultFn);A(this,"$onUpdate",this.$onUpdateFn);this.config={name:e,keyAsName:e==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:r,columnType:n,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){this.config.name===""&&(this.config.name=e)}}A(FT,Qw,"ColumnBuilder");const pa=Symbol.for("drizzle:Name");var Yw;Yw=U;class $T{constructor(e,r){A(this,"reference");A(this,"_onUpdate","no action");A(this,"_onDelete","no action");this.reference=()=>{const{name:n,columns:s,foreignColumns:i}=e();return{name:n,columns:s,foreignTable:i[0].table,foreignColumns:i}},r&&(this._onUpdate=r.onUpdate,this._onDelete=r.onDelete)}onUpdate(e){return this._onUpdate=e===void 0?"no action":e,this}onDelete(e){return this._onDelete=e===void 0?"no action":e,this}build(e){return new UT(e,this)}}A($T,Yw,"PgForeignKeyBuilder");var Jw;Jw=U;class UT{constructor(e,r){A(this,"reference");A(this,"onUpdate");A(this,"onDelete");this.table=e,this.reference=r.reference,this.onUpdate=r._onUpdate,this.onDelete=r._onDelete}getName(){const{name:e,columns:r,foreignColumns:n}=this.reference(),s=r.map(l=>l.name),i=n.map(l=>l.name),o=[this.table[pa],...s,n[0].table[pa],...i];return e??`${o.join("_")}_fk`}}A(UT,Jw,"PgForeignKey");function eB(t,...e){return t(...e)}function tB(t,e){return`${t[pa]}_${e.join("_")}_unique`}function yw(t,e,r){for(let n=e;n<t.length;n++){const s=t[n];if(s==="\\"){n++;continue}if(s==='"')return[t.slice(e,n).replace(/\\/g,""),n+1];if(!r&&(s===","||s==="}"))return[t.slice(e,n).replace(/\\/g,""),n]}return[t.slice(e).replace(/\\/g,""),t.length]}function BT(t,e=0){const r=[];let n=e,s=!1;for(;n<t.length;){const i=t[n];if(i===","){(s||n===e)&&r.push(""),s=!0,n++;continue}if(s=!1,i==="\\"){n+=2;continue}if(i==='"'){const[c,u]=yw(t,n+1,!0);r.push(c),n=u;continue}if(i==="}")return[r,n+1];if(i==="{"){const[c,u]=BT(t,n+1);r.push(c),n=u;continue}const[o,l]=yw(t,n,!1);r.push(o),n=l}return[r,n]}function rB(t){const[e]=BT(t,1);return e}function zT(t){return`{${t.map(e=>Array.isArray(e)?zT(e):typeof e=="string"?`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${e}`).join(",")}}`}var Zw,Xw;class Ee extends(Xw=FT,Zw=U,Xw){constructor(){super(...arguments);A(this,"foreignKeyConfigs",[])}array(r){return new WT(this.config.name,this,r)}references(r,n={}){return this.foreignKeyConfigs.push({ref:r,actions:n}),this}unique(r,n){return this.config.isUnique=!0,this.config.uniqueName=r,this.config.uniqueType=n==null?void 0:n.nulls,this}generatedAlwaysAs(r){return this.config.generated={as:r,type:"always",mode:"stored"},this}buildForeignKeys(r,n){return this.foreignKeyConfigs.map(({ref:s,actions:i})=>eB((o,l)=>{const c=new $T(()=>{const u=o();return{columns:[r],foreignColumns:[u]}});return l.onUpdate&&c.onUpdate(l.onUpdate),l.onDelete&&c.onDelete(l.onDelete),c.build(n)},s,i))}buildExtraConfigColumn(r){return new VT(r,this.config)}}A(Ee,Zw,"PgColumnBuilder");var eb,tb;class ve extends(tb=Va,eb=U,tb){constructor(e,r){r.uniqueName||(r.uniqueName=tB(e,[r.name])),super(e,r),this.table=e}}A(ve,eb,"PgColumn");var rb,nb;class VT extends(nb=ve,rb=U,nb){constructor(){super(...arguments);A(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});A(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(r){return this.indexConfig.opClass=r,this}}A(VT,rb,"ExtraConfigColumn");var sb,ib;class WT extends(ib=Ee,sb=U,ib){constructor(e,r,n){super(e,"array","PgArray"),this.config.baseBuilder=r,this.config.size=n}build(e){const r=this.config.baseBuilder.build(e);return new ag(e,this.config,r)}}A(WT,sb,"PgArrayBuilder");var ob,ab;const xf=class xf extends(ab=ve,ob=U,ab){constructor(r,n,s,i){super(r,n);A(this,"size");this.baseColumn=s,this.range=i,this.size=n.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(r){return typeof r=="string"&&(r=rB(r)),r.map(n=>this.baseColumn.mapFromDriverValue(n))}mapToDriverValue(r,n=!1){const s=r.map(i=>i===null?null:Ot(this.baseColumn,xf)?this.baseColumn.mapToDriverValue(i,!0):this.baseColumn.mapToDriverValue(i));return n?s:zT(s)}};A(xf,ob,"PgArray");let ag=xf;const vw=Symbol.for("drizzle:isPgEnum");function nB(t){return!!t&&typeof t=="function"&&vw in t&&t[vw]===!0}var lb;lb=U;class nv{constructor(e,r,n,s=!1){this._={brand:"Subquery",sql:e,selectedFields:r,alias:n,isWith:s}}}A(nv,lb,"Subquery");const sB={startActiveSpan(t,e){return e()}},ga=Symbol.for("drizzle:ViewBaseConfig"),mm=Symbol.for("drizzle:Schema"),xw=Symbol.for("drizzle:Columns"),ww=Symbol.for("drizzle:ExtraConfigColumns"),pm=Symbol.for("drizzle:OriginalName"),gm=Symbol.for("drizzle:BaseName"),of=Symbol.for("drizzle:IsAlias"),bw=Symbol.for("drizzle:ExtraConfigBuilder"),qT=Symbol.for("drizzle:IsDrizzleTable");var cb,ub,db,fb,hb,mb,pb,gb,yb,vb,zu;let Rr=(vb=U,yb=pa,gb=pm,pb=mm,mb=xw,hb=ww,fb=gm,db=of,ub=qT,cb=bw,zu=class{constructor(e,r,n){A(this,yb);A(this,gb);A(this,pb);A(this,mb);A(this,hb);A(this,fb);A(this,db,!1);A(this,ub,!0);A(this,cb);this[pa]=this[pm]=e,this[mm]=r,this[gm]=n}},A(zu,vb,"Table"),A(zu,"Symbol",{Name:pa,Schema:mm,OriginalName:pm,Columns:xw,ExtraConfigColumns:ww,BaseName:gm,IsAlias:of,ExtraConfigBuilder:bw}),zu);function HT(t){return typeof t=="object"&&t!==null&&qT in t}function iB(t){return t!=null&&typeof t.getSQL=="function"}function oB(t){var r;const e={sql:"",params:[]};for(const n of t)e.sql+=n.sql,e.params.push(...n.params),(r=n.typings)!=null&&r.length&&(e.typings||(e.typings=[]),e.typings.push(...n.typings));return e}var xb;xb=U;class Wr{constructor(e){A(this,"value");this.value=Array.isArray(e)?e:[e]}getSQL(){return new jt([this])}}A(Wr,xb,"StringChunk");var wb;wb=U;const Li=class Li{constructor(e){A(this,"decoder",KT);A(this,"shouldInlineParams",!1);this.queryChunks=e}append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return sB.startActiveSpan("drizzle.buildSQL",r=>{const n=this.buildQueryFromSourceParams(this.queryChunks,e);return r==null||r.setAttributes({"drizzle.query.text":n.sql,"drizzle.query.params":JSON.stringify(n.params)}),n})}buildQueryFromSourceParams(e,r){const n=Object.assign({},r,{inlineParams:r.inlineParams||this.shouldInlineParams,paramStartIndex:r.paramStartIndex||{value:0}}),{casing:s,escapeName:i,escapeParam:o,prepareTyping:l,inlineParams:c,paramStartIndex:u}=n;return oB(e.map(d=>{var f;if(Ot(d,Wr))return{sql:d.value.join(""),params:[]};if(Ot(d,af))return{sql:i(d.value),params:[]};if(d===void 0)return{sql:"",params:[]};if(Array.isArray(d)){const h=[new Wr("(")];for(const[v,p]of d.entries())h.push(p),v<d.length-1&&h.push(new Wr(", "));return h.push(new Wr(")")),this.buildQueryFromSourceParams(h,n)}if(Ot(d,Li))return this.buildQueryFromSourceParams(d.queryChunks,{...n,inlineParams:c||d.shouldInlineParams});if(Ot(d,Rr)){const h=d[Rr.Symbol.Schema],v=d[Rr.Symbol.Name];return{sql:h===void 0||d[of]?i(v):i(h)+"."+i(v),params:[]}}if(Ot(d,Va)){const h=s.getColumnCasing(d);if(r.invokeSource==="indexes")return{sql:i(h),params:[]};const v=d.table[Rr.Symbol.Schema];return{sql:d.table[of]||v===void 0?i(d.table[Rr.Symbol.Name])+"."+i(h):i(v)+"."+i(d.table[Rr.Symbol.Name])+"."+i(h),params:[]}}if(Ot(d,YT)){const h=d[ga].schema,v=d[ga].name;return{sql:h===void 0||d[ga].isAlias?i(v):i(h)+"."+i(v),params:[]}}if(Ot(d,sv)){if(Ot(d.value,lf))return{sql:o(u.value++,d),params:[d],typings:["none"]};const h=d.value===null?null:d.encoder.mapToDriverValue(d.value);if(Ot(h,Li))return this.buildQueryFromSourceParams([h],n);if(c)return{sql:this.mapInlineParam(h,n),params:[]};let v=["none"];return l&&(v=[l(d.encoder)]),{sql:o(u.value++,h),params:[h],typings:v}}return Ot(d,lf)?{sql:o(u.value++,d),params:[d],typings:["none"]}:Ot(d,Li.Aliased)&&d.fieldAlias!==void 0?{sql:i(d.fieldAlias),params:[]}:Ot(d,nv)?d._.isWith?{sql:i(d._.alias),params:[]}:this.buildQueryFromSourceParams([new Wr("("),d._.sql,new Wr(") "),new af(d._.alias)],n):nB(d)?d.schema?{sql:i(d.schema)+"."+i(d.enumName),params:[]}:{sql:i(d.enumName),params:[]}:iB(d)?(f=d.shouldOmitSQLParens)!=null&&f.call(d)?this.buildQueryFromSourceParams([d.getSQL()],n):this.buildQueryFromSourceParams([new Wr("("),d.getSQL(),new Wr(")")],n):c?{sql:this.mapInlineParam(d,n),params:[]}:{sql:o(u.value++,d),params:[d],typings:["none"]}}))}mapInlineParam(e,{escapeString:r}){if(e===null)return"null";if(typeof e=="number"||typeof e=="boolean")return e.toString();if(typeof e=="string")return r(e);if(typeof e=="object"){const n=e.toString();return r(n==="[object Object]"?JSON.stringify(e):n)}throw new Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return e===void 0?this:new Li.Aliased(this,e)}mapWith(e){return this.decoder=typeof e=="function"?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}};A(Li,wb,"SQL");let jt=Li;var bb;bb=U;class af{constructor(e){A(this,"brand");this.value=e}getSQL(){return new jt([this])}}A(af,bb,"Name");const KT={mapFromDriverValue:t=>t},GT={mapToDriverValue:t=>t};({...KT,...GT});var _b;_b=U;class sv{constructor(e,r=GT){A(this,"brand");this.value=e,this.encoder=r}getSQL(){return new jt([this])}}A(sv,_b,"Param");function mo(t,...e){const r=[];(e.length>0||t.length>0&&t[0]!=="")&&r.push(new Wr(t[0]));for(const[n,s]of e.entries())r.push(s,new Wr(t[n+1]));return new jt(r)}(t=>{function e(){return new jt([])}t.empty=e;function r(c){return new jt(c)}t.fromList=r;function n(c){return new jt([new Wr(c)])}t.raw=n;function s(c,u){const d=[];for(const[f,h]of c.entries())f>0&&u!==void 0&&d.push(u),d.push(h);return new jt(d)}t.join=s;function i(c){return new af(c)}t.identifier=i;function o(c){return new lf(c)}t.placeholder=o;function l(c,u){return new sv(c,u)}t.param=l})(mo||(mo={}));(t=>{var r;r=U;const n=class n{constructor(i,o){A(this,"isSelectionField",!1);this.sql=i,this.fieldAlias=o}getSQL(){return this.sql}clone(){return new n(this.sql,this.fieldAlias)}};A(n,r,"SQL.Aliased");let e=n;t.Aliased=e})(jt||(jt={}));var Sb;Sb=U;class lf{constructor(e){this.name=e}getSQL(){return new jt([this])}}A(lf,Sb,"Placeholder");const QT=Symbol.for("drizzle:IsDrizzleView");var jb,kb,Nb;Nb=U,kb=ga,jb=QT;class YT{constructor({name:e,schema:r,selectedFields:n,query:s}){A(this,kb);A(this,jb,!0);this[ga]={name:e,originalName:e,schema:r,selectedFields:n,query:s,isExisting:!s,isAlias:!1}}getSQL(){return new jt([this])}}A(YT,Nb,"View");function aB(t){return typeof t=="object"&&t!==null&&QT in t}Va.prototype.getSQL=function(){return new jt([this])};Rr.prototype.getSQL=function(){return new jt([this])};nv.prototype.getSQL=function(){return new jt([this])};function lB(t){return t[Rr.Symbol.Columns]}function cB(t){return t[ga].selectedFields}function Et(t,e){return{name:typeof t=="string"&&t.length>0?t:"",config:typeof t=="object"?t:e}}var Cb,Eb;class ou extends(Eb=Ee,Cb=U,Eb){generatedAlwaysAsIdentity(e){if(e){const{name:r,...n}=e;this.config.generatedIdentity={type:"always",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){const{name:r,...n}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}A(ou,Cb,"PgIntColumnBaseBuilder");var Pb,Tb;class JT extends(Tb=ou,Pb=U,Tb){constructor(e){super(e,"number","PgBigInt53")}build(e){return new ZT(e,this.config)}}A(JT,Pb,"PgBigInt53Builder");var Ab,Ob;class ZT extends(Ob=ve,Ab=U,Ob){getSQLType(){return"bigint"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}A(ZT,Ab,"PgBigInt53");var Rb,Db;class XT extends(Db=ou,Rb=U,Db){constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new e2(e,this.config)}}A(XT,Rb,"PgBigInt64Builder");var Ib,Mb;class e2 extends(Mb=ve,Ib=U,Mb){getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}A(e2,Ib,"PgBigInt64");function uB(t,e){const{name:r,config:n}=Et(t,e);return n.mode==="number"?new JT(r):new XT(r)}var Lb,Fb;class t2 extends(Fb=Ee,Lb=U,Fb){constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new r2(e,this.config)}}A(t2,Lb,"PgBigSerial53Builder");var $b,Ub;class r2 extends(Ub=ve,$b=U,Ub){getSQLType(){return"bigserial"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}A(r2,$b,"PgBigSerial53");var Bb,zb;class n2 extends(zb=Ee,Bb=U,zb){constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new s2(e,this.config)}}A(n2,Bb,"PgBigSerial64Builder");var Vb,Wb;class s2 extends(Wb=ve,Vb=U,Wb){getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}A(s2,Vb,"PgBigSerial64");function dB(t,e){const{name:r,config:n}=Et(t,e);return n.mode==="number"?new t2(r):new n2(r)}var qb,Hb;class i2 extends(Hb=Ee,qb=U,Hb){constructor(e){super(e,"boolean","PgBoolean")}build(e){return new o2(e,this.config)}}A(i2,qb,"PgBooleanBuilder");var Kb,Gb;class o2 extends(Gb=ve,Kb=U,Gb){getSQLType(){return"boolean"}}A(o2,Kb,"PgBoolean");function fB(t){return new i2(t??"")}var Qb,Yb;class a2 extends(Yb=Ee,Qb=U,Yb){constructor(e,r){super(e,"string","PgChar"),this.config.length=r.length,this.config.enumValues=r.enum}build(e){return new l2(e,this.config)}}A(a2,Qb,"PgCharBuilder");var Jb,Zb;class l2 extends(Zb=ve,Jb=U,Zb){constructor(){super(...arguments);A(this,"length",this.config.length);A(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}A(l2,Jb,"PgChar");function hB(t,e={}){const{name:r,config:n}=Et(t,e);return new a2(r,n)}var Xb,e_;class c2 extends(e_=Ee,Xb=U,e_){constructor(e){super(e,"string","PgCidr")}build(e){return new u2(e,this.config)}}A(c2,Xb,"PgCidrBuilder");var t_,r_;class u2 extends(r_=ve,t_=U,r_){getSQLType(){return"cidr"}}A(u2,t_,"PgCidr");function mB(t){return new c2(t??"")}var n_,s_;class d2 extends(s_=Ee,n_=U,s_){constructor(e,r,n){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=r,this.config.customTypeParams=n}build(e){return new f2(e,this.config)}}A(d2,n_,"PgCustomColumnBuilder");var i_,o_;class f2 extends(o_=ve,i_=U,o_){constructor(r,n){super(r,n);A(this,"sqlName");A(this,"mapTo");A(this,"mapFrom");this.sqlName=n.customTypeParams.dataType(n.fieldConfig),this.mapTo=n.customTypeParams.toDriver,this.mapFrom=n.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(r){return typeof this.mapFrom=="function"?this.mapFrom(r):r}mapToDriverValue(r){return typeof this.mapTo=="function"?this.mapTo(r):r}}A(f2,i_,"PgCustomColumn");function pB(t){return(e,r)=>{const{name:n,config:s}=Et(e,r);return new d2(n,s,t)}}var a_,l_;class cl extends(l_=Ee,a_=U,l_){defaultNow(){return this.default(mo`now()`)}}A(cl,a_,"PgDateColumnBaseBuilder");var c_,u_;class h2 extends(u_=cl,c_=U,u_){constructor(e){super(e,"date","PgDate")}build(e){return new m2(e,this.config)}}A(h2,c_,"PgDateBuilder");var d_,f_;class m2 extends(f_=ve,d_=U,f_){getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}}A(m2,d_,"PgDate");var h_,m_;class p2 extends(m_=cl,h_=U,m_){constructor(e){super(e,"string","PgDateString")}build(e){return new g2(e,this.config)}}A(p2,h_,"PgDateStringBuilder");var p_,g_;class g2 extends(g_=ve,p_=U,g_){getSQLType(){return"date"}}A(g2,p_,"PgDateString");function gB(t,e){const{name:r,config:n}=Et(t,e);return(n==null?void 0:n.mode)==="date"?new h2(r):new p2(r)}var y_,v_;class y2 extends(v_=Ee,y_=U,v_){constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new v2(e,this.config)}}A(y2,y_,"PgDoublePrecisionBuilder");var x_,w_;class v2 extends(w_=ve,x_=U,w_){getSQLType(){return"double precision"}mapFromDriverValue(e){return typeof e=="string"?Number.parseFloat(e):e}}A(v2,x_,"PgDoublePrecision");function yB(t){return new y2(t??"")}var b_,__;class x2 extends(__=Ee,b_=U,__){constructor(e){super(e,"string","PgInet")}build(e){return new w2(e,this.config)}}A(x2,b_,"PgInetBuilder");var S_,j_;class w2 extends(j_=ve,S_=U,j_){getSQLType(){return"inet"}}A(w2,S_,"PgInet");function vB(t){return new x2(t??"")}var k_,N_;class b2 extends(N_=ou,k_=U,N_){constructor(e){super(e,"number","PgInteger")}build(e){return new _2(e,this.config)}}A(b2,k_,"PgIntegerBuilder");var C_,E_;class _2 extends(E_=ve,C_=U,E_){getSQLType(){return"integer"}mapFromDriverValue(e){return typeof e=="string"?Number.parseInt(e):e}}A(_2,C_,"PgInteger");function me(t){return new b2(t??"")}var P_,T_;class S2 extends(T_=Ee,P_=U,T_){constructor(e,r){super(e,"string","PgInterval"),this.config.intervalConfig=r}build(e){return new j2(e,this.config)}}A(S2,P_,"PgIntervalBuilder");var A_,O_;class j2 extends(O_=ve,A_=U,O_){constructor(){super(...arguments);A(this,"fields",this.config.intervalConfig.fields);A(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const r=this.fields?` ${this.fields}`:"",n=this.precision?`(${this.precision})`:"";return`interval${r}${n}`}}A(j2,A_,"PgInterval");function xB(t,e={}){const{name:r,config:n}=Et(t,e);return new S2(r,n)}var R_,D_;class k2 extends(D_=Ee,R_=U,D_){constructor(e){super(e,"json","PgJson")}build(e){return new N2(e,this.config)}}A(k2,R_,"PgJsonBuilder");var I_,M_;class N2 extends(M_=ve,I_=U,M_){constructor(e,r){super(e,r)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}A(N2,I_,"PgJson");function wB(t){return new k2(t??"")}var L_,F_;class C2 extends(F_=Ee,L_=U,F_){constructor(e){super(e,"json","PgJsonb")}build(e){return new E2(e,this.config)}}A(C2,L_,"PgJsonbBuilder");var $_,U_;class E2 extends(U_=ve,$_=U,U_){constructor(e,r){super(e,r)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}A(E2,$_,"PgJsonb");function bB(t){return new C2(t??"")}var B_,z_;class P2 extends(z_=Ee,B_=U,z_){constructor(e){super(e,"array","PgLine")}build(e){return new T2(e,this.config)}}A(P2,B_,"PgLineBuilder");var V_,W_;class T2 extends(W_=ve,V_=U,W_){getSQLType(){return"line"}mapFromDriverValue(e){const[r,n,s]=e.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n),Number.parseFloat(s)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}}A(T2,V_,"PgLine");var q_,H_;class A2 extends(H_=Ee,q_=U,H_){constructor(e){super(e,"json","PgLineABC")}build(e){return new O2(e,this.config)}}A(A2,q_,"PgLineABCBuilder");var K_,G_;class O2 extends(G_=ve,K_=U,G_){getSQLType(){return"line"}mapFromDriverValue(e){const[r,n,s]=e.slice(1,-1).split(",");return{a:Number.parseFloat(r),b:Number.parseFloat(n),c:Number.parseFloat(s)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}A(O2,K_,"PgLineABC");function _B(t,e){const{name:r,config:n}=Et(t,e);return!(n!=null&&n.mode)||n.mode==="tuple"?new P2(r):new A2(r)}var Q_,Y_;class R2 extends(Y_=Ee,Q_=U,Y_){constructor(e){super(e,"string","PgMacaddr")}build(e){return new D2(e,this.config)}}A(R2,Q_,"PgMacaddrBuilder");var J_,Z_;class D2 extends(Z_=ve,J_=U,Z_){getSQLType(){return"macaddr"}}A(D2,J_,"PgMacaddr");function SB(t){return new R2(t??"")}var X_,eS;class I2 extends(eS=Ee,X_=U,eS){constructor(e){super(e,"string","PgMacaddr8")}build(e){return new M2(e,this.config)}}A(I2,X_,"PgMacaddr8Builder");var tS,rS;class M2 extends(rS=ve,tS=U,rS){getSQLType(){return"macaddr8"}}A(M2,tS,"PgMacaddr8");function jB(t){return new I2(t??"")}var nS,sS;class L2 extends(sS=Ee,nS=U,sS){constructor(e,r,n){super(e,"string","PgNumeric"),this.config.precision=r,this.config.scale=n}build(e){return new F2(e,this.config)}}A(L2,nS,"PgNumericBuilder");var iS,oS;class F2 extends(oS=ve,iS=U,oS){constructor(r,n){super(r,n);A(this,"precision");A(this,"scale");this.precision=n.precision,this.scale=n.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}A(F2,iS,"PgNumeric");function kB(t,e){const{name:r,config:n}=Et(t,e);return new L2(r,n==null?void 0:n.precision,n==null?void 0:n.scale)}var aS,lS;class $2 extends(lS=Ee,aS=U,lS){constructor(e){super(e,"array","PgPointTuple")}build(e){return new U2(e,this.config)}}A($2,aS,"PgPointTupleBuilder");var cS,uS;class U2 extends(uS=ve,cS=U,uS){getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[r,n]=e.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}}A(U2,cS,"PgPointTuple");var dS,fS;class B2 extends(fS=Ee,dS=U,fS){constructor(e){super(e,"json","PgPointObject")}build(e){return new z2(e,this.config)}}A(B2,dS,"PgPointObjectBuilder");var hS,mS;class z2 extends(mS=ve,hS=U,mS){getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[r,n]=e.slice(1,-1).split(",");return{x:Number.parseFloat(r),y:Number.parseFloat(n)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}A(z2,hS,"PgPointObject");function NB(t,e){const{name:r,config:n}=Et(t,e);return!(n!=null&&n.mode)||n.mode==="tuple"?new $2(r):new B2(r)}function CB(t){const e=[];for(let r=0;r<t.length;r+=2)e.push(Number.parseInt(t.slice(r,r+2),16));return new Uint8Array(e)}function _w(t,e){const r=new ArrayBuffer(8),n=new DataView(r);for(let s=0;s<8;s++)n.setUint8(s,t[e+s]);return n.getFloat64(0,!0)}function V2(t){const e=CB(t);let r=0;const n=e[r];r+=1;const s=new DataView(e.buffer),i=s.getUint32(r,n===1);if(r+=4,i&536870912&&(s.getUint32(r,n===1),r+=4),(i&65535)===1){const o=_w(e,r);r+=8;const l=_w(e,r);return r+=8,[o,l]}throw new Error("Unsupported geometry type")}var pS,gS;class W2 extends(gS=Ee,pS=U,gS){constructor(e){super(e,"array","PgGeometry")}build(e){return new q2(e,this.config)}}A(W2,pS,"PgGeometryBuilder");var yS,vS;class q2 extends(vS=ve,yS=U,vS){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return V2(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}}A(q2,yS,"PgGeometry");var xS,wS;class H2 extends(wS=Ee,xS=U,wS){constructor(e){super(e,"json","PgGeometryObject")}build(e){return new K2(e,this.config)}}A(H2,xS,"PgGeometryObjectBuilder");var bS,_S;class K2 extends(_S=ve,bS=U,_S){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){const r=V2(e);return{x:r[0],y:r[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}A(K2,bS,"PgGeometryObject");function EB(t,e){const{name:r,config:n}=Et(t,e);return!(n!=null&&n.mode)||n.mode==="tuple"?new W2(r):new H2(r)}var SS,jS;class G2 extends(jS=Ee,SS=U,jS){constructor(e,r){super(e,"number","PgReal"),this.config.length=r}build(e){return new Q2(e,this.config)}}A(G2,SS,"PgRealBuilder");var kS,NS;class Q2 extends(NS=ve,kS=U,NS){constructor(r,n){super(r,n);A(this,"mapFromDriverValue",r=>typeof r=="string"?Number.parseFloat(r):r)}getSQLType(){return"real"}}A(Q2,kS,"PgReal");function PB(t){return new G2(t??"")}var CS,ES;class Y2 extends(ES=Ee,CS=U,ES){constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new J2(e,this.config)}}A(Y2,CS,"PgSerialBuilder");var PS,TS;class J2 extends(TS=ve,PS=U,TS){getSQLType(){return"serial"}}A(J2,PS,"PgSerial");function en(t){return new Y2(t??"")}var AS,OS;class Z2 extends(OS=ou,AS=U,OS){constructor(e){super(e,"number","PgSmallInt")}build(e){return new X2(e,this.config)}}A(Z2,AS,"PgSmallIntBuilder");var RS,DS;class X2 extends(DS=ve,RS=U,DS){constructor(){super(...arguments);A(this,"mapFromDriverValue",r=>typeof r=="string"?Number(r):r)}getSQLType(){return"smallint"}}A(X2,RS,"PgSmallInt");function TB(t){return new Z2(t??"")}var IS,MS;class eA extends(MS=Ee,IS=U,MS){constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new tA(e,this.config)}}A(eA,IS,"PgSmallSerialBuilder");var LS,FS;class tA extends(FS=ve,LS=U,FS){getSQLType(){return"smallserial"}}A(tA,LS,"PgSmallSerial");function AB(t){return new eA(t??"")}var $S,US;class rA extends(US=Ee,$S=U,US){constructor(e,r){super(e,"string","PgText"),this.config.enumValues=r.enum}build(e){return new nA(e,this.config)}}A(rA,$S,"PgTextBuilder");var BS,zS;class nA extends(zS=ve,BS=U,zS){constructor(){super(...arguments);A(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}A(nA,BS,"PgText");function oe(t,e={}){const{name:r,config:n}=Et(t,e);return new rA(r,n)}var VS,WS;class sA extends(WS=cl,VS=U,WS){constructor(e,r,n){super(e,"string","PgTime"),this.withTimezone=r,this.precision=n,this.config.withTimezone=r,this.config.precision=n}build(e){return new iA(e,this.config)}}A(sA,VS,"PgTimeBuilder");var qS,HS;class iA extends(HS=ve,qS=U,HS){constructor(r,n){super(r,n);A(this,"withTimezone");A(this,"precision");this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}A(iA,qS,"PgTime");function OB(t,e={}){const{name:r,config:n}=Et(t,e);return new sA(r,n.withTimezone??!1,n.precision)}var KS,GS;class oA extends(GS=cl,KS=U,GS){constructor(e,r,n){super(e,"date","PgTimestamp"),this.config.withTimezone=r,this.config.precision=n}build(e){return new aA(e,this.config)}}A(oA,KS,"PgTimestampBuilder");var QS,YS;class aA extends(YS=ve,QS=U,YS){constructor(r,n){super(r,n);A(this,"withTimezone");A(this,"precision");A(this,"mapFromDriverValue",r=>new Date(this.withTimezone?r:r+"+0000"));A(this,"mapToDriverValue",r=>r.toISOString());this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}A(aA,QS,"PgTimestamp");var JS,ZS;class lA extends(ZS=cl,JS=U,ZS){constructor(e,r,n){super(e,"string","PgTimestampString"),this.config.withTimezone=r,this.config.precision=n}build(e){return new cA(e,this.config)}}A(lA,JS,"PgTimestampStringBuilder");var XS,ej;class cA extends(ej=ve,XS=U,ej){constructor(r,n){super(r,n);A(this,"withTimezone");A(this,"precision");this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}A(cA,XS,"PgTimestampString");function Je(t,e={}){const{name:r,config:n}=Et(t,e);return(n==null?void 0:n.mode)==="string"?new lA(r,n.withTimezone??!1,n.precision):new oA(r,(n==null?void 0:n.withTimezone)??!1,n==null?void 0:n.precision)}var tj,rj;class uA extends(rj=Ee,tj=U,rj){constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(mo`gen_random_uuid()`)}build(e){return new dA(e,this.config)}}A(uA,tj,"PgUUIDBuilder");var nj,sj;class dA extends(sj=ve,nj=U,sj){getSQLType(){return"uuid"}}A(dA,nj,"PgUUID");function RB(t){return new uA(t??"")}var ij,oj;class fA extends(oj=Ee,ij=U,oj){constructor(e,r){super(e,"string","PgVarchar"),this.config.length=r.length,this.config.enumValues=r.enum}build(e){return new hA(e,this.config)}}A(fA,ij,"PgVarcharBuilder");var aj,lj;class hA extends(lj=ve,aj=U,lj){constructor(){super(...arguments);A(this,"length",this.config.length);A(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}A(hA,aj,"PgVarchar");function ws(t,e={}){const{name:r,config:n}=Et(t,e);return new fA(r,n)}var cj,uj;class mA extends(uj=Ee,cj=U,uj){constructor(e,r){super(e,"string","PgBinaryVector"),this.config.dimensions=r.dimensions}build(e){return new pA(e,this.config)}}A(mA,cj,"PgBinaryVectorBuilder");var dj,fj;class pA extends(fj=ve,dj=U,fj){constructor(){super(...arguments);A(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}A(pA,dj,"PgBinaryVector");function DB(t,e){const{name:r,config:n}=Et(t,e);return new mA(r,n)}var hj,mj;class gA extends(mj=Ee,hj=U,mj){constructor(e,r){super(e,"array","PgHalfVector"),this.config.dimensions=r.dimensions}build(e){return new yA(e,this.config)}}A(gA,hj,"PgHalfVectorBuilder");var pj,gj;class yA extends(gj=ve,pj=U,gj){constructor(){super(...arguments);A(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){return r.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}A(yA,pj,"PgHalfVector");function IB(t,e){const{name:r,config:n}=Et(t,e);return new gA(r,n)}var yj,vj;class vA extends(vj=Ee,yj=U,vj){constructor(e,r){super(e,"string","PgSparseVector"),this.config.dimensions=r.dimensions}build(e){return new xA(e,this.config)}}A(vA,yj,"PgSparseVectorBuilder");var xj,wj;class xA extends(wj=ve,xj=U,wj){constructor(){super(...arguments);A(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}A(xA,xj,"PgSparseVector");function MB(t,e){const{name:r,config:n}=Et(t,e);return new vA(r,n)}var bj,_j;class wA extends(_j=Ee,bj=U,_j){constructor(e,r){super(e,"array","PgVector"),this.config.dimensions=r.dimensions}build(e){return new bA(e,this.config)}}A(wA,bj,"PgVectorBuilder");var Sj,jj;class bA extends(jj=ve,Sj=U,jj){constructor(){super(...arguments);A(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){return r.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}A(bA,Sj,"PgVector");function LB(t,e){const{name:r,config:n}=Et(t,e);return new wA(r,n)}function FB(){return{bigint:uB,bigserial:dB,boolean:fB,char:hB,cidr:mB,customType:pB,date:gB,doublePrecision:yB,inet:vB,integer:me,interval:xB,json:wB,jsonb:bB,line:_B,macaddr:SB,macaddr8:jB,numeric:kB,point:NB,geometry:EB,real:PB,serial:en,smallint:TB,smallserial:AB,text:oe,time:OB,timestamp:Je,uuid:RB,varchar:ws,bit:DB,halfvec:IB,sparsevec:MB,vector:LB}}const lg=Symbol.for("drizzle:PgInlineForeignKeys"),Sw=Symbol.for("drizzle:EnableRLS");var kj,Nj,Cj,Ej,Pj;class cf extends(Pj=Rr,Ej=U,Cj=lg,Nj=Sw,kj=Rr.Symbol.ExtraConfigBuilder,Pj){constructor(){super(...arguments);A(this,Cj,[]);A(this,Nj,!1);A(this,kj)}}A(cf,Ej,"PgTable"),A(cf,"Symbol",Object.assign({},Rr.Symbol,{InlineForeignKeys:lg,EnableRLS:Sw}));function $B(t,e,r,n,s=t){const i=new cf(t,n,s),o=typeof e=="function"?e(FB()):e,l=Object.fromEntries(Object.entries(o).map(([d,f])=>{const h=f;h.setName(d);const v=h.build(i);return i[lg].push(...h.buildForeignKeys(v,i)),[d,v]})),c=Object.fromEntries(Object.entries(o).map(([d,f])=>{const h=f;h.setName(d);const v=h.buildExtraConfigColumn(i);return[d,v]})),u=Object.assign(i,l);return u[Rr.Symbol.Columns]=l,u[Rr.Symbol.ExtraConfigColumns]=c,Object.assign(u,{enableRLS:()=>(u[cf.Symbol.EnableRLS]=!0,u)})}const Kt=(t,e,r)=>$B(t,e,r,void 0);var Ce;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function r(s){throw new Error}t.assertNever=r,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of i)o[l]=s[l];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=n,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Ce||(Ce={}));var cg;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(cg||(cg={}));const Z=Ce.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),is=t=>{switch(typeof t){case"undefined":return Z.undefined;case"string":return Z.string;case"number":return Number.isNaN(t)?Z.nan:Z.number;case"boolean":return Z.boolean;case"function":return Z.function;case"bigint":return Z.bigint;case"symbol":return Z.symbol;case"object":return Array.isArray(t)?Z.array:t===null?Z.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Z.promise:typeof Map<"u"&&t instanceof Map?Z.map:typeof Set<"u"&&t instanceof Set?Z.set:typeof Date<"u"&&t instanceof Date?Z.date:Z.object;default:return Z.unknown}},z=Ce.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),UB=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Lr extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(i){return i.message},n={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),n}static assert(e){if(!(e instanceof Lr))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ce.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];r[i]=r[i]||[],r[i].push(e(s))}else n.push(e(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Lr.create=t=>new Lr(t);const Wa=(t,e)=>{let r;switch(t.code){case z.invalid_type:t.received===Z.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case z.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Ce.jsonStringifyReplacer)}`;break;case z.unrecognized_keys:r=`Unrecognized key(s) in object: ${Ce.joinValues(t.keys,", ")}`;break;case z.invalid_union:r="Invalid input";break;case z.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Ce.joinValues(t.options)}`;break;case z.invalid_enum_value:r=`Invalid enum value. Expected ${Ce.joinValues(t.options)}, received '${t.received}'`;break;case z.invalid_arguments:r="Invalid function arguments";break;case z.invalid_return_type:r="Invalid function return type";break;case z.invalid_date:r="Invalid date";break;case z.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Ce.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case z.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case z.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case z.custom:r="Invalid input";break;case z.invalid_intersection_types:r="Intersection results could not be merged";break;case z.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case z.not_finite:r="Number must be finite";break;default:r=e.defaultError,Ce.assertNever(t)}return{message:r}};let _A=Wa;function BB(t){_A=t}function uf(){return _A}const df=t=>{const{data:e,path:r,errorMaps:n,issueData:s}=t,i=[...r,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:e,defaultError:l}).message;return{...s,path:i,message:l}},zB=[];function Y(t,e){const r=uf(),n=df({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===Wa?void 0:Wa].filter(s=>!!s)});t.common.issues.push(n)}class Ht{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const s of r){if(s.status==="aborted")return ce;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const s of r){const i=await s.key,o=await s.value;n.push({key:i,value:o})}return Ht.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const s of r){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return ce;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[i.value]=o.value)}return{status:e.value,value:n}}}const ce=Object.freeze({status:"aborted"}),ra=t=>({status:"dirty",value:t}),cr=t=>({status:"valid",value:t}),ug=t=>t.status==="aborted",dg=t=>t.status==="dirty",po=t=>t.status==="valid",kc=t=>typeof Promise<"u"&&t instanceof Promise;var se;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(se||(se={}));class qn{constructor(e,r,n,s){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const jw=(t,e)=>{if(po(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Lr(t.common.issues);return this._error=r,this._error}}};function ye(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:s}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,l)=>{const{message:c}=t;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:s}}class be{get description(){return this._def.description}_getType(e){return is(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:is(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ht,ctx:{common:e.parent.common,data:e.data,parsedType:is(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(kc(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:is(e)},s=this._parseSync({data:e,path:n.path,parent:n});return jw(n,s)}"~validate"(e){var n,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:is(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:r});return po(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(s=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(i=>po(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:is(e)},s=this._parse({data:e,path:n.path,parent:n}),i=await(kc(s)?s:Promise.resolve(s));return jw(n,i)}refine(e,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const o=e(s),l=()=>i.addIssue({code:z.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,r){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(e){return new _n({schema:this,typeName:de.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Vn.create(this,this._def)}nullable(){return wi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return vn.create(this)}promise(){return Ha.create(this,this._def)}or(e){return Pc.create([this,e],this._def)}and(e){return Tc.create(this,e,this._def)}transform(e){return new _n({...ye(this._def),schema:this,typeName:de.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new Ic({...ye(this._def),innerType:this,defaultValue:r,typeName:de.ZodDefault})}brand(){return new iv({typeName:de.ZodBranded,type:this,...ye(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new Mc({...ye(this._def),innerType:this,catchValue:r,typeName:de.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return au.create(this,e)}readonly(){return Lc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const VB=/^c[^\s-]{8,}$/i,WB=/^[0-9a-z]+$/,qB=/^[0-9A-HJKMNP-TV-Z]{26}$/i,HB=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,KB=/^[a-z0-9_-]{21}$/i,GB=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,QB=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,YB=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,JB="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let ym;const ZB=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,XB=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ez=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,tz=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,rz=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,nz=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,SA="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",sz=new RegExp(`^${SA}$`);function jA(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function iz(t){return new RegExp(`^${jA(t)}$`)}function kA(t){let e=`${SA}T${jA(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function oz(t,e){return!!((e==="v4"||!e)&&ZB.test(t)||(e==="v6"||!e)&&ez.test(t))}function az(t,e){if(!GB.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function lz(t,e){return!!((e==="v4"||!e)&&XB.test(t)||(e==="v6"||!e)&&tz.test(t))}class pn extends be{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Z.string){const i=this._getOrReturnCtx(e);return Y(i,{code:z.invalid_type,expected:Z.string,received:i.parsedType}),ce}const n=new Ht;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),Y(s,{code:z.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),Y(s,{code:z.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,l=e.data.length<i.value;(o||l)&&(s=this._getOrReturnCtx(e,s),o?Y(s,{code:z.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&Y(s,{code:z.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")YB.test(e.data)||(s=this._getOrReturnCtx(e,s),Y(s,{validation:"email",code:z.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")ym||(ym=new RegExp(JB,"u")),ym.test(e.data)||(s=this._getOrReturnCtx(e,s),Y(s,{validation:"emoji",code:z.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")HB.test(e.data)||(s=this._getOrReturnCtx(e,s),Y(s,{validation:"uuid",code:z.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")KB.test(e.data)||(s=this._getOrReturnCtx(e,s),Y(s,{validation:"nanoid",code:z.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")VB.test(e.data)||(s=this._getOrReturnCtx(e,s),Y(s,{validation:"cuid",code:z.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")WB.test(e.data)||(s=this._getOrReturnCtx(e,s),Y(s,{validation:"cuid2",code:z.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")qB.test(e.data)||(s=this._getOrReturnCtx(e,s),Y(s,{validation:"ulid",code:z.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),Y(s,{validation:"url",code:z.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),Y(s,{validation:"regex",code:z.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),Y(s,{code:z.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),Y(s,{code:z.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),Y(s,{code:z.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?kA(i).test(e.data)||(s=this._getOrReturnCtx(e,s),Y(s,{code:z.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?sz.test(e.data)||(s=this._getOrReturnCtx(e,s),Y(s,{code:z.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?iz(i).test(e.data)||(s=this._getOrReturnCtx(e,s),Y(s,{code:z.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?QB.test(e.data)||(s=this._getOrReturnCtx(e,s),Y(s,{validation:"duration",code:z.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?oz(e.data,i.version)||(s=this._getOrReturnCtx(e,s),Y(s,{validation:"ip",code:z.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?az(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),Y(s,{validation:"jwt",code:z.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?lz(e.data,i.version)||(s=this._getOrReturnCtx(e,s),Y(s,{validation:"cidr",code:z.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?rz.test(e.data)||(s=this._getOrReturnCtx(e,s),Y(s,{validation:"base64",code:z.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?nz.test(e.data)||(s=this._getOrReturnCtx(e,s),Y(s,{validation:"base64url",code:z.invalid_string,message:i.message}),n.dirty()):Ce.assertNever(i);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(s=>e.test(s),{validation:r,code:z.invalid_string,...se.errToObj(n)})}_addCheck(e){return new pn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...se.errToObj(e)})}url(e){return this._addCheck({kind:"url",...se.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...se.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...se.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...se.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...se.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...se.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...se.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...se.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...se.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...se.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...se.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...se.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...se.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...se.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...se.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...se.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...se.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...se.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...se.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...se.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...se.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...se.errToObj(r)})}nonempty(e){return this.min(1,se.errToObj(e))}trim(){return new pn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new pn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new pn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}pn.create=t=>new pn({checks:[],typeName:de.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...ye(t)});function cz(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=r>n?r:n,i=Number.parseInt(t.toFixed(s).replace(".","")),o=Number.parseInt(e.toFixed(s).replace(".",""));return i%o/10**s}class yi extends be{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Z.number){const i=this._getOrReturnCtx(e);return Y(i,{code:z.invalid_type,expected:Z.number,received:i.parsedType}),ce}let n;const s=new Ht;for(const i of this._def.checks)i.kind==="int"?Ce.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),Y(n,{code:z.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),Y(n,{code:z.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),Y(n,{code:z.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?cz(e.data,i.value)!==0&&(n=this._getOrReturnCtx(e,n),Y(n,{code:z.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),Y(n,{code:z.not_finite,message:i.message}),s.dirty()):Ce.assertNever(i);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,se.toString(r))}gt(e,r){return this.setLimit("min",e,!1,se.toString(r))}lte(e,r){return this.setLimit("max",e,!0,se.toString(r))}lt(e,r){return this.setLimit("max",e,!1,se.toString(r))}setLimit(e,r,n,s){return new yi({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:se.toString(s)}]})}_addCheck(e){return new yi({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:se.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:se.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:se.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:se.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:se.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:se.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:se.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:se.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:se.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ce.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}yi.create=t=>new yi({checks:[],typeName:de.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...ye(t)});class vi extends be{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Z.bigint)return this._getInvalidInput(e);let n;const s=new Ht;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),Y(n,{code:z.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),Y(n,{code:z.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),Y(n,{code:z.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Ce.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return Y(r,{code:z.invalid_type,expected:Z.bigint,received:r.parsedType}),ce}gte(e,r){return this.setLimit("min",e,!0,se.toString(r))}gt(e,r){return this.setLimit("min",e,!1,se.toString(r))}lte(e,r){return this.setLimit("max",e,!0,se.toString(r))}lt(e,r){return this.setLimit("max",e,!1,se.toString(r))}setLimit(e,r,n,s){return new vi({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:se.toString(s)}]})}_addCheck(e){return new vi({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:se.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:se.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:se.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:se.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:se.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}vi.create=t=>new vi({checks:[],typeName:de.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...ye(t)});class Nc extends be{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Z.boolean){const n=this._getOrReturnCtx(e);return Y(n,{code:z.invalid_type,expected:Z.boolean,received:n.parsedType}),ce}return cr(e.data)}}Nc.create=t=>new Nc({typeName:de.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...ye(t)});class go extends be{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Z.date){const i=this._getOrReturnCtx(e);return Y(i,{code:z.invalid_type,expected:Z.date,received:i.parsedType}),ce}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return Y(i,{code:z.invalid_date}),ce}const n=new Ht;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),Y(s,{code:z.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),Y(s,{code:z.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Ce.assertNever(i);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new go({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:se.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:se.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}go.create=t=>new go({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:de.ZodDate,...ye(t)});class ff extends be{_parse(e){if(this._getType(e)!==Z.symbol){const n=this._getOrReturnCtx(e);return Y(n,{code:z.invalid_type,expected:Z.symbol,received:n.parsedType}),ce}return cr(e.data)}}ff.create=t=>new ff({typeName:de.ZodSymbol,...ye(t)});class Cc extends be{_parse(e){if(this._getType(e)!==Z.undefined){const n=this._getOrReturnCtx(e);return Y(n,{code:z.invalid_type,expected:Z.undefined,received:n.parsedType}),ce}return cr(e.data)}}Cc.create=t=>new Cc({typeName:de.ZodUndefined,...ye(t)});class Ec extends be{_parse(e){if(this._getType(e)!==Z.null){const n=this._getOrReturnCtx(e);return Y(n,{code:z.invalid_type,expected:Z.null,received:n.parsedType}),ce}return cr(e.data)}}Ec.create=t=>new Ec({typeName:de.ZodNull,...ye(t)});class qa extends be{constructor(){super(...arguments),this._any=!0}_parse(e){return cr(e.data)}}qa.create=t=>new qa({typeName:de.ZodAny,...ye(t)});class to extends be{constructor(){super(...arguments),this._unknown=!0}_parse(e){return cr(e.data)}}to.create=t=>new to({typeName:de.ZodUnknown,...ye(t)});class bs extends be{_parse(e){const r=this._getOrReturnCtx(e);return Y(r,{code:z.invalid_type,expected:Z.never,received:r.parsedType}),ce}}bs.create=t=>new bs({typeName:de.ZodNever,...ye(t)});class hf extends be{_parse(e){if(this._getType(e)!==Z.undefined){const n=this._getOrReturnCtx(e);return Y(n,{code:z.invalid_type,expected:Z.void,received:n.parsedType}),ce}return cr(e.data)}}hf.create=t=>new hf({typeName:de.ZodVoid,...ye(t)});class vn extends be{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),s=this._def;if(r.parsedType!==Z.array)return Y(r,{code:z.invalid_type,expected:Z.array,received:r.parsedType}),ce;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(o||l)&&(Y(r,{code:o?z.too_big:z.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(Y(r,{code:z.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(Y(r,{code:z.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>s.type._parseAsync(new qn(r,o,r.path,l)))).then(o=>Ht.mergeArray(n,o));const i=[...r.data].map((o,l)=>s.type._parseSync(new qn(r,o,r.path,l)));return Ht.mergeArray(n,i)}get element(){return this._def.type}min(e,r){return new vn({...this._def,minLength:{value:e,message:se.toString(r)}})}max(e,r){return new vn({...this._def,maxLength:{value:e,message:se.toString(r)}})}length(e,r){return new vn({...this._def,exactLength:{value:e,message:se.toString(r)}})}nonempty(e){return this.min(1,e)}}vn.create=(t,e)=>new vn({type:t,minLength:null,maxLength:null,exactLength:null,typeName:de.ZodArray,...ye(e)});function $o(t){if(t instanceof rt){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=Vn.create($o(n))}return new rt({...t._def,shape:()=>e})}else return t instanceof vn?new vn({...t._def,type:$o(t.element)}):t instanceof Vn?Vn.create($o(t.unwrap())):t instanceof wi?wi.create($o(t.unwrap())):t instanceof Hn?Hn.create(t.items.map(e=>$o(e))):t}class rt extends be{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=Ce.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==Z.object){const u=this._getOrReturnCtx(e);return Y(u,{code:z.invalid_type,expected:Z.object,received:u.parsedType}),ce}const{status:n,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof bs&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=i[u],f=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new qn(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof bs){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")l.length>0&&(Y(s,{code:z.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new qn(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>Ht.mergeObjectSync(n,u)):Ht.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return se.errToObj,new rt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var i,o;const s=((o=(i=this._def).errorMap)==null?void 0:o.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:se.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new rt({...this._def,unknownKeys:"strip"})}passthrough(){return new rt({...this._def,unknownKeys:"passthrough"})}extend(e){return new rt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new rt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:de.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new rt({...this._def,catchall:e})}pick(e){const r={};for(const n of Ce.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new rt({...this._def,shape:()=>r})}omit(e){const r={};for(const n of Ce.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new rt({...this._def,shape:()=>r})}deepPartial(){return $o(this)}partial(e){const r={};for(const n of Ce.objectKeys(this.shape)){const s=this.shape[n];e&&!e[n]?r[n]=s:r[n]=s.optional()}return new rt({...this._def,shape:()=>r})}required(e){const r={};for(const n of Ce.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Vn;)i=i._def.innerType;r[n]=i}return new rt({...this._def,shape:()=>r})}keyof(){return NA(Ce.objectKeys(this.shape))}}rt.create=(t,e)=>new rt({shape:()=>t,unknownKeys:"strip",catchall:bs.create(),typeName:de.ZodObject,...ye(e)});rt.strictCreate=(t,e)=>new rt({shape:()=>t,unknownKeys:"strict",catchall:bs.create(),typeName:de.ZodObject,...ye(e)});rt.lazycreate=(t,e)=>new rt({shape:t,unknownKeys:"strip",catchall:bs.create(),typeName:de.ZodObject,...ye(e)});class Pc extends be{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new Lr(l.ctx.common.issues));return Y(r,{code:z.invalid_union,unionErrors:o}),ce}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new Lr(c));return Y(r,{code:z.invalid_union,unionErrors:l}),ce}}get options(){return this._def.options}}Pc.create=(t,e)=>new Pc({options:t,typeName:de.ZodUnion,...ye(e)});const ts=t=>t instanceof Oc?ts(t.schema):t instanceof _n?ts(t.innerType()):t instanceof Rc?[t.value]:t instanceof xi?t.options:t instanceof Dc?Ce.objectValues(t.enum):t instanceof Ic?ts(t._def.innerType):t instanceof Cc?[void 0]:t instanceof Ec?[null]:t instanceof Vn?[void 0,...ts(t.unwrap())]:t instanceof wi?[null,...ts(t.unwrap())]:t instanceof iv||t instanceof Lc?ts(t.unwrap()):t instanceof Mc?ts(t._def.innerType):[];class ah extends be{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Z.object)return Y(r,{code:z.invalid_type,expected:Z.object,received:r.parsedType}),ce;const n=this.discriminator,s=r.data[n],i=this.optionsMap.get(s);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(Y(r,{code:z.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),ce)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const s=new Map;for(const i of r){const o=ts(i.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const l of o){if(s.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);s.set(l,i)}}return new ah({typeName:de.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:s,...ye(n)})}}function fg(t,e){const r=is(t),n=is(e);if(t===e)return{valid:!0,data:t};if(r===Z.object&&n===Z.object){const s=Ce.objectKeys(e),i=Ce.objectKeys(t).filter(l=>s.indexOf(l)!==-1),o={...t,...e};for(const l of i){const c=fg(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===Z.array&&n===Z.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],l=e[i],c=fg(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===Z.date&&n===Z.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Tc extends be{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=(i,o)=>{if(ug(i)||ug(o))return ce;const l=fg(i.value,o.value);return l.valid?((dg(i)||dg(o))&&r.dirty(),{status:r.value,value:l.data}):(Y(n,{code:z.invalid_intersection_types}),ce)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Tc.create=(t,e,r)=>new Tc({left:t,right:e,typeName:de.ZodIntersection,...ye(r)});class Hn extends be{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Z.array)return Y(n,{code:z.invalid_type,expected:Z.array,received:n.parsedType}),ce;if(n.data.length<this._def.items.length)return Y(n,{code:z.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ce;!this._def.rest&&n.data.length>this._def.items.length&&(Y(n,{code:z.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new qn(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>Ht.mergeArray(r,o)):Ht.mergeArray(r,i)}get items(){return this._def.items}rest(e){return new Hn({...this._def,rest:e})}}Hn.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Hn({items:t,typeName:de.ZodTuple,rest:null,...ye(e)})};class Ac extends be{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Z.object)return Y(n,{code:z.invalid_type,expected:Z.object,received:n.parsedType}),ce;const s=[],i=this._def.keyType,o=this._def.valueType;for(const l in n.data)s.push({key:i._parse(new qn(n,l,n.path,l)),value:o._parse(new qn(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?Ht.mergeObjectAsync(r,s):Ht.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof be?new Ac({keyType:e,valueType:r,typeName:de.ZodRecord,...ye(n)}):new Ac({keyType:pn.create(),valueType:e,typeName:de.ZodRecord,...ye(r)})}}class mf extends be{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Z.map)return Y(n,{code:z.invalid_type,expected:Z.map,received:n.parsedType}),ce;const s=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:s._parse(new qn(n,l,n.path,[u,"key"])),value:i._parse(new qn(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return ce;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return ce;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}mf.create=(t,e,r)=>new mf({valueType:e,keyType:t,typeName:de.ZodMap,...ye(r)});class yo extends be{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Z.set)return Y(n,{code:z.invalid_type,expected:Z.set,received:n.parsedType}),ce;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(Y(n,{code:z.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(Y(n,{code:z.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return ce;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>i._parse(new qn(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,r){return new yo({...this._def,minSize:{value:e,message:se.toString(r)}})}max(e,r){return new yo({...this._def,maxSize:{value:e,message:se.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}yo.create=(t,e)=>new yo({valueType:t,minSize:null,maxSize:null,typeName:de.ZodSet,...ye(e)});class ya extends be{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Z.function)return Y(r,{code:z.invalid_type,expected:Z.function,received:r.parsedType}),ce;function n(l,c){return df({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,uf(),Wa].filter(u=>!!u),issueData:{code:z.invalid_arguments,argumentsError:c}})}function s(l,c){return df({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,uf(),Wa].filter(u=>!!u),issueData:{code:z.invalid_return_type,returnTypeError:c}})}const i={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof Ha){const l=this;return cr(async function(...c){const u=new Lr([]),d=await l._def.args.parseAsync(c,i).catch(v=>{throw u.addIssue(n(c,v)),u}),f=await Reflect.apply(o,this,d);return await l._def.returns._def.type.parseAsync(f,i).catch(v=>{throw u.addIssue(s(f,v)),u})})}else{const l=this;return cr(function(...c){const u=l._def.args.safeParse(c,i);if(!u.success)throw new Lr([n(c,u.error)]);const d=Reflect.apply(o,this,u.data),f=l._def.returns.safeParse(d,i);if(!f.success)throw new Lr([s(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new ya({...this._def,args:Hn.create(e).rest(to.create())})}returns(e){return new ya({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new ya({args:e||Hn.create([]).rest(to.create()),returns:r||to.create(),typeName:de.ZodFunction,...ye(n)})}}class Oc extends be{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Oc.create=(t,e)=>new Oc({getter:t,typeName:de.ZodLazy,...ye(e)});class Rc extends be{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return Y(r,{received:r.data,code:z.invalid_literal,expected:this._def.value}),ce}return{status:"valid",value:e.data}}get value(){return this._def.value}}Rc.create=(t,e)=>new Rc({value:t,typeName:de.ZodLiteral,...ye(e)});function NA(t,e){return new xi({values:t,typeName:de.ZodEnum,...ye(e)})}class xi extends be{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return Y(r,{expected:Ce.joinValues(n),received:r.parsedType,code:z.invalid_type}),ce}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return Y(r,{received:r.data,code:z.invalid_enum_value,options:n}),ce}return cr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return xi.create(e,{...this._def,...r})}exclude(e,r=this._def){return xi.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}xi.create=NA;class Dc extends be{_parse(e){const r=Ce.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Z.string&&n.parsedType!==Z.number){const s=Ce.objectValues(r);return Y(n,{expected:Ce.joinValues(s),received:n.parsedType,code:z.invalid_type}),ce}if(this._cache||(this._cache=new Set(Ce.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=Ce.objectValues(r);return Y(n,{received:n.data,code:z.invalid_enum_value,options:s}),ce}return cr(e.data)}get enum(){return this._def.values}}Dc.create=(t,e)=>new Dc({values:t,typeName:de.ZodNativeEnum,...ye(e)});class Ha extends be{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Z.promise&&r.common.async===!1)return Y(r,{code:z.invalid_type,expected:Z.promise,received:r.parsedType}),ce;const n=r.parsedType===Z.promise?r.data:Promise.resolve(r.data);return cr(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Ha.create=(t,e)=>new Ha({type:t,typeName:de.ZodPromise,...ye(e)});class _n extends be{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===de.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{Y(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return ce;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?ce:c.status==="dirty"||r.value==="dirty"?ra(c.value):c});{if(r.value==="aborted")return ce;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?ce:l.status==="dirty"||r.value==="dirty"?ra(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?ce:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?ce:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!po(o))return ce;const l=s.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>po(o)?Promise.resolve(s.transform(o.value,i)).then(l=>({status:r.value,value:l})):ce);Ce.assertNever(s)}}_n.create=(t,e,r)=>new _n({schema:t,typeName:de.ZodEffects,effect:e,...ye(r)});_n.createWithPreprocess=(t,e,r)=>new _n({schema:e,effect:{type:"preprocess",transform:t},typeName:de.ZodEffects,...ye(r)});class Vn extends be{_parse(e){return this._getType(e)===Z.undefined?cr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Vn.create=(t,e)=>new Vn({innerType:t,typeName:de.ZodOptional,...ye(e)});class wi extends be{_parse(e){return this._getType(e)===Z.null?cr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}wi.create=(t,e)=>new wi({innerType:t,typeName:de.ZodNullable,...ye(e)});class Ic extends be{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===Z.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Ic.create=(t,e)=>new Ic({innerType:t,typeName:de.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ye(e)});class Mc extends be{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return kc(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Lr(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Lr(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Mc.create=(t,e)=>new Mc({innerType:t,typeName:de.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ye(e)});class pf extends be{_parse(e){if(this._getType(e)!==Z.nan){const n=this._getOrReturnCtx(e);return Y(n,{code:z.invalid_type,expected:Z.nan,received:n.parsedType}),ce}return{status:"valid",value:e.data}}}pf.create=t=>new pf({typeName:de.ZodNaN,...ye(t)});const uz=Symbol("zod_brand");class iv extends be{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class au extends be{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?ce:i.status==="dirty"?(r.dirty(),ra(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?ce:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,r){return new au({in:e,out:r,typeName:de.ZodPipeline})}}class Lc extends be{_parse(e){const r=this._def.innerType._parse(e),n=s=>(po(s)&&(s.value=Object.freeze(s.value)),s);return kc(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}Lc.create=(t,e)=>new Lc({innerType:t,typeName:de.ZodReadonly,...ye(e)});function kw(t,e){const r=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof r=="string"?{message:r}:r}function ov(t,e={},r){return t?qa.create().superRefine((n,s)=>{const i=t(n);if(i instanceof Promise)return i.then(o=>{if(!o){const l=kw(e,n),c=l.fatal??r??!0;s.addIssue({code:"custom",...l,fatal:c})}});if(!i){const o=kw(e,n),l=o.fatal??r??!0;s.addIssue({code:"custom",...o,fatal:l})}}):qa.create()}const dz={object:rt.lazycreate};var de;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(de||(de={}));const fz=(t,e={message:`Input not instance of ${t.name}`})=>ov(r=>r instanceof t,e),_e=pn.create,ft=yi.create,hz=pf.create,mz=vi.create,av=Nc.create,CA=go.create,pz=ff.create,gz=Cc.create,EA=Ec.create,gf=qa.create,yz=to.create,vz=bs.create,xz=hf.create,_s=vn.create,lu=rt.create,wz=rt.strictCreate,lv=Pc.create,bz=ah.create,_z=Tc.create,Sz=Hn.create,PA=Ac.create,jz=mf.create,kz=yo.create,Nz=ya.create,Cz=Oc.create,Ez=Rc.create,cv=xi.create,Pz=Dc.create,Tz=Ha.create,Nw=_n.create,Az=Vn.create,Oz=wi.create,Rz=_n.createWithPreprocess,Dz=au.create,Iz=()=>_e().optional(),Mz=()=>ft().optional(),Lz=()=>av().optional(),lh={string:t=>pn.create({...t,coerce:!0}),number:t=>yi.create({...t,coerce:!0}),boolean:t=>Nc.create({...t,coerce:!0}),bigint:t=>vi.create({...t,coerce:!0}),date:t=>go.create({...t,coerce:!0})},Fz=ce,$z=Object.freeze(Object.defineProperty({__proto__:null,BRAND:uz,DIRTY:ra,EMPTY_PATH:zB,INVALID:ce,NEVER:Fz,OK:cr,ParseStatus:Ht,Schema:be,ZodAny:qa,ZodArray:vn,ZodBigInt:vi,ZodBoolean:Nc,ZodBranded:iv,ZodCatch:Mc,ZodDate:go,ZodDefault:Ic,ZodDiscriminatedUnion:ah,ZodEffects:_n,ZodEnum:xi,ZodError:Lr,get ZodFirstPartyTypeKind(){return de},ZodFunction:ya,ZodIntersection:Tc,ZodIssueCode:z,ZodLazy:Oc,ZodLiteral:Rc,ZodMap:mf,ZodNaN:pf,ZodNativeEnum:Dc,ZodNever:bs,ZodNull:Ec,ZodNullable:wi,ZodNumber:yi,ZodObject:rt,ZodOptional:Vn,ZodParsedType:Z,ZodPipeline:au,ZodPromise:Ha,ZodReadonly:Lc,ZodRecord:Ac,ZodSchema:be,ZodSet:yo,ZodString:pn,ZodSymbol:ff,ZodTransformer:_n,ZodTuple:Hn,ZodType:be,ZodUndefined:Cc,ZodUnion:Pc,ZodUnknown:to,ZodVoid:hf,addIssueToContext:Y,any:gf,array:_s,bigint:mz,boolean:av,coerce:lh,custom:ov,date:CA,datetimeRegex:kA,defaultErrorMap:Wa,discriminatedUnion:bz,effect:Nw,enum:cv,function:Nz,getErrorMap:uf,getParsedType:is,instanceof:fz,intersection:_z,isAborted:ug,isAsync:kc,isDirty:dg,isValid:po,late:dz,lazy:Cz,literal:Ez,makeIssue:df,map:jz,nan:hz,nativeEnum:Pz,never:vz,null:EA,nullable:Oz,number:ft,object:lu,get objectUtil(){return cg},oboolean:Lz,onumber:Mz,optional:Az,ostring:Iz,pipeline:Dz,preprocess:Rz,promise:Tz,quotelessJson:UB,record:PA,set:kz,setErrorMap:BB,strictObject:wz,string:_e,symbol:pz,transformer:Nw,tuple:Sz,undefined:gz,union:lv,unknown:yz,get util(){return Ce},void:xz},Symbol.toStringTag,{value:"Module"})),tt={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function ct(t,e){return e.includes(t.columnType)}function Uz(t){return"enumValues"in t&&Array.isArray(t.enumValues)&&t.enumValues.length>0}const Bz=lv([_e(),ft(),av(),EA()]),zz=lv([Bz,PA(gf()),_s(gf())]),Vz=ov(t=>t instanceof Buffer);function TA(t,e){const r=(e==null?void 0:e.zodInstance)??$z,n=(e==null?void 0:e.coerce)??{};let s;return Uz(t)&&(s=t.enumValues.length?r.enum(t.enumValues):r.string()),s||(ct(t,["PgGeometry","PgPointTuple"])?s=r.tuple([r.number(),r.number()]):ct(t,["PgGeometryObject","PgPointObject"])?s=r.object({x:r.number(),y:r.number()}):ct(t,["PgHalfVector","PgVector"])?(s=r.array(r.number()),s=t.dimensions?s.length(t.dimensions):s):ct(t,["PgLine"])?s=r.tuple([r.number(),r.number(),r.number()]):ct(t,["PgLineABC"])?s=r.object({a:r.number(),b:r.number(),c:r.number()}):ct(t,["PgArray"])?(s=r.array(TA(t.baseColumn,r)),s=t.size?s.length(t.size):s):t.dataType==="array"?s=r.array(r.any()):t.dataType==="number"?s=Wz(t,r,n):t.dataType==="bigint"?s=qz(t,r,n):t.dataType==="boolean"?s=n===!0||n.boolean?r.coerce.boolean():r.boolean():t.dataType==="date"?s=n===!0||n.date?r.coerce.date():r.date():t.dataType==="string"?s=Hz(t,r,n):t.dataType==="json"?s=zz:t.dataType==="custom"?s=r.any():t.dataType==="buffer"&&(s=Vz)),s||(s=r.any()),s}function Wz(t,e,r){let n=t.getSQLType().includes("unsigned"),s,i,o=!1;ct(t,["MySqlTinyInt","SingleStoreTinyInt"])?(s=n?0:tt.INT8_MIN,i=n?tt.INT8_UNSIGNED_MAX:tt.INT8_MAX,o=!0):ct(t,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(s=n?0:tt.INT16_MIN,i=n?tt.INT16_UNSIGNED_MAX:tt.INT16_MAX,o=!0):ct(t,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(s=n?0:tt.INT24_MIN,i=n?tt.INT24_UNSIGNED_MAX:tt.INT24_MAX,o=ct(t,["MySqlMediumInt","SingleStoreMediumInt"])):ct(t,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(s=n?0:tt.INT32_MIN,i=n?tt.INT32_UNSIGNED_MAX:tt.INT32_MAX,o=!0):ct(t,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(s=n?0:tt.INT48_MIN,i=n?tt.INT48_UNSIGNED_MAX:tt.INT48_MAX):ct(t,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(n=n||ct(t,["MySqlSerial","SingleStoreSerial"]),s=n?0:Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER,o=!0):ct(t,["MySqlYear","SingleStoreYear"])?(s=1901,i=2155,o=!0):(s=Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER);let l=r===!0||r!=null&&r.number?e.coerce.number():e.number();return l=l.min(s).max(i),o?l.int():l}function qz(t,e,r){const n=t.getSQLType().includes("unsigned"),s=n?0n:tt.INT64_MIN,i=n?tt.INT64_UNSIGNED_MAX:tt.INT64_MAX;return(r===!0||r!=null&&r.bigint?e.coerce.bigint():e.bigint()).min(s).max(i)}function Hz(t,e,r){if(ct(t,["PgUUID"]))return e.string().uuid();let n,s,i=!1;ct(t,["PgVarchar","SQLiteText"])?n=t.length:ct(t,["MySqlVarChar","SingleStoreVarChar"])?n=t.length??tt.INT16_UNSIGNED_MAX:ct(t,["MySqlText","SingleStoreText"])&&(t.textType==="longtext"?n=tt.INT32_UNSIGNED_MAX:t.textType==="mediumtext"?n=tt.INT24_UNSIGNED_MAX:t.textType==="text"?n=tt.INT16_UNSIGNED_MAX:n=tt.INT8_UNSIGNED_MAX),ct(t,["PgChar","MySqlChar","SingleStoreChar"])&&(n=t.length,i=!0),ct(t,["PgBinaryVector"])&&(s=/^[01]+$/,n=t.dimensions);let o=r===!0||r!=null&&r.string?e.coerce.string():e.string();return o=s?o.regex(s):o,n&&i?o.length(n):n?o.max(n):o}function AA(t){return HT(t)?lB(t):cB(t)}function OA(t,e,r,n){const s={};for(const[i,o]of Object.entries(t)){if(!Ot(o,Va)&&!Ot(o,jt)&&!Ot(o,jt.Aliased)&&typeof o=="object"){const f=HT(o)||aB(o)?AA(o):o;s[i]=OA(f,e[i]??{},r,n);continue}const l=e[i];if(l!==void 0&&typeof l!="function"){s[i]=l;continue}const c=Ot(o,Va)?o:void 0,u=c?TA(c,n):gf(),d=typeof l=="function"?l(u):u;r.never(c)||(s[i]=d,c&&(r.nullable(c)&&(s[i]=s[i].nullable()),r.optional(c)&&(s[i]=s[i].optional())))}return lu(s)}const Kz={never:t=>{var e,r;return((e=t==null?void 0:t.generated)==null?void 0:e.type)==="always"||((r=t==null?void 0:t.generatedIdentity)==null?void 0:r.type)==="always"},optional:t=>!t.notNull||t.notNull&&t.hasDefault,nullable:t=>!t.notNull},Gt=(t,e)=>{const r=AA(t);return OA(r,{},Kz)},Gz=Kt("classes",{id:en("id").primaryKey(),date:Je("date").notNull(),time:oe("time").notNull(),duration:me("duration").notNull(),classType:oe("class_type").notNull(),instructor:oe("instructor").notNull(),trainingPartners:oe("training_partners").array(),techniquesFocused:oe("techniques_focused"),rollingPartners:oe("rolling_partners").array(),yourSubmissions:me("your_submissions").default(0),partnerSubmissions:me("partner_submissions").default(0),cardioRating:me("cardio_rating"),userId:me("user_id").references(()=>kr.id),createdAt:Je("created_at").defaultNow()}),Qz=Kt("videos",{id:en("id").primaryKey(),title:oe("title").notNull(),description:oe("description"),url:oe("url").notNull(),category:oe("category").notNull(),tags:oe("tags").array(),isFavorite:me("is_favorite").default(0),duration:oe("duration"),thumbnailUrl:oe("thumbnail_url"),createdAt:Je("created_at").defaultNow()}),RA=Kt("notes",{id:ws("id").primaryKey().default(mo`gen_random_uuid()`),title:oe("title").notNull(),content:oe("content").notNull(),tags:oe("tags").array(),linkedClassId:me("linked_class_id"),linkedVideoId:me("linked_video_id"),userId:me("user_id").notNull().references(()=>kr.id),isShared:me("is_shared").default(0),gymId:me("gym_id").references(()=>uv.id),sharedWithUsers:oe("shared_with_users").array(),videoUrl:oe("video_url"),videoFileName:oe("video_file_name"),videoFileSize:me("video_file_size"),videoThumbnail:oe("video_thumbnail"),createdAt:Je("created_at").defaultNow(),updatedAt:Je("updated_at").defaultNow()}),Yz=Kt("drawings",{id:en("id").primaryKey(),title:oe("title").notNull(),canvasData:oe("canvas_data").notNull(),linkedNoteId:me("linked_note_id"),linkedClassId:me("linked_class_id"),userId:me("user_id").references(()=>kr.id),createdAt:Je("created_at").defaultNow()}),Jz=Kt("belts",{id:en("id").primaryKey(),belt:oe("belt").notNull(),stripes:me("stripes").notNull().default(0),promotionDate:Je("promotion_date").notNull(),instructor:oe("instructor"),notes:oe("notes"),userId:me("user_id").references(()=>kr.id),createdAt:Je("created_at").defaultNow()}),kr=Kt("users",{id:en("id").primaryKey(),email:oe("email").unique().notNull(),password:oe("password"),firstName:oe("first_name"),lastName:oe("last_name"),subscriptionTier:oe("subscription_tier").default("free"),stripeCustomerId:oe("stripe_customer_id"),stripeSubscriptionId:oe("stripe_subscription_id"),subscriptionStatus:oe("subscription_status").default("free"),subscriptionPlan:oe("subscription_plan"),revenuecatCustomerId:oe("revenuecat_customer_id"),subscriptionExpiresAt:Je("subscription_expires_at"),gymApprovalStatus:oe("gym_approval_status").default("none"),classCount:me("class_count").default(0),noteCount:me("note_count").default(0),weeklyShareCount:me("weekly_share_count").default(0),shareResetDate:Je("share_reset_date"),storageUsed:me("storage_used").default(0),role:oe("role").default("user"),createdAt:Je("created_at").defaultNow(),supabaseUid:ws("supabase_uid").unique()}),Zz=Kt("profiles",{id:ws("id").primaryKey()}),Xz=Kt("auth_identities",{userId:me("user_id").primaryKey().references(()=>kr.id,{onDelete:"cascade"}),supabaseUid:ws("supabase_uid").unique().notNull()}),eV=Kt("app_notes",{id:ws("id").primaryKey().default(mo`gen_random_uuid()`),title:oe("title").notNull(),content:oe("content").notNull(),tags:oe("tags").array(),linkedClassId:me("linked_class_id"),linkedVideoId:me("linked_video_id"),userId:me("user_id").notNull().references(()=>kr.id,{onDelete:"cascade"}),isShared:me("is_shared").default(0),sharedWithUsers:oe("shared_with_users").array(),videoUrl:oe("video_url"),videoFileName:oe("video_file_name"),videoFileSize:me("video_file_size"),videoThumbnail:oe("video_thumbnail"),createdAt:Je("created_at").defaultNow(),updatedAt:Je("updated_at").defaultNow()}),tV=Kt("weekly_commitments",{id:en("id").primaryKey(),weekStartDate:Je("week_start_date").notNull(),targetClasses:me("target_classes").notNull(),completedClasses:me("completed_classes").default(0),isCompleted:me("is_completed").default(0),userId:me("user_id").references(()=>kr.id),createdAt:Je("created_at").defaultNow(),updatedAt:Je("updated_at").defaultNow()}),rV=Kt("training_videos",{id:en("id").primaryKey(),title:oe("title").notNull(),description:oe("description"),videoUrl:oe("video_url").notNull(),thumbnailUrl:oe("thumbnail_url"),uploadedBy:me("uploaded_by").references(()=>kr.id).notNull(),isPublic:me("is_public").default(1),tags:oe("tags").array(),category:oe("category"),duration:me("duration"),views:me("views").default(0),likes:me("likes").default(0),createdAt:Je("created_at").defaultNow()}),nV=Kt("password_reset_tokens",{id:en("id").primaryKey(),token:oe("token").notNull().unique(),userId:me("user_id").references(()=>kr.id).notNull(),expiresAt:Je("expires_at").notNull(),used:me("used").default(0),createdAt:Je("created_at").defaultNow()}),sV=Kt("note_likes",{id:en("id").primaryKey(),noteId:ws("note_id").references(()=>RA.id).notNull(),userId:me("user_id").references(()=>kr.id).notNull(),createdAt:Je("created_at").defaultNow()}),iV=Kt("game_plans",{id:ws("id").primaryKey().default(mo`gen_random_uuid()`),userId:me("user_id").references(()=>kr.id).notNull(),planName:oe("plan_name").notNull(),moveName:oe("move_name").notNull(),description:oe("description"),parentId:ws("parent_id"),moveOrder:me("move_order").default(0),createdAt:Je("created_at").defaultNow(),updatedAt:Je("updated_at").defaultNow()}),uv=Kt("gyms",{id:en("id").primaryKey(),name:oe("name").notNull(),code:oe("code").notNull().unique(),ownerId:me("owner_id").references(()=>kr.id).notNull(),createdAt:Je("created_at").defaultNow()}),oV=Kt("gym_memberships",{id:en("id").primaryKey(),userId:me("user_id").references(()=>kr.id).notNull(),gymId:me("gym_id").references(()=>uv.id).notNull(),role:oe("role").notNull().default("member"),createdAt:Je("created_at").defaultNow()});Gt(Gz).omit({id:!0,createdAt:!0}).extend({date:lh.date(),trainingPartners:_s(_e()).optional(),techniquesFocused:_e().optional()});Gt(Qz).omit({id:!0,createdAt:!0}).extend({description:_e().optional(),tags:_s(_e()).optional(),isFavorite:ft().optional(),duration:_e().optional(),thumbnailUrl:_e().optional()});Gt(RA).omit({id:!0,createdAt:!0,updatedAt:!0}).extend({tags:_s(_e()).optional(),linkedClassId:ft().optional(),linkedVideoId:ft().optional(),userId:_e().optional(),isShared:ft().optional(),gymId:ft().optional(),sharedWithUsers:_s(_e()).optional()});Gt(Yz).omit({id:!0,createdAt:!0}).extend({linkedNoteId:ft().optional(),linkedClassId:ft().optional()});const aV=Gt(Jz).omit({id:!0,createdAt:!0}).extend({promotionDate:lh.date(),instructor:_e().optional(),notes:_e().optional()});Gt(kr).omit({id:!0,createdAt:!0}).extend({email:_e().email(),password:_e().min(8),firstName:_e().optional(),lastName:_e().optional(),subscriptionStatus:cv(["free","premium","active","paused"]).optional(),subscriptionExpiresAt:CA().optional(),supabaseId:_e().optional()});Gt(Zz);Gt(Xz);Gt(eV).omit({id:!0,createdAt:!0,updatedAt:!0}).extend({tags:_s(_e()).optional(),linkedClassId:ft().optional(),linkedVideoId:ft().optional(),isShared:ft().optional(),sharedWithUsers:_s(_e()).optional()});Gt(tV).omit({id:!0,createdAt:!0}).extend({weekStartDate:lh.date(),targetClasses:ft().min(1).max(10),completedClasses:ft().default(0),isCompleted:ft().default(0)});Gt(rV).omit({id:!0,createdAt:!0}).extend({description:_e().optional(),thumbnailUrl:_e().optional(),tags:_s(_e()).optional(),category:_e().optional(),duration:ft().optional(),views:ft().default(0),likes:ft().default(0)});Gt(nV).omit({id:!0,createdAt:!0});Gt(sV).omit({id:!0,createdAt:!0});Gt(iV).omit({id:!0,createdAt:!0,updatedAt:!0}).extend({description:_e().optional(),parentId:_e().optional(),moveOrder:ft().optional()});Gt(uv).omit({id:!0,createdAt:!0}).extend({code:_e().optional(),ownerId:ft().optional()});Gt(oV).omit({id:!0,createdAt:!0}).extend({role:cv(["admin","member"]).default("member")});var lV="Label",DA=y.forwardRef((t,e)=>a.jsx(Se.label,{...t,ref:e,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));DA.displayName=lV;var IA=DA;const cV=wy("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),nr=y.forwardRef(({className:t,...e},r)=>a.jsx(IA,{ref:r,className:ue(cV(),t),...e}));nr.displayName=IA.displayName;const uV=R8,MA=y.createContext({}),Sl=({...t})=>a.jsx(MA.Provider,{value:{name:t.name},children:a.jsx(L8,{...t})}),ch=()=>{const t=y.useContext(MA),e=y.useContext(LA),{getFieldState:r,formState:n}=oh(),s=r(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:i}=e;return{id:i,name:t.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},LA=y.createContext({}),Uo=y.forwardRef(({className:t,...e},r)=>{const n=y.useId();return a.jsx(LA.Provider,{value:{id:n},children:a.jsx("div",{ref:r,className:ue("space-y-2",t),...e})})});Uo.displayName="FormItem";const Bo=y.forwardRef(({className:t,...e},r)=>{const{error:n,formItemId:s}=ch();return a.jsx(nr,{ref:r,className:ue(n&&"text-destructive",t),htmlFor:s,...e})});Bo.displayName="FormLabel";const zo=y.forwardRef(({...t},e)=>{const{error:r,formItemId:n,formDescriptionId:s,formMessageId:i}=ch();return a.jsx(aC,{ref:e,id:n,"aria-describedby":r?`${s} ${i}`:`${s}`,"aria-invalid":!!r,...t})});zo.displayName="FormControl";const dV=y.forwardRef(({className:t,...e},r)=>{const{formDescriptionId:n}=ch();return a.jsx("p",{ref:r,id:n,className:ue("text-sm text-muted-foreground",t),...e})});dV.displayName="FormDescription";const Vo=y.forwardRef(({className:t,children:e,...r},n)=>{const{error:s,formMessageId:i}=ch(),o=s?String((s==null?void 0:s.message)??""):e;return o?a.jsx("p",{ref:n,id:i,className:ue("text-sm font-medium text-destructive",t),...r,children:o}):null});Vo.displayName="FormMessage";function Te(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function $r(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function tr(t,e){const r=Te(t);return isNaN(e)?$r(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function Sn(t,e){const r=Te(t);if(isNaN(e))return $r(t,NaN);if(!e)return r;const n=r.getDate(),s=$r(t,r.getTime());s.setMonth(r.getMonth()+e+1,0);const i=s.getDate();return n>=i?s:(r.setFullYear(s.getFullYear(),s.getMonth(),n),r)}const dv=6048e5,fV=864e5;let hV={};function cu(){return hV}function Kn(t,e){var l,c,u,d;const r=cu(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Te(t),i=s.getDay(),o=(i<n?7:0)+i-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function vo(t){return Kn(t,{weekStartsOn:1})}function FA(t){const e=Te(t),r=e.getFullYear(),n=$r(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=vo(n),i=$r(t,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=vo(i);return e.getTime()>=s.getTime()?r+1:e.getTime()>=o.getTime()?r:r-1}function Ka(t){const e=Te(t);return e.setHours(0,0,0,0),e}function yf(t){const e=Te(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function Fn(t,e){const r=Ka(t),n=Ka(e),s=+r-yf(r),i=+n-yf(n);return Math.round((s-i)/fV)}function mV(t){const e=FA(t),r=$r(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),vo(r)}function hg(t,e){const r=e*7;return tr(t,r)}function pV(t,e){return Sn(t,e*12)}function gV(t){let e;return t.forEach(function(r){const n=Te(r);(e===void 0||e<n||isNaN(Number(n)))&&(e=n)}),e||new Date(NaN)}function yV(t){let e;return t.forEach(r=>{const n=Te(r);(!e||e>n||isNaN(+n))&&(e=n)}),e||new Date(NaN)}function wr(t,e){const r=Ka(t),n=Ka(e);return+r==+n}function fv(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function vV(t){if(!fv(t)&&typeof t!="number")return!1;const e=Te(t);return!isNaN(Number(e))}function Fc(t,e){const r=Te(t),n=Te(e),s=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return s*12+i}function xV(t,e,r){const n=Kn(t,r),s=Kn(e,r),i=+n-yf(n),o=+s-yf(s);return Math.round((i-o)/dv)}function hv(t){const e=Te(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function jr(t){const e=Te(t);return e.setDate(1),e.setHours(0,0,0,0),e}function $A(t){const e=Te(t),r=$r(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}function mv(t,e){var l,c,u,d;const r=cu(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Te(t),i=s.getDay(),o=(i<n?-7:0)+6-(i-n);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}function UA(t){return mv(t,{weekStartsOn:1})}const wV={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},bV=(t,e,r)=>{let n;const s=wV[t];return typeof s=="string"?n=s:e===1?n=s.one:n=s.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function vm(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const _V={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},SV={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},jV={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},kV={date:vm({formats:_V,defaultWidth:"full"}),time:vm({formats:SV,defaultWidth:"full"}),dateTime:vm({formats:jV,defaultWidth:"full"})},NV={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},CV=(t,e,r,n)=>NV[t];function jl(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=r!=null&&r.width?String(r.width):o;s=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;s=t.values[l]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const EV={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},PV={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},TV={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},AV={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},OV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},RV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},DV=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},IV={ordinalNumber:DV,era:jl({values:EV,defaultWidth:"wide"}),quarter:jl({values:PV,defaultWidth:"wide",argumentCallback:t=>t-1}),month:jl({values:TV,defaultWidth:"wide"}),day:jl({values:AV,defaultWidth:"wide"}),dayPeriod:jl({values:OV,defaultWidth:"wide",formattingValues:RV,defaultFormattingWidth:"wide"})};function kl(t){return(e,r={})=>{const n=r.width,s=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?LV(l,f=>f.test(o)):MV(l,f=>f.test(o));let u;u=t.valueCallback?t.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=e.slice(o.length);return{value:u,rest:d}}}function MV(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function LV(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function FV(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const s=n[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=e.slice(s.length);return{value:o,rest:l}}}const $V=/^(\d+)(th|st|nd|rd)?/i,UV=/\d+/i,BV={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},zV={any:[/^b/i,/^(a|c)/i]},VV={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},WV={any:[/1/i,/2/i,/3/i,/4/i]},qV={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},HV={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},KV={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},GV={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},QV={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},YV={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},JV={ordinalNumber:FV({matchPattern:$V,parsePattern:UV,valueCallback:t=>parseInt(t,10)}),era:kl({matchPatterns:BV,defaultMatchWidth:"wide",parsePatterns:zV,defaultParseWidth:"any"}),quarter:kl({matchPatterns:VV,defaultMatchWidth:"wide",parsePatterns:WV,defaultParseWidth:"any",valueCallback:t=>t+1}),month:kl({matchPatterns:qV,defaultMatchWidth:"wide",parsePatterns:HV,defaultParseWidth:"any"}),day:kl({matchPatterns:KV,defaultMatchWidth:"wide",parsePatterns:GV,defaultParseWidth:"any"}),dayPeriod:kl({matchPatterns:QV,defaultMatchWidth:"any",parsePatterns:YV,defaultParseWidth:"any"})},BA={code:"en-US",formatDistance:bV,formatLong:kV,formatRelative:CV,localize:IV,match:JV,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ZV(t){const e=Te(t);return Fn(e,$A(e))+1}function zA(t){const e=Te(t),r=+vo(e)-+mV(e);return Math.round(r/dv)+1}function VA(t,e){var d,f,h,v;const r=Te(t),n=r.getFullYear(),s=cu(),i=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((v=(h=s.locale)==null?void 0:h.options)==null?void 0:v.firstWeekContainsDate)??1,o=$r(t,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=Kn(o,e),c=$r(t,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=Kn(c,e);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function XV(t,e){var l,c,u,d;const r=cu(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=VA(t,e),i=$r(t,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),Kn(i,e)}function WA(t,e){const r=Te(t),n=+Kn(r,e)-+XV(r,e);return Math.round(n/dv)+1}function Be(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Rs={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return Be(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):Be(r+1,2)},d(t,e){return Be(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return Be(t.getHours()%12||12,e.length)},H(t,e){return Be(t.getHours(),e.length)},m(t,e){return Be(t.getMinutes(),e.length)},s(t,e){return Be(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Be(s,e.length)}},Mo={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Cw={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return Rs.y(t,e)},Y:function(t,e,r,n){const s=VA(t,n),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return Be(o,2)}return e==="Yo"?r.ordinalNumber(i,{unit:"year"}):Be(i,e.length)},R:function(t,e){const r=FA(t);return Be(r,e.length)},u:function(t,e){const r=t.getFullYear();return Be(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Be(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Be(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Rs.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return Be(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const s=WA(t,n);return e==="wo"?r.ordinalNumber(s,{unit:"week"}):Be(s,e.length)},I:function(t,e,r){const n=zA(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):Be(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Rs.d(t,e)},D:function(t,e,r){const n=ZV(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Be(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const s=t.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return Be(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const s=t.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return Be(i,e.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),s=n===0?7:n;switch(e){case"i":return String(s);case"ii":return Be(s,e.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let s;switch(n===12?s=Mo.noon:n===0?s=Mo.midnight:s=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let s;switch(n>=17?s=Mo.evening:n>=12?s=Mo.afternoon:n>=4?s=Mo.morning:s=Mo.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Rs.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Rs.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Be(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):Be(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Rs.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Rs.s(t,e)},S:function(t,e){return Rs.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return Pw(n);case"XXXX":case"XX":return Di(n);case"XXXXX":case"XXX":default:return Di(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return Pw(n);case"xxxx":case"xx":return Di(n);case"xxxxx":case"xxx":default:return Di(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Ew(n,":");case"OOOO":default:return"GMT"+Di(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Ew(n,":");case"zzzz":default:return"GMT"+Di(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return Be(n,e.length)},T:function(t,e,r){const n=t.getTime();return Be(n,e.length)}};function Ew(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+e+Be(i,2)}function Pw(t,e){return t%60===0?(t>0?"-":"+")+Be(Math.abs(t)/60,2):Di(t,e)}function Di(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=Be(Math.trunc(n/60),2),i=Be(n%60,2);return r+s+e+i}const Tw=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},qA=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},e9=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return Tw(t,e);let i;switch(n){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",Tw(n,e)).replace("{{time}}",qA(s,e))},t9={p:qA,P:e9},r9=/^D+$/,n9=/^Y+$/,s9=["D","DD","YY","YYYY"];function i9(t){return r9.test(t)}function o9(t){return n9.test(t)}function a9(t,e,r){const n=l9(t,e,r);if(console.warn(n),s9.includes(t))throw new RangeError(n)}function l9(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const c9=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,u9=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,d9=/^'([^]*?)'?$/,f9=/''/g,h9=/[a-zA-Z]/;function Ss(t,e,r){var d,f,h,v,p,g,b,w;const n=cu(),s=(r==null?void 0:r.locale)??n.locale??BA,i=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((v=(h=n.locale)==null?void 0:h.options)==null?void 0:v.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((g=(p=r==null?void 0:r.locale)==null?void 0:p.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((w=(b=n.locale)==null?void 0:b.options)==null?void 0:w.weekStartsOn)??0,l=Te(t);if(!vV(l))throw new RangeError("Invalid time value");let c=e.match(u9).map(m=>{const x=m[0];if(x==="p"||x==="P"){const _=t9[x];return _(m,s.formatLong)}return m}).join("").match(c9).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const x=m[0];if(x==="'")return{isToken:!1,value:m9(m)};if(Cw[x])return{isToken:!0,value:m};if(x.match(h9))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:m}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return c.map(m=>{if(!m.isToken)return m.value;const x=m.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&o9(x)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&i9(x))&&a9(x,e,String(t));const _=Cw[x[0]];return _(l,x,s.localize,u)}).join("")}function m9(t){const e=t.match(d9);return e?e[1].replace(f9,"'"):t}function p9(t){const e=Te(t),r=e.getFullYear(),n=e.getMonth(),s=$r(t,0);return s.setFullYear(r,n+1,0),s.setHours(0,0,0,0),s.getDate()}function g9(t){return Math.trunc(+Te(t)/1e3)}function y9(t){const e=Te(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(0,0,0,0),e}function v9(t,e){return xV(y9(t),jr(t),e)+1}function mg(t,e){const r=Te(t),n=Te(e);return r.getTime()>n.getTime()}function HA(t,e){const r=Te(t),n=Te(e);return+r<+n}function pv(t,e){const r=Te(t),n=Te(e);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function x9(t,e){const r=Te(t),n=Te(e);return r.getFullYear()===n.getFullYear()}function xm(t,e){return tr(t,-e)}function wm(t,e){const r=Te(t),n=r.getFullYear(),s=r.getDate(),i=$r(t,0);i.setFullYear(n,e,15),i.setHours(0,0,0,0);const o=p9(i);return r.setMonth(e,Math.min(s,o)),r}function Aw(t,e){const r=Te(t);return isNaN(+r)?$r(t,NaN):(r.setFullYear(e),r)}var fe=function(){return fe=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},fe.apply(this,arguments)};function w9(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function KA(t,e,r){for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function uu(t){return t.mode==="multiple"}function du(t){return t.mode==="range"}function uh(t){return t.mode==="single"}var b9={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function _9(t,e){return Ss(t,"LLLL y",e)}function S9(t,e){return Ss(t,"d",e)}function j9(t,e){return Ss(t,"LLLL",e)}function k9(t){return"".concat(t)}function N9(t,e){return Ss(t,"cccccc",e)}function C9(t,e){return Ss(t,"yyyy",e)}var E9=Object.freeze({__proto__:null,formatCaption:_9,formatDay:S9,formatMonthCaption:j9,formatWeekNumber:k9,formatWeekdayName:N9,formatYearCaption:C9}),P9=function(t,e,r){return Ss(t,"do MMMM (EEEE)",r)},T9=function(){return"Month: "},A9=function(){return"Go to next month"},O9=function(){return"Go to previous month"},R9=function(t,e){return Ss(t,"cccc",e)},D9=function(t){return"Week n. ".concat(t)},I9=function(){return"Year: "},M9=Object.freeze({__proto__:null,labelDay:P9,labelMonthDropdown:T9,labelNext:A9,labelPrevious:O9,labelWeekNumber:D9,labelWeekday:R9,labelYearDropdown:I9});function L9(){var t="buttons",e=b9,r=BA,n={},s={},i=1,o={},l=new Date;return{captionLayout:t,classNames:e,formatters:E9,labels:M9,locale:r,modifiersClassNames:n,modifiers:s,numberOfMonths:i,styles:o,today:l,mode:"default"}}function F9(t){var e=t.fromYear,r=t.toYear,n=t.fromMonth,s=t.toMonth,i=t.fromDate,o=t.toDate;return n?i=jr(n):e&&(i=new Date(e,0,1)),s?o=hv(s):r&&(o=new Date(r,11,31)),{fromDate:i?Ka(i):void 0,toDate:o?Ka(o):void 0}}var GA=y.createContext(void 0);function $9(t){var e,r=t.initialProps,n=L9(),s=F9(r),i=s.fromDate,o=s.toDate,l=(e=r.captionLayout)!==null&&e!==void 0?e:n.captionLayout;l!=="buttons"&&(!i||!o)&&(l="buttons");var c;(uh(r)||uu(r)||du(r))&&(c=r.onSelect);var u=fe(fe(fe({},n),r),{captionLayout:l,classNames:fe(fe({},n.classNames),r.classNames),components:fe({},r.components),formatters:fe(fe({},n.formatters),r.formatters),fromDate:i,labels:fe(fe({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:fe(fe({},n.modifiers),r.modifiers),modifiersClassNames:fe(fe({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:fe(fe({},n.styles),r.styles),toDate:o});return a.jsx(GA.Provider,{value:u,children:t.children})}function Ke(){var t=y.useContext(GA);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function QA(t){var e=Ke(),r=e.locale,n=e.classNames,s=e.styles,i=e.formatters.formatCaption;return a.jsx("div",{className:n.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:i(t.displayMonth,{locale:r})})}function U9(t){return a.jsx("svg",fe({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:a.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function YA(t){var e,r,n=t.onChange,s=t.value,i=t.children,o=t.caption,l=t.className,c=t.style,u=Ke(),d=(r=(e=u.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&r!==void 0?r:U9;return a.jsxs("div",{className:l,style:c,children:[a.jsx("span",{className:u.classNames.vhidden,children:t["aria-label"]}),a.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:s,onChange:n,children:i}),a.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[o,a.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function B9(t){var e,r=Ke(),n=r.fromDate,s=r.toDate,i=r.styles,o=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return a.jsx(a.Fragment,{});if(!s)return a.jsx(a.Fragment,{});var f=[];if(x9(n,s))for(var h=jr(n),v=n.getMonth();v<=s.getMonth();v++)f.push(wm(h,v));else for(var h=jr(new Date),v=0;v<=11;v++)f.push(wm(h,v));var p=function(b){var w=Number(b.target.value),m=wm(jr(t.displayMonth),w);t.onChange(m)},g=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:YA;return a.jsx(g,{name:"months","aria-label":d(),className:c.dropdown_month,style:i.dropdown_month,onChange:p,value:t.displayMonth.getMonth(),caption:l(t.displayMonth,{locale:o}),children:f.map(function(b){return a.jsx("option",{value:b.getMonth(),children:l(b,{locale:o})},b.getMonth())})})}function z9(t){var e,r=t.displayMonth,n=Ke(),s=n.fromDate,i=n.toDate,o=n.locale,l=n.styles,c=n.classNames,u=n.components,d=n.formatters.formatYearCaption,f=n.labels.labelYearDropdown,h=[];if(!s)return a.jsx(a.Fragment,{});if(!i)return a.jsx(a.Fragment,{});for(var v=s.getFullYear(),p=i.getFullYear(),g=v;g<=p;g++)h.push(Aw($A(new Date),g));var b=function(m){var x=Aw(jr(r),Number(m.target.value));t.onChange(x)},w=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:YA;return a.jsx(w,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:b,value:r.getFullYear(),caption:d(r,{locale:o}),children:h.map(function(m){return a.jsx("option",{value:m.getFullYear(),children:d(m,{locale:o})},m.getFullYear())})})}function V9(t,e){var r=y.useState(t),n=r[0],s=r[1],i=e===void 0?n:e;return[i,s]}function W9(t){var e=t.month,r=t.defaultMonth,n=t.today,s=e||r||n||new Date,i=t.toDate,o=t.fromDate,l=t.numberOfMonths,c=l===void 0?1:l;if(i&&Fc(i,s)<0){var u=-1*(c-1);s=Sn(i,u)}return o&&Fc(s,o)<0&&(s=o),jr(s)}function q9(){var t=Ke(),e=W9(t),r=V9(e,t.month),n=r[0],s=r[1],i=function(o){var l;if(!t.disableNavigation){var c=jr(o);s(c),(l=t.onMonthChange)===null||l===void 0||l.call(t,c)}};return[n,i]}function H9(t,e){for(var r=e.reverseMonths,n=e.numberOfMonths,s=jr(t),i=jr(Sn(s,n)),o=Fc(i,s),l=[],c=0;c<o;c++){var u=Sn(s,c);l.push(u)}return r&&(l=l.reverse()),l}function K9(t,e){if(!e.disableNavigation){var r=e.toDate,n=e.pagedNavigation,s=e.numberOfMonths,i=s===void 0?1:s,o=n?i:1,l=jr(t);if(!r)return Sn(l,o);var c=Fc(r,t);if(!(c<i))return Sn(l,o)}}function G9(t,e){if(!e.disableNavigation){var r=e.fromDate,n=e.pagedNavigation,s=e.numberOfMonths,i=s===void 0?1:s,o=n?i:1,l=jr(t);if(!r)return Sn(l,-o);var c=Fc(l,r);if(!(c<=0))return Sn(l,-o)}}var JA=y.createContext(void 0);function Q9(t){var e=Ke(),r=q9(),n=r[0],s=r[1],i=H9(n,e),o=K9(n,e),l=G9(n,e),c=function(f){return i.some(function(h){return pv(f,h)})},u=function(f,h){c(f)||(h&&HA(f,h)?s(Sn(f,1+e.numberOfMonths*-1)):s(f))},d={currentMonth:n,displayMonths:i,goToMonth:s,goToDate:u,previousMonth:l,nextMonth:o,isDateDisplayed:c};return a.jsx(JA.Provider,{value:d,children:t.children})}function fu(){var t=y.useContext(JA);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function Ow(t){var e,r=Ke(),n=r.classNames,s=r.styles,i=r.components,o=fu().goToMonth,l=function(d){o(Sn(d,t.displayIndex?-t.displayIndex:0))},c=(e=i==null?void 0:i.CaptionLabel)!==null&&e!==void 0?e:QA,u=a.jsx(c,{id:t.id,displayMonth:t.displayMonth});return a.jsxs("div",{className:n.caption_dropdowns,style:s.caption_dropdowns,children:[a.jsx("div",{className:n.vhidden,children:u}),a.jsx(B9,{onChange:l,displayMonth:t.displayMonth}),a.jsx(z9,{onChange:l,displayMonth:t.displayMonth})]})}function Y9(t){return a.jsx("svg",fe({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:a.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function J9(t){return a.jsx("svg",fe({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:a.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var vf=y.forwardRef(function(t,e){var r=Ke(),n=r.classNames,s=r.styles,i=[n.button_reset,n.button];t.className&&i.push(t.className);var o=i.join(" "),l=fe(fe({},s.button_reset),s.button);return t.style&&Object.assign(l,t.style),a.jsx("button",fe({},t,{ref:e,type:"button",className:o,style:l}))});function Z9(t){var e,r,n=Ke(),s=n.dir,i=n.locale,o=n.classNames,l=n.styles,c=n.labels,u=c.labelPrevious,d=c.labelNext,f=n.components;if(!t.nextMonth&&!t.previousMonth)return a.jsx(a.Fragment,{});var h=u(t.previousMonth,{locale:i}),v=[o.nav_button,o.nav_button_previous].join(" "),p=d(t.nextMonth,{locale:i}),g=[o.nav_button,o.nav_button_next].join(" "),b=(e=f==null?void 0:f.IconRight)!==null&&e!==void 0?e:J9,w=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:Y9;return a.jsxs("div",{className:o.nav,style:l.nav,children:[!t.hidePrevious&&a.jsx(vf,{name:"previous-month","aria-label":h,className:v,style:l.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:s==="rtl"?a.jsx(b,{className:o.nav_icon,style:l.nav_icon}):a.jsx(w,{className:o.nav_icon,style:l.nav_icon})}),!t.hideNext&&a.jsx(vf,{name:"next-month","aria-label":p,className:g,style:l.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:s==="rtl"?a.jsx(w,{className:o.nav_icon,style:l.nav_icon}):a.jsx(b,{className:o.nav_icon,style:l.nav_icon})})]})}function Rw(t){var e=Ke().numberOfMonths,r=fu(),n=r.previousMonth,s=r.nextMonth,i=r.goToMonth,o=r.displayMonths,l=o.findIndex(function(p){return pv(t.displayMonth,p)}),c=l===0,u=l===o.length-1,d=e>1&&(c||!u),f=e>1&&(u||!c),h=function(){n&&i(n)},v=function(){s&&i(s)};return a.jsx(Z9,{displayMonth:t.displayMonth,hideNext:d,hidePrevious:f,nextMonth:s,previousMonth:n,onPreviousClick:h,onNextClick:v})}function X9(t){var e,r=Ke(),n=r.classNames,s=r.disableNavigation,i=r.styles,o=r.captionLayout,l=r.components,c=(e=l==null?void 0:l.CaptionLabel)!==null&&e!==void 0?e:QA,u;return s?u=a.jsx(c,{id:t.id,displayMonth:t.displayMonth}):o==="dropdown"?u=a.jsx(Ow,{displayMonth:t.displayMonth,id:t.id}):o==="dropdown-buttons"?u=a.jsxs(a.Fragment,{children:[a.jsx(Ow,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),a.jsx(Rw,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):u=a.jsxs(a.Fragment,{children:[a.jsx(c,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),a.jsx(Rw,{displayMonth:t.displayMonth,id:t.id})]}),a.jsx("div",{className:n.caption,style:i.caption,children:u})}function eW(t){var e=Ke(),r=e.footer,n=e.styles,s=e.classNames.tfoot;return r?a.jsx("tfoot",{className:s,style:n.tfoot,children:a.jsx("tr",{children:a.jsx("td",{colSpan:8,children:r})})}):a.jsx(a.Fragment,{})}function tW(t,e,r){for(var n=r?vo(new Date):Kn(new Date,{locale:t,weekStartsOn:e}),s=[],i=0;i<7;i++){var o=tr(n,i);s.push(o)}return s}function rW(){var t=Ke(),e=t.classNames,r=t.styles,n=t.showWeekNumber,s=t.locale,i=t.weekStartsOn,o=t.ISOWeek,l=t.formatters.formatWeekdayName,c=t.labels.labelWeekday,u=tW(s,i,o);return a.jsxs("tr",{style:r.head_row,className:e.head_row,children:[n&&a.jsx("td",{style:r.head_cell,className:e.head_cell}),u.map(function(d,f){return a.jsx("th",{scope:"col",className:e.head_cell,style:r.head_cell,"aria-label":c(d,{locale:s}),children:l(d,{locale:s})},f)})]})}function nW(){var t,e=Ke(),r=e.classNames,n=e.styles,s=e.components,i=(t=s==null?void 0:s.HeadRow)!==null&&t!==void 0?t:rW;return a.jsx("thead",{style:n.head,className:r.head,children:a.jsx(i,{})})}function sW(t){var e=Ke(),r=e.locale,n=e.formatters.formatDay;return a.jsx(a.Fragment,{children:n(t.date,{locale:r})})}var gv=y.createContext(void 0);function iW(t){if(!uu(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return a.jsx(gv.Provider,{value:e,children:t.children})}return a.jsx(oW,{initialProps:t.initialProps,children:t.children})}function oW(t){var e=t.initialProps,r=t.children,n=e.selected,s=e.min,i=e.max,o=function(u,d,f){var h,v;(h=e.onDayClick)===null||h===void 0||h.call(e,u,d,f);var p=!!(d.selected&&s&&(n==null?void 0:n.length)===s);if(!p){var g=!!(!d.selected&&i&&(n==null?void 0:n.length)===i);if(!g){var b=n?KA([],n):[];if(d.selected){var w=b.findIndex(function(m){return wr(u,m)});b.splice(w,1)}else b.push(u);(v=e.onSelect)===null||v===void 0||v.call(e,b,u,d,f)}}},l={disabled:[]};n&&l.disabled.push(function(u){var d=i&&n.length>i-1,f=n.some(function(h){return wr(h,u)});return!!(d&&!f)});var c={selected:n,onDayClick:o,modifiers:l};return a.jsx(gv.Provider,{value:c,children:r})}function yv(){var t=y.useContext(gv);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function aW(t,e){var r=e||{},n=r.from,s=r.to;return n&&s?wr(s,t)&&wr(n,t)?void 0:wr(s,t)?{from:s,to:void 0}:wr(n,t)?void 0:mg(n,t)?{from:t,to:s}:{from:n,to:t}:s?mg(t,s)?{from:s,to:t}:{from:t,to:s}:n?HA(t,n)?{from:t,to:n}:{from:n,to:t}:{from:t,to:void 0}}var vv=y.createContext(void 0);function lW(t){if(!du(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return a.jsx(vv.Provider,{value:e,children:t.children})}return a.jsx(cW,{initialProps:t.initialProps,children:t.children})}function cW(t){var e=t.initialProps,r=t.children,n=e.selected,s=n||{},i=s.from,o=s.to,l=e.min,c=e.max,u=function(v,p,g){var b,w;(b=e.onDayClick)===null||b===void 0||b.call(e,v,p,g);var m=aW(v,n);(w=e.onSelect)===null||w===void 0||w.call(e,m,v,p,g)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(d.range_start=[i],o?(d.range_end=[o],wr(i,o)||(d.range_middle=[{after:i,before:o}])):d.range_end=[i]):o&&(d.range_start=[o],d.range_end=[o]),l&&(i&&!o&&d.disabled.push({after:xm(i,l-1),before:tr(i,l-1)}),i&&o&&d.disabled.push({after:i,before:tr(i,l-1)}),!i&&o&&d.disabled.push({after:xm(o,l-1),before:tr(o,l-1)})),c){if(i&&!o&&(d.disabled.push({before:tr(i,-c+1)}),d.disabled.push({after:tr(i,c-1)})),i&&o){var f=Fn(o,i)+1,h=c-f;d.disabled.push({before:xm(i,h)}),d.disabled.push({after:tr(o,h)})}!i&&o&&(d.disabled.push({before:tr(o,-c+1)}),d.disabled.push({after:tr(o,c-1)}))}return a.jsx(vv.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function xv(){var t=y.useContext(vv);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function cd(t){return Array.isArray(t)?KA([],t):t!==void 0?[t]:[]}function uW(t){var e={};return Object.entries(t).forEach(function(r){var n=r[0],s=r[1];e[n]=cd(s)}),e}var jn;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(jn||(jn={}));var dW=jn.Selected,Xn=jn.Disabled,fW=jn.Hidden,hW=jn.Today,bm=jn.RangeEnd,_m=jn.RangeMiddle,Sm=jn.RangeStart,mW=jn.Outside;function pW(t,e,r){var n,s=(n={},n[dW]=cd(t.selected),n[Xn]=cd(t.disabled),n[fW]=cd(t.hidden),n[hW]=[t.today],n[bm]=[],n[_m]=[],n[Sm]=[],n[mW]=[],n);return t.fromDate&&s[Xn].push({before:t.fromDate}),t.toDate&&s[Xn].push({after:t.toDate}),uu(t)?s[Xn]=s[Xn].concat(e.modifiers[Xn]):du(t)&&(s[Xn]=s[Xn].concat(r.modifiers[Xn]),s[Sm]=r.modifiers[Sm],s[_m]=r.modifiers[_m],s[bm]=r.modifiers[bm]),s}var ZA=y.createContext(void 0);function gW(t){var e=Ke(),r=yv(),n=xv(),s=pW(e,r,n),i=uW(e.modifiers),o=fe(fe({},s),i);return a.jsx(ZA.Provider,{value:o,children:t.children})}function XA(){var t=y.useContext(ZA);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function yW(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function vW(t){return!!(t&&typeof t=="object"&&"from"in t)}function xW(t){return!!(t&&typeof t=="object"&&"after"in t)}function wW(t){return!!(t&&typeof t=="object"&&"before"in t)}function bW(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function _W(t,e){var r,n=e.from,s=e.to;if(n&&s){var i=Fn(s,n)<0;i&&(r=[s,n],n=r[0],s=r[1]);var o=Fn(t,n)>=0&&Fn(s,t)>=0;return o}return s?wr(s,t):n?wr(n,t):!1}function SW(t){return fv(t)}function jW(t){return Array.isArray(t)&&t.every(fv)}function kW(t,e){return e.some(function(r){if(typeof r=="boolean")return r;if(SW(r))return wr(t,r);if(jW(r))return r.includes(t);if(vW(r))return _W(t,r);if(bW(r))return r.dayOfWeek.includes(t.getDay());if(yW(r)){var n=Fn(r.before,t),s=Fn(r.after,t),i=n>0,o=s<0,l=mg(r.before,r.after);return l?o&&i:i||o}return xW(r)?Fn(t,r.after)>0:wW(r)?Fn(r.before,t)>0:typeof r=="function"?r(t):!1})}function wv(t,e,r){var n=Object.keys(e).reduce(function(i,o){var l=e[o];return kW(t,l)&&i.push(o),i},[]),s={};return n.forEach(function(i){return s[i]=!0}),r&&!pv(t,r)&&(s.outside=!0),s}function NW(t,e){for(var r=jr(t[0]),n=hv(t[t.length-1]),s,i,o=r;o<=n;){var l=wv(o,e),c=!l.disabled&&!l.hidden;if(!c){o=tr(o,1);continue}if(l.selected)return o;l.today&&!i&&(i=o),s||(s=o),o=tr(o,1)}return i||s}var CW=365;function eO(t,e){var r=e.moveBy,n=e.direction,s=e.context,i=e.modifiers,o=e.retry,l=o===void 0?{count:0,lastFocused:t}:o,c=s.weekStartsOn,u=s.fromDate,d=s.toDate,f=s.locale,h={day:tr,week:hg,month:Sn,year:pV,startOfWeek:function(b){return s.ISOWeek?vo(b):Kn(b,{locale:f,weekStartsOn:c})},endOfWeek:function(b){return s.ISOWeek?UA(b):mv(b,{locale:f,weekStartsOn:c})}},v=h[r](t,n==="after"?1:-1);n==="before"&&u?v=gV([u,v]):n==="after"&&d&&(v=yV([d,v]));var p=!0;if(i){var g=wv(v,i);p=!g.disabled&&!g.hidden}return p?v:l.count>CW?l.lastFocused:eO(v,{moveBy:r,direction:n,context:s,modifiers:i,retry:fe(fe({},l),{count:l.count+1})})}var tO=y.createContext(void 0);function EW(t){var e=fu(),r=XA(),n=y.useState(),s=n[0],i=n[1],o=y.useState(),l=o[0],c=o[1],u=NW(e.displayMonths,r),d=s??(l&&e.isDateDisplayed(l))?l:u,f=function(){c(s),i(void 0)},h=function(b){i(b)},v=Ke(),p=function(b,w){if(s){var m=eO(s,{moveBy:b,direction:w,context:v,modifiers:r});wr(s,m)||(e.goToDate(m,s),h(m))}},g={focusedDay:s,focusTarget:d,blur:f,focus:h,focusDayAfter:function(){return p("day","after")},focusDayBefore:function(){return p("day","before")},focusWeekAfter:function(){return p("week","after")},focusWeekBefore:function(){return p("week","before")},focusMonthBefore:function(){return p("month","before")},focusMonthAfter:function(){return p("month","after")},focusYearBefore:function(){return p("year","before")},focusYearAfter:function(){return p("year","after")},focusStartOfWeek:function(){return p("startOfWeek","before")},focusEndOfWeek:function(){return p("endOfWeek","after")}};return a.jsx(tO.Provider,{value:g,children:t.children})}function bv(){var t=y.useContext(tO);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function PW(t,e){var r=XA(),n=wv(t,r,e);return n}var _v=y.createContext(void 0);function TW(t){if(!uh(t.initialProps)){var e={selected:void 0};return a.jsx(_v.Provider,{value:e,children:t.children})}return a.jsx(AW,{initialProps:t.initialProps,children:t.children})}function AW(t){var e=t.initialProps,r=t.children,n=function(i,o,l){var c,u,d;if((c=e.onDayClick)===null||c===void 0||c.call(e,i,o,l),o.selected&&!e.required){(u=e.onSelect)===null||u===void 0||u.call(e,void 0,i,o,l);return}(d=e.onSelect)===null||d===void 0||d.call(e,i,i,o,l)},s={selected:e.selected,onDayClick:n};return a.jsx(_v.Provider,{value:s,children:r})}function rO(){var t=y.useContext(_v);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function OW(t,e){var r=Ke(),n=rO(),s=yv(),i=xv(),o=bv(),l=o.focusDayAfter,c=o.focusDayBefore,u=o.focusWeekAfter,d=o.focusWeekBefore,f=o.blur,h=o.focus,v=o.focusMonthBefore,p=o.focusMonthAfter,g=o.focusYearBefore,b=o.focusYearAfter,w=o.focusStartOfWeek,m=o.focusEndOfWeek,x=function($){var P,M,K,te;uh(r)?(P=n.onDayClick)===null||P===void 0||P.call(n,t,e,$):uu(r)?(M=s.onDayClick)===null||M===void 0||M.call(s,t,e,$):du(r)?(K=i.onDayClick)===null||K===void 0||K.call(i,t,e,$):(te=r.onDayClick)===null||te===void 0||te.call(r,t,e,$)},_=function($){var P;h(t),(P=r.onDayFocus)===null||P===void 0||P.call(r,t,e,$)},S=function($){var P;f(),(P=r.onDayBlur)===null||P===void 0||P.call(r,t,e,$)},k=function($){var P;(P=r.onDayMouseEnter)===null||P===void 0||P.call(r,t,e,$)},j=function($){var P;(P=r.onDayMouseLeave)===null||P===void 0||P.call(r,t,e,$)},E=function($){var P;(P=r.onDayPointerEnter)===null||P===void 0||P.call(r,t,e,$)},T=function($){var P;(P=r.onDayPointerLeave)===null||P===void 0||P.call(r,t,e,$)},I=function($){var P;(P=r.onDayTouchCancel)===null||P===void 0||P.call(r,t,e,$)},q=function($){var P;(P=r.onDayTouchEnd)===null||P===void 0||P.call(r,t,e,$)},L=function($){var P;(P=r.onDayTouchMove)===null||P===void 0||P.call(r,t,e,$)},O=function($){var P;(P=r.onDayTouchStart)===null||P===void 0||P.call(r,t,e,$)},V=function($){var P;(P=r.onDayKeyUp)===null||P===void 0||P.call(r,t,e,$)},R=function($){var P;switch($.key){case"ArrowLeft":$.preventDefault(),$.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":$.preventDefault(),$.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":$.preventDefault(),$.stopPropagation(),u();break;case"ArrowUp":$.preventDefault(),$.stopPropagation(),d();break;case"PageUp":$.preventDefault(),$.stopPropagation(),$.shiftKey?g():v();break;case"PageDown":$.preventDefault(),$.stopPropagation(),$.shiftKey?b():p();break;case"Home":$.preventDefault(),$.stopPropagation(),w();break;case"End":$.preventDefault(),$.stopPropagation(),m();break}(P=r.onDayKeyDown)===null||P===void 0||P.call(r,t,e,$)},B={onClick:x,onFocus:_,onBlur:S,onKeyDown:R,onKeyUp:V,onMouseEnter:k,onMouseLeave:j,onPointerEnter:E,onPointerLeave:T,onTouchCancel:I,onTouchEnd:q,onTouchMove:L,onTouchStart:O};return B}function RW(){var t=Ke(),e=rO(),r=yv(),n=xv(),s=uh(t)?e.selected:uu(t)?r.selected:du(t)?n.selected:void 0;return s}function DW(t){return Object.values(jn).includes(t)}function IW(t,e){var r=[t.classNames.day];return Object.keys(e).forEach(function(n){var s=t.modifiersClassNames[n];if(s)r.push(s);else if(DW(n)){var i=t.classNames["day_".concat(n)];i&&r.push(i)}}),r}function MW(t,e){var r=fe({},t.styles.day);return Object.keys(e).forEach(function(n){var s;r=fe(fe({},r),(s=t.modifiersStyles)===null||s===void 0?void 0:s[n])}),r}function LW(t,e,r){var n,s,i,o=Ke(),l=bv(),c=PW(t,e),u=OW(t,c),d=RW(),f=!!(o.onDayClick||o.mode!=="default");y.useEffect(function(){var k;c.outside||l.focusedDay&&f&&wr(l.focusedDay,t)&&((k=r.current)===null||k===void 0||k.focus())},[l.focusedDay,t,r,f,c.outside]);var h=IW(o,c).join(" "),v=MW(o,c),p=!!(c.outside&&!o.showOutsideDays||c.hidden),g=(i=(s=o.components)===null||s===void 0?void 0:s.DayContent)!==null&&i!==void 0?i:sW,b=a.jsx(g,{date:t,displayMonth:e,activeModifiers:c}),w={style:v,className:h,children:b,role:"gridcell"},m=l.focusTarget&&wr(l.focusTarget,t)&&!c.outside,x=l.focusedDay&&wr(l.focusedDay,t),_=fe(fe(fe({},w),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=x||m?0:-1,n)),u),S={isButton:f,isHidden:p,activeModifiers:c,selectedDays:d,buttonProps:_,divProps:w};return S}function FW(t){var e=y.useRef(null),r=LW(t.date,t.displayMonth,e);return r.isHidden?a.jsx("div",{role:"gridcell"}):r.isButton?a.jsx(vf,fe({name:"day",ref:e},r.buttonProps)):a.jsx("div",fe({},r.divProps))}function $W(t){var e=t.number,r=t.dates,n=Ke(),s=n.onWeekNumberClick,i=n.styles,o=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(e),{locale:l});if(!s)return a.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:d});var f=c(Number(e),{locale:l}),h=function(v){s(e,r,v)};return a.jsx(vf,{name:"week-number","aria-label":f,className:o.weeknumber,style:i.weeknumber,onClick:h,children:d})}function UW(t){var e,r,n=Ke(),s=n.styles,i=n.classNames,o=n.showWeekNumber,l=n.components,c=(e=l==null?void 0:l.Day)!==null&&e!==void 0?e:FW,u=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:$W,d;return o&&(d=a.jsx("td",{className:i.cell,style:s.cell,children:a.jsx(u,{number:t.weekNumber,dates:t.dates})})),a.jsxs("tr",{className:i.row,style:s.row,children:[d,t.dates.map(function(f){return a.jsx("td",{className:i.cell,style:s.cell,role:"presentation",children:a.jsx(c,{displayMonth:t.displayMonth,date:f})},g9(f))})]})}function Dw(t,e,r){for(var n=r!=null&&r.ISOWeek?UA(e):mv(e,r),s=r!=null&&r.ISOWeek?vo(t):Kn(t,r),i=Fn(n,s),o=[],l=0;l<=i;l++)o.push(tr(s,l));var c=o.reduce(function(u,d){var f=r!=null&&r.ISOWeek?zA(d):WA(d,r),h=u.find(function(v){return v.weekNumber===f});return h?(h.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function BW(t,e){var r=Dw(jr(t),hv(t),e);if(e!=null&&e.useFixedWeeks){var n=v9(t,e);if(n<6){var s=r[r.length-1],i=s.dates[s.dates.length-1],o=hg(i,6-n),l=Dw(hg(i,1),o,e);r.push.apply(r,l)}}return r}function zW(t){var e,r,n,s=Ke(),i=s.locale,o=s.classNames,l=s.styles,c=s.hideHead,u=s.fixedWeeks,d=s.components,f=s.weekStartsOn,h=s.firstWeekContainsDate,v=s.ISOWeek,p=BW(t.displayMonth,{useFixedWeeks:!!u,ISOWeek:v,locale:i,weekStartsOn:f,firstWeekContainsDate:h}),g=(e=d==null?void 0:d.Head)!==null&&e!==void 0?e:nW,b=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:UW,w=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:eW;return a.jsxs("table",{id:t.id,className:o.table,style:l.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!c&&a.jsx(g,{}),a.jsx("tbody",{className:o.tbody,style:l.tbody,children:p.map(function(m){return a.jsx(b,{displayMonth:t.displayMonth,dates:m.dates,weekNumber:m.weekNumber},m.weekNumber)})}),a.jsx(w,{displayMonth:t.displayMonth})]})}function VW(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var WW=VW()?y.useLayoutEffect:y.useEffect,jm=!1,qW=0;function Iw(){return"react-day-picker-".concat(++qW)}function HW(t){var e,r=t??(jm?Iw():null),n=y.useState(r),s=n[0],i=n[1];return WW(function(){s===null&&i(Iw())},[]),y.useEffect(function(){jm===!1&&(jm=!0)},[]),(e=t??s)!==null&&e!==void 0?e:void 0}function KW(t){var e,r,n=Ke(),s=n.dir,i=n.classNames,o=n.styles,l=n.components,c=fu().displayMonths,u=HW(n.id?"".concat(n.id,"-").concat(t.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(t.displayIndex):void 0,f=[i.month],h=o.month,v=t.displayIndex===0,p=t.displayIndex===c.length-1,g=!v&&!p;s==="rtl"&&(e=[v,p],p=e[0],v=e[1]),v&&(f.push(i.caption_start),h=fe(fe({},h),o.caption_start)),p&&(f.push(i.caption_end),h=fe(fe({},h),o.caption_end)),g&&(f.push(i.caption_between),h=fe(fe({},h),o.caption_between));var b=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:X9;return a.jsxs("div",{className:f.join(" "),style:h,children:[a.jsx(b,{id:u,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),a.jsx(zW,{id:d,"aria-labelledby":u,displayMonth:t.displayMonth})]},t.displayIndex)}function GW(t){var e=Ke(),r=e.classNames,n=e.styles;return a.jsx("div",{className:r.months,style:n.months,children:t.children})}function QW(t){var e,r,n=t.initialProps,s=Ke(),i=bv(),o=fu(),l=y.useState(!1),c=l[0],u=l[1];y.useEffect(function(){s.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),u(!0)))},[s.initialFocus,c,i.focus,i.focusTarget,i]);var d=[s.classNames.root,s.className];s.numberOfMonths>1&&d.push(s.classNames.multiple_months),s.showWeekNumber&&d.push(s.classNames.with_weeknumber);var f=fe(fe({},s.styles.root),s.style),h=Object.keys(n).filter(function(p){return p.startsWith("data-")}).reduce(function(p,g){var b;return fe(fe({},p),(b={},b[g]=n[g],b))},{}),v=(r=(e=n.components)===null||e===void 0?void 0:e.Months)!==null&&r!==void 0?r:GW;return a.jsx("div",fe({className:d.join(" "),style:f,dir:s.dir,id:s.id,nonce:n.nonce,title:n.title,lang:n.lang},h,{children:a.jsx(v,{children:o.displayMonths.map(function(p,g){return a.jsx(KW,{displayIndex:g,displayMonth:p},g)})})}))}function YW(t){var e=t.children,r=w9(t,["children"]);return a.jsx($9,{initialProps:r,children:a.jsx(Q9,{children:a.jsx(TW,{initialProps:r,children:a.jsx(iW,{initialProps:r,children:a.jsx(lW,{initialProps:r,children:a.jsx(gW,{children:a.jsx(EW,{children:e})})})})})})})}function JW(t){return a.jsx(YW,fe({},t,{children:a.jsx(QW,{initialProps:t})}))}function nO({className:t,classNames:e,showOutsideDays:r=!0,...n}){return a.jsx(JW,{showOutsideDays:r,className:ue("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:ue(wc({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:ue(wc({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({className:s,...i})=>a.jsx(oF,{className:ue("h-4 w-4",s),...i}),IconRight:({className:s,...i})=>a.jsx(QN,{className:ue("h-4 w-4",s),...i})},...n})}nO.displayName="Calendar";var Sv="Popover",[sO,t7]=Gn(Sv,[al]),hu=al(),[ZW,Ci]=sO(Sv),iO=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!1}=t,l=hu(e),c=y.useRef(null),[u,d]=y.useState(!1),[f=!1,h]=Ba({prop:n,defaultProp:s,onChange:i});return a.jsx(Ry,{...l,children:a.jsx(ZW,{scope:e,contentId:Bn(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:y.useCallback(()=>h(v=>!v),[h]),hasCustomAnchor:u,onCustomAnchorAdd:y.useCallback(()=>d(!0),[]),onCustomAnchorRemove:y.useCallback(()=>d(!1),[]),modal:o,children:r})})};iO.displayName=Sv;var oO="PopoverAnchor",XW=y.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=Ci(oO,r),i=hu(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=s;return y.useEffect(()=>(o(),()=>l()),[o,l]),a.jsx(Yf,{...i,...n,ref:e})});XW.displayName=oO;var aO="PopoverTrigger",lO=y.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=Ci(aO,r),i=hu(r),o=Ie(e,s.triggerRef),l=a.jsx(Se.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":hO(s.open),...n,ref:o,onClick:ne(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:a.jsx(Yf,{asChild:!0,...i,children:l})});lO.displayName=aO;var jv="PopoverPortal",[eq,tq]=sO(jv,{forceMount:void 0}),cO=t=>{const{__scopePopover:e,forceMount:r,children:n,container:s}=t,i=Ci(jv,e);return a.jsx(eq,{scope:e,forceMount:r,children:a.jsx(Yn,{present:r||i.open,children:a.jsx(eu,{asChild:!0,container:s,children:n})})})};cO.displayName=jv;var Ga="PopoverContent",uO=y.forwardRef((t,e)=>{const r=tq(Ga,t.__scopePopover),{forceMount:n=r.forceMount,...s}=t,i=Ci(Ga,t.__scopePopover);return a.jsx(Yn,{present:n||i.open,children:i.modal?a.jsx(nq,{...s,ref:e}):a.jsx(sq,{...s,ref:e})})});uO.displayName=Ga;var rq=fi("PopoverContent.RemoveScroll"),nq=y.forwardRef((t,e)=>{const r=Ci(Ga,t.__scopePopover),n=y.useRef(null),s=Ie(e,n),i=y.useRef(!1);return y.useEffect(()=>{const o=n.current;if(o)return Zf(o)},[]),a.jsx(tu,{as:rq,allowPinchZoom:!0,children:a.jsx(dO,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ne(t.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:ne(t.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:ne(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),sq=y.forwardRef((t,e)=>{const r=Ci(Ga,t.__scopePopover),n=y.useRef(!1),s=y.useRef(!1);return a.jsx(dO,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),dO=y.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=t,h=Ci(Ga,r),v=hu(r);return Hf(),a.jsx(Zc,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(Jc,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:a.jsx(Dy,{"data-state":hO(h.open),role:"dialog",id:h.contentId,...v,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),fO="PopoverClose",iq=y.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=Ci(fO,r);return a.jsx(Se.button,{type:"button",...n,ref:e,onClick:ne(t.onClick,()=>s.onOpenChange(!1))})});iq.displayName=fO;var oq="PopoverArrow",aq=y.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=hu(r);return a.jsx(Iy,{...s,...n,ref:e})});aq.displayName=oq;function hO(t){return t?"open":"closed"}var lq=iO,cq=lO,uq=cO,mO=uO;const dq=lq,fq=cq,pO=y.forwardRef(({className:t,align:e="center",sideOffset:r=4,...n},s)=>a.jsx(uq,{children:a.jsx(mO,{ref:s,align:e,sideOffset:r,className:ue("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",t),...n})}));pO.displayName=mO.displayName;function hq(){const{toast:t}=Ft(),{user:e}=fr(),[r,n]=y.useState(null),[s,i]=y.useState(!1),{data:o=[],isLoading:l}=Xe({queryKey:["belts",e==null?void 0:e.id],queryFn:()=>zs.getAll(e.id),enabled:!!(e!=null&&e.id)}),{data:c}=Xe({queryKey:["belts","current",e==null?void 0:e.id],queryFn:()=>zs.getCurrent(e.id),enabled:!!(e!=null&&e.id)}),u=nf({resolver:sf(aV),defaultValues:{belt:"white",stripes:0,promotionDate:new Date,instructor:"",notes:""}}),d=We({mutationFn:async m=>{if(!(e!=null&&e.id))throw new Error("User not authenticated");const x={belt:m.belt,stripes:m.stripes||0,promotionDate:m.promotionDate.toISOString().split("T")[0],instructor:m.instructor||"",notes:m.notes||""};return await zs.create(e.id,x)},onSuccess:()=>{Ar.invalidateQueries({queryKey:["belts",e==null?void 0:e.id]}),Ar.invalidateQueries({queryKey:["belts","current",e==null?void 0:e.id]}),u.reset(),i(!1),t({title:"Belt promotion added!",description:"Your belt progression has been recorded."})},onError:m=>{console.error("Create belt mutation error:",m),t({title:"Error",description:"Failed to add belt promotion. Please try again.",variant:"destructive"})}}),f=We({mutationFn:async({id:m,data:x})=>{if(!(e!=null&&e.id))throw new Error("User not authenticated");const _={belt:x.belt,stripes:x.stripes||0,promotionDate:x.promotionDate.toISOString().split("T")[0],instructor:x.instructor||"",notes:x.notes||""};return await zs.update(m,e.id,_)},onSuccess:()=>{Ar.invalidateQueries({queryKey:["belts",e==null?void 0:e.id]}),Ar.invalidateQueries({queryKey:["belts","current",e==null?void 0:e.id]}),u.reset(),i(!1),n(null),t({title:"Belt updated!",description:"Your belt progression has been updated."})},onError:m=>{console.error("Update belt mutation error:",m),t({title:"Error",description:"Failed to update belt. Please try again.",variant:"destructive"})}}),h=We({mutationFn:async m=>{if(!(e!=null&&e.id))throw new Error("User not authenticated");return await zs.delete(m,e.id)},onSuccess:()=>{Ar.invalidateQueries({queryKey:["belts",e==null?void 0:e.id]}),Ar.invalidateQueries({queryKey:["belts","current",e==null?void 0:e.id]}),t({title:"Belt promotion deleted",description:"The belt promotion has been removed."})},onError:m=>{console.error("Delete belt mutation error:",m),t({title:"Error",description:"Failed to delete belt promotion. Please try again.",variant:"destructive"})}}),v=m=>{r?f.mutate({id:r.id,data:m}):d.mutate(m)},p=m=>{n(m),i(!0),u.setValue("belt",m.belt),u.setValue("stripes",m.stripes);const x=m.promotion_date||m.promotionDate;u.setValue("promotionDate",new Date(x)),u.setValue("instructor",m.instructor||""),u.setValue("notes",m.notes||"")},g=()=>{n(null),i(!1),u.reset()},b=m=>{const x=(m==null?void 0:m.promotion_date)||(m==null?void 0:m.promotionDate)||m;return x?Ss(new Date(x),"MMM d, yyyy"):"N/A"},w=({belt:m,stripes:x,size:_="md"})=>{const S={sm:"w-16 h-4",md:"w-24 h-6",lg:"w-32 h-8"},k={sm:"w-1 h-3",md:"w-1.5 h-4",lg:"w-2 h-5"},j=T=>({white:"bg-white border-2 border-gray-400",blue:"bg-blue-600",purple:"bg-purple-600",brown:"bg-amber-800",black:"bg-black"})[T]||"bg-gray-400",E=T=>({white:"bg-gray-800",blue:"bg-blue-800",purple:"bg-purple-800",brown:"bg-amber-900",black:"bg-gray-900"})[T]||"bg-gray-600";return a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:`${j(m)} ${S[_]} rounded-sm shadow-md relative flex items-center justify-center`,children:[a.jsx("div",{className:`${E(m)} absolute left-0 top-0 bottom-0 w-2 rounded-l-sm`}),a.jsx("span",{className:`${m==="white"?"text-black":"text-white"} font-bold text-xs`,children:"BJJ"}),a.jsx("div",{className:"absolute right-1 top-1/2 transform -translate-y-1/2 flex gap-0.5",children:Array.from({length:x}).map((T,I)=>a.jsx("div",{className:`${k[_]} bg-gray-300 rounded-sm`},I))})]}),a.jsxs("div",{className:"text-sm font-medium capitalize text-black",children:[m," Belt ",x>0&&`(${x} stripe${x!==1?"s":""})`]})]})};return l?a.jsx("div",{className:"p-6 max-w-4xl mx-auto",children:a.jsxs("div",{className:"animate-pulse space-y-4",children:[a.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),a.jsx("div",{className:"h-32 bg-gray-200 rounded"}),a.jsx("div",{className:"h-32 bg-gray-200 rounded"})]})}):a.jsxs("div",{className:"p-6 max-w-4xl mx-auto space-y-6",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800 dark:text-white mb-2",children:"Belt Progression"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Track your BJJ belt promotions and achievements"})]}),a.jsxs(vt,{className:"bg-gradient-to-r from-bjj-navy to-blue-800 text-white",children:[a.jsx(sr,{children:a.jsxs(ir,{className:"flex items-center gap-2",children:[a.jsx(Gl,{className:"h-6 w-6"}),"Current Belt Status"]})}),a.jsx(Dt,{children:c?a.jsx("div",{className:"flex items-center justify-center",children:a.jsx(w,{belt:c.belt,stripes:c.stripes,size:"lg"})}):a.jsxs("div",{className:"text-center py-4",children:[a.jsx("p",{className:"text-gray-300",children:"No current belt recorded"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Add your first belt promotion below"})]})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white flex items-center gap-2",children:[a.jsx(Gl,{className:"h-6 w-6"}),"Promotion History"]}),o.length===0?a.jsxs(vt,{className:"p-8 text-center",children:[a.jsx(Gl,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No promotions recorded yet"}),a.jsx("p",{className:"text-gray-500",children:"Add your first belt promotion below!"})]}):a.jsx("div",{className:"space-y-3",children:o.map(m=>a.jsx(vt,{className:"bg-gradient-to-r from-white to-gray-50 border border-gray-200 hover:shadow-md transition-shadow",children:a.jsx(Dt,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(w,{belt:m.belt,stripes:m.stripes,size:"md"}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mt-1",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Sx,{className:"w-4 h-4"}),b(m.promotionDate)]}),m.instructor&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Vd,{className:"w-4 h-4"}),m.instructor]})]}),m.notes&&a.jsx("p",{className:"text-sm text-gray-600 mt-2 max-w-md",children:m.notes})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx($e,{variant:"outline",size:"sm",onClick:()=>p(m),className:"text-blue-600 hover:text-blue-700 bg-white border-2 border-blue-200 hover:bg-blue-50",style:{position:"relative",zIndex:100,backgroundColor:"white",border:"2px solid #dbeafe"},children:a.jsx(kx,{className:"w-4 h-4"})}),a.jsx($e,{variant:"outline",size:"sm",onClick:()=>{confirm("Are you sure you want to delete this belt promotion?")&&h.mutate(m.id)},className:"text-red-600 hover:text-red-700 bg-white border-2 border-red-200 hover:bg-red-50",style:{position:"relative",zIndex:100,backgroundColor:"white",border:"2px solid #fecaca"},children:a.jsx(co,{className:"w-4 h-4"})})]})]})})},m.id))})]}),a.jsx("div",{className:"flex justify-center mt-8",children:a.jsx($e,{onClick:()=>i(!0),className:"bg-bjj-red hover:bg-red-600 text-white px-8 py-3 text-lg border-2 border-bjj-red",size:"lg",style:{position:"relative",zIndex:100,backgroundColor:"#dc2626",borderColor:"#dc2626"},children:c?"Update Belt Status":"Add First Belt"})}),s&&a.jsxs(vt,{className:"bg-gradient-to-br from-white to-gray-50 border border-gray-200 shadow-lg mt-6",children:[a.jsxs(sr,{children:[a.jsxs(ir,{className:"flex items-center gap-2 text-gray-800 dark:text-white",children:[r?a.jsx(kx,{className:"h-5 w-5"}):a.jsx(yF,{className:"h-5 w-5"}),r?"Edit Belt Promotion":"Add Belt Promotion"]}),a.jsx(gi,{children:r?"Update your belt promotion details":"Record your belt or stripe promotion"})]}),a.jsx(Dt,{className:"bg-white relative",children:a.jsx(uV,{...u,children:a.jsxs("form",{onSubmit:u.handleSubmit(v),className:"space-y-4 bg-white relative",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(Sl,{control:u.control,name:"belt",render:({field:m})=>a.jsxs(Uo,{children:[a.jsx(Bo,{className:"text-black",children:"Belt Color"}),a.jsxs(nw,{onValueChange:m.onChange,value:m.value,children:[a.jsx(zo,{children:a.jsx(sg,{className:"bg-white text-black",children:a.jsx(sw,{placeholder:"Select belt color"})})}),a.jsxs(ig,{className:"bg-white text-black",children:[a.jsx(nn,{value:"white",className:"text-black",children:"White Belt"}),a.jsx(nn,{value:"blue",className:"text-black",children:"Blue Belt"}),a.jsx(nn,{value:"purple",className:"text-black",children:"Purple Belt"}),a.jsx(nn,{value:"brown",className:"text-black",children:"Brown Belt"}),a.jsx(nn,{value:"black",className:"text-black",children:"Black Belt"})]})]}),a.jsx(Vo,{})]})}),a.jsx(Sl,{control:u.control,name:"stripes",render:({field:m})=>{var x;return a.jsxs(Uo,{children:[a.jsx(Bo,{className:"text-black",children:"Stripes"}),a.jsxs(nw,{onValueChange:_=>m.onChange(parseInt(_)),value:(x=m.value)==null?void 0:x.toString(),children:[a.jsx(zo,{children:a.jsx(sg,{className:"bg-white text-black",children:a.jsx(sw,{placeholder:"Number of stripes"})})}),a.jsxs(ig,{className:"bg-white text-black",children:[a.jsx(nn,{value:"0",className:"text-black",children:"No Stripes"}),a.jsx(nn,{value:"1",className:"text-black",children:"1 Stripe"}),a.jsx(nn,{value:"2",className:"text-black",children:"2 Stripes"}),a.jsx(nn,{value:"3",className:"text-black",children:"3 Stripes"}),a.jsx(nn,{value:"4",className:"text-black",children:"4 Stripes"})]})]}),a.jsx(Vo,{})]})}}),a.jsx(Sl,{control:u.control,name:"promotionDate",render:({field:m})=>a.jsxs(Uo,{className:"flex flex-col",children:[a.jsx(Bo,{className:"text-black",children:"Promotion Date"}),a.jsxs(dq,{modal:!0,children:[a.jsx(fq,{asChild:!0,children:a.jsx(zo,{children:a.jsxs($e,{variant:"outline",className:ue("w-full pl-3 text-left font-normal bg-white text-black",!m.value&&"text-gray-500"),children:[m.value?Ss(m.value,"PPP"):a.jsx("span",{children:"Pick a date"}),a.jsx(Sx,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),a.jsx(pO,{className:"w-auto p-0",align:"start",side:"top",sideOffset:5,children:a.jsx(nO,{mode:"single",selected:m.value,onSelect:m.onChange,disabled:x=>x>new Date||x<new Date("1900-01-01"),initialFocus:!0})})]}),a.jsx(Vo,{})]})}),a.jsx(Sl,{control:u.control,name:"instructor",render:({field:m})=>a.jsxs(Uo,{children:[a.jsx(Bo,{className:"text-black",children:"Instructor (Optional)"}),a.jsx(zo,{children:a.jsx(rr,{placeholder:"Professor who promoted you",className:"bg-white text-black",...m})}),a.jsx(Vo,{})]})})]}),a.jsx(Sl,{control:u.control,name:"notes",render:({field:m})=>a.jsxs(Uo,{children:[a.jsx(Bo,{className:"text-black",children:"Notes (Optional)"}),a.jsx(zo,{children:a.jsx(Jy,{placeholder:"Add any notes about this promotion...",className:"resize-none bg-white text-black",...m})}),a.jsx(Vo,{})]})})]})})}),a.jsx("div",{className:"px-6 pb-6 bg-white",children:a.jsxs("div",{className:"flex gap-3 justify-end pt-4 border-t border-gray-200",children:[a.jsx($e,{type:"button",variant:"outline",onClick:g,className:"px-6 bg-white border-gray-300 text-gray-700 hover:bg-gray-50",style:{position:"relative",zIndex:1e3,backgroundColor:"white",border:"2px solid #d1d5db"},children:"Cancel"}),a.jsx($e,{type:"button",onClick:()=>{const m=u.getValues();r?f.mutate({id:r.id,data:m}):d.mutate(m)},disabled:d.isPending||f.isPending,className:"px-8 text-white border-2",style:{position:"relative",zIndex:1e3,backgroundColor:"#dc2626",borderColor:"#dc2626"},children:r?f.isPending?"Updating...":"Update Promotion":d.isPending?"Adding...":"Add Promotion"})]})})]})]})}function mq(){const[t,e]=y.useState("community"),{toast:r}=Ft(),n=ks(),{user:s}=fr(),{data:i}=Xe({queryKey:["/api/my-gym"],staleTime:6e4}),{data:o=[],isLoading:l}=Xe({queryKey:["/api/notes/shared"],staleTime:3e4}),{data:c=[],isLoading:u}=Xe({queryKey:["/api/gym-notes"],enabled:!!i,staleTime:3e4}),d=We({mutationFn:async({noteId:p,isLiked:g})=>g?await Rt("DELETE",`/api/notes/${p}/like`):await Rt("POST",`/api/notes/${p}/like`),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/notes/shared"]})},onError:p=>{r({title:"Error",description:"Failed to update like status",variant:"destructive"})}}),f=We({mutationFn:async p=>await Rt("DELETE",`/api/notes/${p}/admin`),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/notes/shared"]}),r({title:"Note Removed",description:"The inappropriate note has been removed from the community."})},onError:p=>{r({title:"Error",description:"Failed to remove note",variant:"destructive"})}}),h=We({mutationFn:async p=>await Rt("DELETE",`/api/gym-notes/${p}`),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/gym-notes"]}),r({title:"Note Deleted",description:"The gym note has been deleted successfully."})},onError:p=>{r({title:"Error",description:p.message||"Failed to delete gym note",variant:"destructive"})}}),v=(s==null?void 0:s.role)==="admin";return a.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Social"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(as,{className:"w-6 h-6 text-blue-600"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Connect with training partners"})]})]}),a.jsxs("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg mb-6",children:[a.jsx("button",{onClick:()=>e("community"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${t==="community"?"bg-white text-black shadow-sm":"text-gray-600 hover:text-gray-900"}`,"data-testid":"tab-community",children:"Community"}),i&&a.jsx("button",{onClick:()=>e("my-gym"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${t==="my-gym"?"bg-white text-black shadow-sm":"text-gray-600 hover:text-gray-900"}`,"data-testid":"tab-my-gym",children:"My Gym"}),a.jsx("button",{onClick:()=>e("friends"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${t==="friends"?"bg-white text-black shadow-sm":"text-gray-600 hover:text-gray-900"}`,"data-testid":"tab-friends",children:"Friends"})]}),t==="community"&&a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[a.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[a.jsx(Vp,{className:"w-5 h-5 text-blue-600"}),"Community Shared Notes"]}),l?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full mx-auto"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Loading community notes..."})]}):o.length>0?a.jsx("div",{className:"space-y-4",children:o.map(p=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"font-semibold text-black",children:p.title}),a.jsxs("div",{className:"text-xs text-gray-500",children:["by ",p.author?`${p.author.firstName} ${p.author.lastName}`:"Unknown User"]})]}),a.jsx("div",{className:"w-full",children:a.jsx("p",{className:"text-gray-600 text-sm leading-relaxed whitespace-pre-wrap break-words",children:p.content})}),p.videoUrl&&a.jsxs("div",{className:"mt-3",children:[a.jsxs("video",{controls:!0,className:"w-full max-w-md rounded-lg shadow-sm",style:{maxHeight:"300px"},children:[a.jsx("source",{src:p.videoUrl,type:"video/mp4"}),"Your browser does not support the video tag."]}),p.videoFileName&&a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["📹 ",p.videoFileName]})]}),p.tags&&p.tags.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1",children:p.tags.map((g,b)=>a.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded",children:g},b))}),a.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-100",children:[a.jsxs("div",{className:"text-xs text-gray-400",children:["Shared ",new Date(p.createdAt).toLocaleDateString()]}),a.jsxs("div",{className:"flex items-center gap-3 text-gray-500 text-sm",children:[a.jsxs("button",{onClick:()=>d.mutate({noteId:p.id,isLiked:p.isLikedByUser||!1}),disabled:d.isPending,className:`flex items-center gap-1 transition-colors ${p.isLikedByUser?"text-red-500 hover:text-red-600":"hover:text-red-500"}`,children:[a.jsx(hF,{className:`w-4 h-4 ${p.isLikedByUser?"fill-current":""}`}),a.jsx("span",{children:p.likeCount||0})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(yc,{className:"w-4 h-4"}),a.jsx("span",{children:"0"})]}),v&&a.jsxs("button",{onClick:()=>{confirm("Are you sure you want to delete this note? This action cannot be undone.")&&f.mutate(p.id)},disabled:f.isPending,className:"flex items-center gap-1 text-red-500 hover:text-red-600 transition-colors",title:"Remove inappropriate content",children:[a.jsx(co,{className:"w-4 h-4"}),a.jsx("span",{className:"text-xs",children:"Remove"})]})]})]})]})},p.id))}):a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(Vp,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),a.jsx("p",{children:"No shared notes yet."}),a.jsx("p",{className:"text-sm",children:"Be the first to share your knowledge with the community!"})]})]})}),t==="my-gym"&&a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[a.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[a.jsx(as,{className:"w-5 h-5 text-blue-600"}),(i==null?void 0:i.name)||"My Gym"," - Shared Notes"]}),u?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full mx-auto"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Loading gym notes..."})]}):c.length>0?a.jsx("div",{className:"space-y-4",children:c.map(p=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"font-semibold text-black",children:p.title}),a.jsxs("div",{className:"text-xs text-gray-500",children:["by ",p.author?`${p.author.firstName} ${p.author.lastName}`:"Unknown User"]})]}),a.jsx("div",{className:"w-full",children:a.jsx("p",{className:"text-gray-600 text-sm leading-relaxed whitespace-pre-wrap break-words",children:p.content})}),p.videoUrl&&a.jsxs("div",{className:"mt-3",children:[a.jsxs("video",{controls:!0,className:"w-full max-w-md rounded-lg shadow-sm",style:{maxHeight:"300px"},children:[a.jsx("source",{src:p.videoUrl,type:"video/mp4"}),"Your browser does not support the video tag."]}),p.videoFileName&&a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["📹 ",p.videoFileName]})]}),p.tags&&p.tags.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1",children:p.tags.map((g,b)=>a.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded",children:g},b))}),a.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-100",children:[a.jsxs("div",{className:"text-xs text-gray-400",children:["Shared ",new Date(p.createdAt).toLocaleDateString()]}),(v||(i==null?void 0:i.role)==="admin")&&a.jsxs("button",{onClick:()=>{confirm("Are you sure you want to delete this gym note? This action cannot be undone.")&&h.mutate(p.id)},disabled:h.isPending,className:"flex items-center gap-1 text-red-500 hover:text-red-600 transition-colors",title:"Delete gym note","data-testid":`button-delete-gym-note-${p.id}`,children:[a.jsx(co,{className:"w-4 h-4"}),a.jsx("span",{className:"text-xs",children:"Delete"})]})]})]})},p.id))}):a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(as,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),a.jsx("p",{children:"No gym notes yet."}),a.jsx("p",{className:"text-sm",children:"Share your first note with your gym community!"})]})]})}),t==="friends"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[a.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[a.jsx(as,{className:"w-5 h-5 text-blue-600"}),"Training Partners"]}),a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(as,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),a.jsx("p",{children:"No training partners connected yet."}),a.jsx("p",{className:"text-sm",children:"Invite your training partners to start sharing notes and progress!"})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Find Training Partners"}),a.jsxs("div",{className:"text-center py-6 text-gray-500",children:[a.jsx("p",{children:"Feature coming soon!"}),a.jsx("p",{className:"text-sm",children:"Soon you'll be able to find training partners near you."})]})]})]})]})}function pq(){const[t,e]=y.useState(!1),[r,n]=y.useState({title:"",description:"",category:"technique",tags:"",videoUrl:""}),{toast:s}=Ft(),i=ks(),o=We({mutationFn:async u=>await Rt("POST","/api/training-videos",u),onSuccess:()=>{i.invalidateQueries({queryKey:["/api/training-videos"]}),e(!1),n({title:"",description:"",category:"technique",tags:"",videoUrl:""}),s({title:"Success",description:"Video added successfully!"})},onError:u=>{s({title:"Error",description:"Failed to add video",variant:"destructive"})}}),l=u=>{if(u.preventDefault(),!r.title.trim()||!r.videoUrl.trim()){s({title:"Error",description:"Please provide both title and video URL",variant:"destructive"});return}const d={title:r.title,description:r.description||"",videoUrl:r.videoUrl,category:r.category,tags:r.tags?r.tags.split(",").map(f=>f.trim()).filter(f=>f.length>0):[],uploadedBy:1,isPublic:1};o.mutate(d)},c=u=>{const{name:d,value:f}=u.target;n(h=>({...h,[d]:f}))};return a.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-black",children:"My Videos"}),a.jsx("button",{onClick:()=>e(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",children:"Add Video"})]}),t&&a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-xl font-bold text-black",children:"Add Training Video"}),a.jsx("button",{onClick:()=>e(!1),className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),a.jsxs("form",{onSubmit:l,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"Title *"}),a.jsx("input",{type:"text",name:"title",value:r.title,onChange:c,placeholder:"Enter video title",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-black",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"Video URL *"}),a.jsx("input",{type:"url",name:"videoUrl",value:r.videoUrl,onChange:c,placeholder:"https://youtube.com/watch?v=... or other video URL",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-black",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"Category"}),a.jsxs("select",{name:"category",value:r.category,onChange:c,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-black",children:[a.jsx("option",{value:"technique",children:"Technique"}),a.jsx("option",{value:"drilling",children:"Drilling"}),a.jsx("option",{value:"sparring",children:"Sparring"}),a.jsx("option",{value:"competition",children:"Competition"}),a.jsx("option",{value:"tutorial",children:"Tutorial"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"Description"}),a.jsx("textarea",{name:"description",value:r.description,onChange:c,placeholder:"Describe the video content...",rows:3,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-black"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"Tags (comma-separated)"}),a.jsx("input",{type:"text",name:"tags",value:r.tags,onChange:c,placeholder:"guard, submission, bjj",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-black"})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx("button",{type:"submit",disabled:o.isPending,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg disabled:opacity-50",children:o.isPending?"Adding...":"Add Video"}),a.jsx("button",{type:"button",onClick:()=>e(!1),className:"bg-gray-300 hover:bg-gray-400 text-gray-700 px-6 py-2 rounded-lg",children:"Cancel"})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[a.jsx("h3",{className:"text-lg font-semibold text-black mb-4",children:"Your Training Videos"}),a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx("p",{children:"No videos uploaded yet."}),a.jsx("p",{className:"text-sm",children:'Click "Add Video" to share your training footage!'})]})]})]})}function gq(){const t=y.useRef(null),[e,r]=y.useState(!1),[n,s]=y.useState("#000000"),[i,o]=y.useState(3),{toast:l}=Ft(),{user:c}=fr(),u=ks(),{data:d=[]}=Xe({queryKey:["drawings",c==null?void 0:c.id],queryFn:()=>_x.getAll(c.id),enabled:!!(c!=null&&c.id)}),f=We({mutationFn:async m=>{if(!(c!=null&&c.id))throw new Error("User not authenticated");return await _x.create(c.id,m)},onSuccess:()=>{u.invalidateQueries({queryKey:["drawings",c==null?void 0:c.id]}),l({title:"Drawing Saved!",description:"Your technique diagram has been saved."}),g()},onError:m=>{l({title:"Error",description:"Failed to save drawing. Please try again.",variant:"destructive"})}});y.useEffect(()=>{const m=t.current;if(!m)return;const x=m.getContext("2d");x&&(m.width=m.offsetWidth,m.height=400,x.lineCap="round",x.lineJoin="round",x.strokeStyle=n,x.lineWidth=i,x.fillStyle="white",x.fillRect(0,0,m.width,m.height))},[]),y.useEffect(()=>{const m=t.current;if(!m)return;const x=m.getContext("2d");x&&(x.strokeStyle=n,x.lineWidth=i)},[n,i]);const h=m=>{r(!0);const x=t.current;if(!x)return;const _=x.getBoundingClientRect(),S=m.clientX-_.left,k=m.clientY-_.top,j=x.getContext("2d");j&&(j.beginPath(),j.moveTo(S,k))},v=m=>{if(!e)return;const x=t.current;if(!x)return;const _=x.getBoundingClientRect(),S=m.clientX-_.left,k=m.clientY-_.top,j=x.getContext("2d");j&&(j.lineTo(S,k),j.stroke())},p=()=>{r(!1)},g=()=>{const m=t.current;if(!m)return;const x=m.getContext("2d");x&&(x.fillStyle="white",x.fillRect(0,0,m.width,m.height))},b=()=>{const m=t.current;if(!m)return;const x=m.toDataURL();f.mutate({imageData:x})},w=["#000000","#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF","#FFA500"];return a.jsxs("div",{className:"p-6 max-w-md mx-auto",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Drawing"}),a.jsx("p",{className:"text-gray-600",children:"Draw technique diagrams and positions"})]}),a.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-md mb-4",children:[a.jsxs("div",{className:"mb-4",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Brush Size: ",i,"px"]}),a.jsx("input",{type:"range",min:"1",max:"20",value:i,onChange:m=>o(parseInt(m.target.value)),className:"w-full"})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Colors"}),a.jsx("div",{className:"flex gap-2 flex-wrap",children:w.map(m=>a.jsx("button",{onClick:()=>s(m),className:`w-8 h-8 rounded-full border-2 ${n===m?"border-gray-800":"border-gray-300"}`,style:{backgroundColor:m}},m))})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:g,className:"flex-1 bg-gray-500 text-white py-2 px-4 rounded-lg hover:bg-gray-600 transition-colors",children:"Clear"}),a.jsx("button",{onClick:b,className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"Save"})]})]}),a.jsx("div",{className:"bg-white p-4 rounded-xl shadow-md mb-6",children:a.jsx("canvas",{ref:t,onMouseDown:h,onMouseMove:v,onMouseUp:p,onMouseLeave:p,className:"w-full border border-gray-300 rounded-lg cursor-crosshair",style:{touchAction:"none"}})}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:["Saved Drawings (",d.length,")"]}),d.length>0?a.jsx("div",{className:"grid grid-cols-2 gap-3",children:d.map((m,x)=>a.jsxs("div",{className:"bg-white p-2 rounded-lg shadow-md",children:[a.jsx("img",{src:m.imageData,alt:`Drawing ${x+1}`,className:"w-full rounded border"}),a.jsx("div",{className:"mt-2 text-center",children:a.jsx("span",{className:"text-xs text-gray-500",children:new Date(m.createdAt).toLocaleDateString()})})]},m.id))}):a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx("p",{children:"No drawings saved yet."}),a.jsx("p",{className:"text-sm",children:"Create your first technique diagram!"})]})]})]})}const yq=lu({name:_e().min(1,"Name is required"),email:_e().email("Please enter a valid email address"),subject:_e().min(1,"Subject is required"),message:_e().min(10,"Message must be at least 10 characters long")});function vq(){const{user:t}=fr(),{toast:e}=Ft(),r=nf({resolver:sf(yq),defaultValues:{name:t?`${t.firstName||""} ${t.lastName||""}`.trim():"",email:(t==null?void 0:t.email)||"",subject:"",message:""}}),n=We({mutationFn:async i=>(await Rt("POST","/api/contact",i)).json(),onSuccess:()=>{e({title:"Message sent!",description:"Thank you for reaching out. I'll get back to you soon."}),r.reset({name:t?`${t.firstName||""} ${t.lastName||""}`.trim():"",email:(t==null?void 0:t.email)||"",subject:"",message:""})},onError:i=>{e({title:"Failed to send message",description:i.message||"Please try again later.",variant:"destructive"})}}),s=i=>{n.mutate(i)};return a.jsx("div",{className:"min-h-screen bg-gray-50 p-4",children:a.jsxs("div",{className:"max-w-2xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-600 to-red-600 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Vp,{className:"text-white",size:32})}),a.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Get in Touch"}),a.jsx("p",{className:"text-gray-600",children:"Have questions, feedback, or suggestions? I'd love to hear from you!"})]}),a.jsxs(vt,{className:"shadow-lg",children:[a.jsxs(sr,{children:[a.jsxs(ir,{className:"flex items-center gap-2",children:[a.jsx(zp,{size:20}),"Contact Form"]}),a.jsx(gi,{children:"Send me a message and I'll get back to you as soon as possible."})]}),a.jsx(Dt,{children:a.jsxs("form",{onSubmit:r.handleSubmit(s),className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(nr,{htmlFor:"name",className:"flex items-center gap-2",children:[a.jsx(Vd,{size:16}),"Name *"]}),a.jsx(rr,{id:"name",placeholder:"Your full name",...r.register("name")}),r.formState.errors.name&&a.jsx("p",{className:"text-red-500 text-sm",children:r.formState.errors.name.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(nr,{htmlFor:"email",className:"flex items-center gap-2",children:[a.jsx(zp,{size:16}),"Email *"]}),a.jsx(rr,{id:"email",type:"email",placeholder:"your.email@example.com",...r.register("email")}),r.formState.errors.email&&a.jsx("p",{className:"text-red-500 text-sm",children:r.formState.errors.email.message})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(nr,{htmlFor:"subject",children:"Subject *"}),a.jsx(rr,{id:"subject",placeholder:"What's this about?",...r.register("subject")}),r.formState.errors.subject&&a.jsx("p",{className:"text-red-500 text-sm",children:r.formState.errors.subject.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(nr,{htmlFor:"message",children:"Message *"}),a.jsx(Jy,{id:"message",placeholder:"Tell me about your question, feedback, or suggestion...",rows:6,...r.register("message")}),r.formState.errors.message&&a.jsx("p",{className:"text-red-500 text-sm",children:r.formState.errors.message.message})]}),a.jsx($e,{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-red-600 hover:from-blue-700 hover:to-red-700 text-white font-medium",disabled:n.isPending,children:n.isPending?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Sending message..."]}):a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(vF,{size:16}),"Send Message"]})})]})})]}),a.jsxs("div",{className:"mt-8 text-center",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Other Ways to Connect"}),a.jsxs("div",{className:"space-y-2 text-gray-600",children:[a.jsxs("p",{children:["💡 ",a.jsx("strong",{children:"Feature Requests:"})," Share your ideas for new features"]}),a.jsxs("p",{children:["🐛 ",a.jsx("strong",{children:"Bug Reports:"})," Let me know if something isn't working"]}),a.jsxs("p",{children:["🥋 ",a.jsx("strong",{children:"BJJ Community:"})," Connect with other practitioners"]}),a.jsxs("p",{children:["⭐ ",a.jsx("strong",{children:"Feedback:"})," Help me make Jits Journal better"]})]})]})]})})}function xq(){const[t,e]=y.useState(""),[r,n]=y.useState(!1),[s,i]=y.useState(!1),{toast:o}=Ft(),l=async c=>{c.preventDefault(),n(!0);try{const u=await fetch("/api/auth/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})});if(u.ok)i(!0),o({title:"Reset link sent",description:"If the email exists, a reset link has been sent to your inbox."});else{const d=await u.json();o({title:"Error",description:d.message||"Failed to send reset email",variant:"destructive"})}}catch{o({title:"Error",description:"An error occurred. Please try again.",variant:"destructive"})}finally{n(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-red-50 p-4",children:a.jsxs(vt,{className:"w-full max-w-md",children:[a.jsxs(sr,{className:"text-center",children:[a.jsx(ir,{className:"text-2xl font-bold text-gray-800",children:"Forgot Password"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Enter your email address and we'll send you a link to reset your password."})]}),a.jsxs(Dt,{children:[s?a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-blue-100 rounded-full mx-auto",children:a.jsx(zp,{className:"w-6 h-6 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Check your email"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"If the email address exists in our system, we've sent a password reset link to:"}),a.jsx("p",{className:"font-medium text-gray-900 mt-2",children:t})]}),a.jsx("div",{className:"text-sm text-gray-500",children:a.jsx("p",{children:"Didn't receive the email? Check your spam folder or try again."})})]}):a.jsxs("form",{onSubmit:l,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(nr,{htmlFor:"email",children:"Email"}),a.jsx(rr,{id:"email",type:"email",placeholder:"Enter your email",value:t,onChange:c=>e(c.target.value),required:!0,className:"mt-1"})]}),a.jsx($e,{type:"submit",className:"w-full",disabled:r,children:r?"Sending...":"Send Reset Link"})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsx(Mt,{href:"/login",children:a.jsxs($e,{variant:"ghost",className:"text-sm",children:[a.jsx(zf,{className:"w-4 h-4 mr-2"}),"Back to Login"]})})})]})]})})}function wq(){const[t,e]=y.useState(""),[r,n]=y.useState(""),[s,i]=y.useState(!1),[o,l]=y.useState(!1),[c,u]=y.useState(!1),[d,f]=y.useState(!1),{toast:h}=Ft(),[v]=Xa(),p=new URLSearchParams(v.split("?")[1]||"").get("token");y.useEffect(()=>{p||h({title:"Invalid Reset Link",description:"The reset link is invalid or has expired.",variant:"destructive"})},[p,h]);const g=async b=>{if(b.preventDefault(),t!==r){h({title:"Passwords don't match",description:"Please make sure both passwords are the same.",variant:"destructive"});return}if(t.length<8){h({title:"Password too short",description:"Password must be at least 8 characters long.",variant:"destructive"});return}i(!0);try{const w=await fetch("/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:p,newPassword:t})});if(w.ok)f(!0),h({title:"Password reset successful",description:"Your password has been successfully updated."});else{const m=await w.json();h({title:"Error",description:m.message||"Failed to reset password",variant:"destructive"})}}catch{h({title:"Error",description:"An error occurred. Please try again.",variant:"destructive"})}finally{i(!1)}};return p?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-red-50 p-4",children:a.jsxs(vt,{className:"w-full max-w-md",children:[a.jsxs(sr,{className:"text-center",children:[a.jsx(ir,{className:"text-2xl font-bold text-gray-800",children:"Reset Password"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Enter your new password below."})]}),a.jsxs(Dt,{children:[d?a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-green-100 rounded-full mx-auto",children:a.jsx(JN,{className:"w-6 h-6 text-green-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Password Reset Successful"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Your password has been successfully updated. You can now log in with your new password."})]}),a.jsx(Mt,{href:"/login",children:a.jsx($e,{className:"w-full",children:"Go to Login"})})]}):a.jsxs("form",{onSubmit:g,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(nr,{htmlFor:"password",children:"New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(rr,{id:"password",type:o?"text":"password",placeholder:"Enter new password",value:t,onChange:b=>e(b.target.value),required:!0,className:"mt-1 pr-10"}),a.jsx($e,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>l(!o),children:o?a.jsx(Bd,{className:"h-4 w-4"}):a.jsx(yc,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{children:[a.jsx(nr,{htmlFor:"confirmPassword",children:"Confirm New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(rr,{id:"confirmPassword",type:c?"text":"password",placeholder:"Confirm new password",value:r,onChange:b=>n(b.target.value),required:!0,className:"mt-1 pr-10"}),a.jsx($e,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>u(!c),children:c?a.jsx(Bd,{className:"h-4 w-4"}):a.jsx(yc,{className:"h-4 w-4"})})]})]}),a.jsx("div",{className:"text-sm text-gray-500",children:a.jsx("p",{children:"Password must be at least 8 characters long."})}),a.jsx($e,{type:"submit",className:"w-full",disabled:s,children:s?"Resetting...":"Reset Password"})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsx(Mt,{href:"/login",children:a.jsxs($e,{variant:"ghost",className:"text-sm",children:[a.jsx(zf,{className:"w-4 h-4 mr-2"}),"Back to Login"]})})})]})]})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-red-50 p-4",children:a.jsx(vt,{className:"w-full max-w-md",children:a.jsx(Dt,{className:"pt-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Invalid Reset Link"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"The reset link is invalid or has expired."}),a.jsx(Mt,{href:"/forgot-password",children:a.jsx($e,{children:"Request New Reset Link"})})]})})})})}function gO(){if(!ar.isNativePlatform())return"web";const t=ar.getPlatform();return t==="android"?"android":t==="ios"?"ios":"web"}function bq(){return gO()==="web"}function _q(){const{user:t}=fr(),{toast:e}=Ft(),[r,n]=y.useState(null),s=gO(),i=bq(),{data:o}=Xe({queryKey:["/api/stripe/subscription-status"],enabled:!!t&&i}),l=(o==null?void 0:o.tier)||"free",c=()=>{const f="com.jitsjournal.app";s==="android"?(window.location.href=`market://details?id=${f}`,setTimeout(()=>{window.location.href=`https://play.google.com/store/apps/details?id=${f}`},500)):s==="ios"&&e({title:"Coming Soon",description:"iOS App Store version coming soon!"})},u=f=>{if(i){e({title:"Subscribe via App Store",description:"Download the app from Google Play Store or Apple App Store to unlock premium features.",duration:5e3});return}n(f),e({title:"Opening Store...",description:`Subscribe to ${f==="enthusiast"?"BJJ Enthusiast":"Gym Pro"} in the ${s==="android"?"Play":"App"} Store`}),setTimeout(()=>{c(),n(null)},500)},d=[{name:"Free",price:"$0",tier:"free",description:"Get started with BJJ tracking",features:["View community notes","View gym notes (with code)","Log up to 3 classes","Create up to 3 notes","No note sharing"],icon:wF,color:"text-gray-600",bgColor:"bg-gray-50",borderColor:"border-gray-200",isCurrent:l==="free"},{name:"BJJ Enthusiast",price:"$9.99",tier:"enthusiast",description:"For dedicated practitioners",priceId:void 0,features:["Unlimited class logs","Unlimited notes","Share to community: 1x/week","View all gym notes","Priority support"],icon:kF,color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200",isCurrent:l==="enthusiast",popular:!0},{name:"Gym Pro",price:"Contact Us",tier:"gym_pro",description:"For gym owners & coaches",contactEmail:"bjjjitsjournal@gmail.com",features:["Everything in Enthusiast","Share to community: 10x/week","Share to gym: Unlimited","Admin approval required","Premium support"],icon:uF,color:"text-purple-600",bgColor:"bg-purple-50",borderColor:"border-purple-200",isCurrent:l==="gym_pro"}];return a.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white dark:from-gray-900 dark:to-gray-800 py-12 px-4",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[!i&&a.jsx("div",{className:"mb-8 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-6",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(ZN,{className:"w-6 h-6 text-blue-600 flex-shrink-0 mt-1"}),a.jsxs("div",{children:[a.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:["Subscribe via ",s==="android"?"Google Play Store":"Apple App Store"]}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:['Click "Get Started" on any plan below to open the ',s==="android"?"Play":"App"," Store where you can complete your subscription."]}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500 italic",children:"💡 Your subscription will sync automatically after purchase!"})]})]})}),a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"Choose Your Plan"}),a.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:"Track your BJJ journey with the right plan for you"})]}),a.jsx("div",{className:"grid md:grid-cols-3 gap-8 mb-16",children:d.map(f=>{const h=f.icon;return a.jsxs(vt,{className:`relative ${f.popular?"ring-2 ring-blue-500 shadow-xl":""} ${f.isCurrent?"border-green-500":f.borderColor}`,"data-testid":`tier-card-${f.tier}`,children:[f.popular&&a.jsx("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2 bg-blue-500 text-white px-4 py-1 rounded-full text-sm font-semibold",children:"Most Popular"}),f.isCurrent&&a.jsx("div",{className:"absolute -top-4 right-4 bg-green-500 text-white px-4 py-1 rounded-full text-sm font-semibold",children:"Current Plan"}),a.jsxs(sr,{children:[a.jsx("div",{className:`w-12 h-12 rounded-lg ${f.bgColor} flex items-center justify-center mb-4`,children:a.jsx(h,{className:`w-6 h-6 ${f.color}`})}),a.jsx(ir,{className:"text-2xl",children:f.name}),a.jsx(gi,{children:f.description}),a.jsxs("div",{className:"mt-4",children:[a.jsx("span",{className:"text-4xl font-bold text-gray-900 dark:text-white",children:f.price}),f.tier!=="free"&&f.tier!=="gym_pro"&&a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"/month"})]}),f.tier==="gym_pro"&&a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:"Email: bjjjitsjournal@gmail.com"})]}),a.jsxs(Dt,{className:"space-y-4",children:[a.jsx("ul",{className:"space-y-3",children:f.features.map((v,p)=>a.jsxs("li",{className:"flex items-start",children:[a.jsx(un,{className:"w-5 h-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:v})]},p))}),f.tier!=="free"&&!f.isCurrent&&a.jsx(a.Fragment,{children:f.tier==="gym_pro"?a.jsx($e,{className:"w-full",variant:"outline",onClick:()=>window.location.href=`mailto:${f.contactEmail}?subject=Gym Pro Subscription Inquiry&body=Hi, I'm interested in the Gym Pro plan for my gym.`,"data-testid":`button-subscribe-${f.tier}`,children:"Contact Us"}):a.jsx($e,{className:"w-full",variant:f.popular?"default":"outline",onClick:()=>u(f.tier),disabled:r===f.tier,"data-testid":`button-subscribe-${f.tier}`,children:r===f.tier?"Loading...":"Get Started"})}),f.isCurrent&&a.jsx($e,{className:"w-full",variant:"secondary",disabled:!0,"data-testid":`button-current-${f.tier}`,children:"Current Plan"}),f.tier==="free"&&!f.isCurrent&&a.jsx($e,{className:"w-full",variant:"outline",disabled:!0,"data-testid":"button-free-tier",children:"Free Forever"})]})]},f.tier)})}),a.jsxs(vt,{className:"max-w-4xl mx-auto",children:[a.jsxs(sr,{children:[a.jsx(ir,{children:"How It Works"}),a.jsx(gi,{children:"Download and subscribe in 3 easy steps"})]}),a.jsxs(Dt,{className:"space-y-4",children:[a.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center mx-auto mb-3",children:a.jsx("span",{className:"text-xl font-bold text-blue-600 dark:text-blue-400",children:"1"})}),a.jsx("h3",{className:"font-semibold mb-2",children:"Download the App"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Get Jits Journal from Google Play Store or Apple App Store"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center mx-auto mb-3",children:a.jsx("span",{className:"text-xl font-bold text-blue-600 dark:text-blue-400",children:"2"})}),a.jsx("h3",{className:"font-semibold mb-2",children:"Choose Your Plan"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Subscribe directly through your app store"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center mx-auto mb-3",children:a.jsx("span",{className:"text-xl font-bold text-blue-600 dark:text-blue-400",children:"3"})}),a.jsx("h3",{className:"font-semibold mb-2",children:"Start Training"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Access all premium features instantly!"})]})]}),a.jsx("div",{className:"pt-4 border-t",children:a.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center",children:["📱 ",a.jsx("strong",{children:"Coming Soon:"})," Jits Journal will be available on Google Play Store and Apple App Store!"]})})]})]}),a.jsxs("div",{className:"mt-16 max-w-4xl mx-auto",children:[a.jsx("h2",{className:"text-2xl font-bold text-center mb-8",children:"Frequently Asked Questions"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs(vt,{children:[a.jsx(sr,{children:a.jsx(ir,{className:"text-lg",children:"Can I cancel anytime?"})}),a.jsx(Dt,{children:a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Yes! You can cancel your subscription at any time. You'll retain access until the end of your billing period."})})]}),a.jsxs(vt,{children:[a.jsx(sr,{children:a.jsx(ir,{className:"text-lg",children:"How does Gym Pro approval work?"})}),a.jsx(Dt,{children:a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"When you subscribe to Gym Pro, you'll need to request approval from our team. This ensures quality gym content for the community. Approval typically takes 24-48 hours."})})]}),a.jsxs(vt,{children:[a.jsx(sr,{children:a.jsx(ir,{className:"text-lg",children:"What payment methods do you accept?"})}),a.jsx(Dt,{children:a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"All payments are processed securely through Google Play Store or Apple App Store, using your preferred payment method on file."})})]})]})]})]})})}function Sq(){const[,t]=Xa();return y.useEffect(()=>{const e=setTimeout(()=>{t("/")},5e3);return()=>clearTimeout(e)},[t]),a.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white dark:from-gray-900 dark:to-gray-800 flex items-center justify-center px-4",children:a.jsxs(vt,{className:"max-w-md w-full",children:[a.jsxs(sr,{className:"text-center",children:[a.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mb-4",children:a.jsx(JN,{className:"w-10 h-10 text-green-600 dark:text-green-400"})}),a.jsx(ir,{className:"text-2xl",children:"Welcome to Premium!"}),a.jsx(gi,{children:"Your subscription is now active"})]}),a.jsxs(Dt,{className:"space-y-4 text-center",children:[a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Thank you for subscribing! You now have access to all premium features."}),a.jsxs("div",{className:"pt-4 space-y-2",children:[a.jsx($e,{className:"w-full",onClick:()=>t("/"),"data-testid":"button-go-to-dashboard",children:"Go to Dashboard"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Redirecting automatically in 5 seconds..."})]})]})]})})}const Mw=(ar.isNativePlatform(),"https://bjj-jits-journal.onrender.com"),jq=lu({email:_e().email("Please enter a valid email address"),password:_e().min(8,"Password must be at least 8 characters")}),kq=lu({email:_e().email("Please enter a valid email address"),password:_e().min(8,"Password must be at least 8 characters"),firstName:_e().min(1,"First name is required"),lastName:_e().min(1,"Last name is required")});function Nq({onAuthSuccess:t}){const[e,r]=y.useState(!0),[n,s]=y.useState(!1),[i,o]=y.useState(""),{toast:l}=Ft(),{setSignupInProgress:c}=fr(),u=nf({resolver:sf(jq),defaultValues:{email:"",password:""}}),d=nf({resolver:sf(kq),defaultValues:{email:"",password:"",firstName:"",lastName:""}}),f=We({mutationFn:async g=>{var m;console.log("Login attempt with:",{email:g.email,hasPassword:!!g.password}),o("");const{data:b,error:w}=await Ve.auth.signInWithPassword({email:g.email,password:g.password});if(w)throw console.error("Login error:",w),w;return console.log("Login successful:",(m=b.user)==null?void 0:m.email),b},onSuccess:g=>{o(""),l({title:"Welcome back!",description:"You have successfully logged in."})},onError:g=>{var w,m;console.error("Login mutation error:",g);let b="Please check your credentials and try again.";(w=g.message)!=null&&w.includes("Invalid login credentials")?b="Invalid email or password. If you haven't signed up yet, please create an account.":(m=g.message)!=null&&m.includes("Email not confirmed")&&(b="Please check your email and confirm your account before logging in."),o(b),l({title:"Login failed",description:b,variant:"destructive"})}}),h=We({mutationFn:async g=>{c(!0);try{console.log("Signup attempt for:",g.email),console.log("Step 1: Creating Supabase auth account...");const b=ar.isNativePlatform()?"https://bjj-jits-journal.onrender.com/":`${window.location.origin}/`,{data:w,error:m}=await Ve.auth.signUp({email:g.email,password:g.password,options:{data:{firstName:g.firstName,lastName:g.lastName},emailRedirectTo:b}});if(m||!w.user)throw console.error("Supabase signup error:",m),m||new Error("Failed to create auth account");console.log("✅ Supabase account created:",w.user.id),await Ve.auth.signOut(),console.log("✅ Signed out to prevent race condition"),console.log("Step 2: Creating user profile in PostgreSQL database..."),console.log("API URL:",`${Mw}/api/auth/register`);const x=new AbortController,_=setTimeout(()=>x.abort(),3e4);let S;try{S=await fetch(`${Mw}/api/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:g.email,password:g.password,firstName:g.firstName,lastName:g.lastName,supabaseId:w.user.id}),signal:x.signal}),clearTimeout(_)}catch(T){throw clearTimeout(_),T.name==="AbortError"?new Error("Network timeout. Please check your internet connection and try again."):new Error(`Network error: ${T.message||"Could not connect to server"}`)}if(!S.ok){const T=await S.json();throw await Ve.auth.admin.deleteUser(w.user.id),new Error(T.message||"Failed to create user profile")}const k=await S.json();console.log("✅ PostgreSQL profile created:",k.id),c(!1),console.log("Step 3: Signing in...");const{data:j,error:E}=await Ve.auth.signInWithPassword({email:g.email,password:g.password});if(E)throw console.error("Auto-login error:",E),new Error("Account created but login failed. Please try logging in manually.");return console.log("✅ Auto-login successful"),j}catch(b){throw c(!1),b}},onSuccess:g=>{var w;let b="Welcome to Jits Journal. Your account has been created successfully.";g.user&&!g.user.confirmed_at&&(b="Please check your email to confirm your account before logging in."),l({title:"Account created!",description:b,duration:(w=g.user)!=null&&w.confirmed_at?3e3:6e3})},onError:g=>{console.error("Registration mutation error:",g);const b=g.message||"Please try again.";o(b),l({title:"Registration failed",description:b,variant:"destructive",duration:6e3})}}),v=g=>{console.log("Login attempt with:",{email:g.email,hasPassword:!!g.password}),o(""),f.mutate(g)},p=g=>{o(""),h.mutate(g)};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-red-600 flex items-center justify-center p-4",children:a.jsx("div",{className:"w-full max-w-md",children:a.jsxs(vt,{className:"backdrop-blur-sm bg-white/10 border-white/20 shadow-xl",children:[a.jsxs(sr,{className:"text-center",children:[a.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-br from-blue-500 to-red-500 rounded-full flex items-center justify-center mb-4",children:a.jsx("span",{className:"text-white font-bold text-xl",children:"🥋"})}),a.jsx(ir,{className:"text-2xl font-bold text-white",children:e?"Welcome Back":"Join Jits Journal"}),a.jsx(gi,{className:"text-white/80",children:e?"Sign in to continue your BJJ journey":"Start tracking your BJJ progress today"})]}),a.jsxs(Dt,{className:"space-y-6",children:[e?a.jsxs("form",{onSubmit:u.handleSubmit(v),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(nr,{htmlFor:"email",className:"text-white",children:"Email"}),a.jsx(rr,{id:"email",type:"email",placeholder:"Enter your email",className:"bg-white/10 border-white/20 text-white placeholder:text-white/50",...u.register("email")}),u.formState.errors.email&&a.jsx("p",{className:"text-red-300 text-sm",children:u.formState.errors.email.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(nr,{htmlFor:"password",className:"text-white",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(rr,{id:"password",type:n?"text":"password",placeholder:"Enter your password",className:"bg-white/10 border-white/20 text-white placeholder:text-white/50 pr-10",...u.register("password")}),a.jsx("button",{type:"button",onClick:()=>s(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/60 hover:text-white",children:n?a.jsx(Bd,{size:16}):a.jsx(yc,{size:16})})]}),u.formState.errors.password&&a.jsx("p",{className:"text-red-300 text-sm",children:u.formState.errors.password.message})]}),i&&a.jsx("div",{className:"bg-red-600 border-2 border-red-400 rounded-lg p-4 shadow-lg",children:a.jsxs("p",{className:"text-white text-sm font-bold",children:["⚠️ ",i]})}),a.jsx($e,{type:"submit",className:"w-full bg-gradient-to-r from-blue-500 to-red-500 hover:from-blue-600 hover:to-red-600 text-white font-medium",disabled:f.isPending,"data-testid":"button-login",children:f.isPending?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Signing in..."]}):a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(mF,{size:16}),"Sign In"]})}),a.jsx("div",{className:"text-center",children:a.jsx(Mt,{href:"/forgot-password",children:a.jsx("button",{className:"text-white/80 hover:text-white text-sm underline",children:"Forgot your password?"})})})]}):a.jsxs("form",{onSubmit:d.handleSubmit(p),className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(nr,{htmlFor:"firstName",className:"text-white",children:"First Name"}),a.jsx(rr,{id:"firstName",type:"text",placeholder:"First name",className:"bg-white/10 border-white/20 text-white placeholder:text-white/50",...d.register("firstName")}),d.formState.errors.firstName&&a.jsx("p",{className:"text-red-300 text-sm",children:d.formState.errors.firstName.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(nr,{htmlFor:"lastName",className:"text-white",children:"Last Name"}),a.jsx(rr,{id:"lastName",type:"text",placeholder:"Last name",className:"bg-white/10 border-white/20 text-white placeholder:text-white/50",...d.register("lastName")}),d.formState.errors.lastName&&a.jsx("p",{className:"text-red-300 text-sm",children:d.formState.errors.lastName.message})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(nr,{htmlFor:"email",className:"text-white",children:"Email"}),a.jsx(rr,{id:"email",type:"email",placeholder:"Enter your email",className:"bg-white/10 border-white/20 text-white placeholder:text-white/50",...d.register("email")}),d.formState.errors.email&&a.jsx("p",{className:"text-red-300 text-sm",children:d.formState.errors.email.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(nr,{htmlFor:"password",className:"text-white",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(rr,{id:"password",type:n?"text":"password",placeholder:"Create a password",className:"bg-white/10 border-white/20 text-white placeholder:text-white/50 pr-10",...d.register("password")}),a.jsx("button",{type:"button",onClick:()=>s(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/60 hover:text-white",children:n?a.jsx(Bd,{size:16}):a.jsx(yc,{size:16})})]}),d.formState.errors.password&&a.jsx("p",{className:"text-red-300 text-sm",children:d.formState.errors.password.message})]}),i&&a.jsx("div",{className:"bg-red-600 border-2 border-red-400 rounded-lg p-4 shadow-lg",children:a.jsxs("p",{className:"text-white text-sm font-bold",children:["⚠️ ",i]})}),a.jsx($e,{type:"submit",className:"w-full bg-gradient-to-r from-blue-500 to-red-500 hover:from-blue-600 hover:to-red-600 text-white font-medium",disabled:h.isPending,"data-testid":"button-register",children:h.isPending?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Creating account..."]}):a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(jF,{size:16}),"Create Account"]})})]}),a.jsx("div",{className:"text-center",children:a.jsx("button",{onClick:()=>{r(!e),o("")},className:"text-white/80 hover:text-white text-sm underline",children:e?"Don't have an account? Sign up":"Already have an account? Sign in"})})]})]})})})}function Cq(){const{user:t,supabaseUser:e}=fr(),{toast:r}=Ft(),[n,s]=y.useState(""),[i,o]=y.useState(null),{data:l=[],isLoading:c,refetch:u}=Xe({queryKey:["/api/gyms"],enabled:(t==null?void 0:t.role)==="admin",staleTime:3e4}),d=We({mutationFn:async p=>await Rt("POST","/api/gyms",{name:p,supabaseId:e==null?void 0:e.id}),onSuccess:p=>{console.log("Gym created response:",p),console.log("Gym code:",p.code),Ar.invalidateQueries({queryKey:["/api/gyms"]}),u(),r({title:"Gym created!",description:`${p.name} has been created with code: ${p.code}`}),s(""),v(p.code)},onError:p=>{r({title:"Error",description:p.message||"Failed to create gym",variant:"destructive"})}}),f=We({mutationFn:async p=>await Rt("DELETE",`/api/gyms/${p}`,{supabaseId:e==null?void 0:e.id}),onSuccess:()=>{Ar.invalidateQueries({queryKey:["/api/gyms"]}),u(),r({title:"Gym deleted!",description:"The gym has been successfully deleted"})},onError:p=>{r({title:"Error",description:p.message||"Failed to delete gym",variant:"destructive"})}}),h=()=>{if(!n.trim()){r({title:"Error",description:"Please enter a gym name",variant:"destructive"});return}d.mutate(n)},v=p=>{navigator.clipboard.writeText(p),o(p),r({title:"Copied!",description:"Gym code copied to clipboard"}),setTimeout(()=>o(null),2e3)};return(t==null?void 0:t.role)!=="admin"?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Access Denied"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Admin access required"})]})}):a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 pb-20",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[a.jsx(Ud,{className:"w-8 h-8 text-blue-600"}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Gym Management"})]}),a.jsxs(vt,{className:"p-6 mb-8",children:[a.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[a.jsx(Ud,{className:"w-5 h-5"}),"Create New Gym"]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(rr,{type:"text",placeholder:"Enter gym name...",value:n,onChange:p=>s(p.target.value),onKeyPress:p=>p.key==="Enter"&&h(),className:"flex-1","data-testid":"input-gym-name"}),a.jsx($e,{onClick:h,disabled:d.isPending||!n.trim(),"data-testid":"button-create-gym",children:d.isPending?"Creating...":"Create Gym"})]}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"A unique code will be auto-generated for the gym"})]}),a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[a.jsx(as,{className:"w-5 h-5"}),"All Gyms (",l.length,")"]}),c?a.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading gyms..."}):l.length===0?a.jsx("div",{className:"text-center py-8 text-gray-500",children:"No gyms created yet. Create your first gym above!"}):a.jsx("div",{className:"space-y-4",children:l.map(p=>a.jsx(vt,{className:"p-4","data-testid":`card-gym-${p.id}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg",children:p.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Created ",new Date(p.createdAt).toLocaleDateString()]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Gym Code"}),a.jsx("p",{className:"text-lg font-mono font-bold text-blue-600",children:p.code})]}),a.jsx($e,{variant:"outline",size:"sm",onClick:()=>v(p.code),"data-testid":`button-copy-${p.code}`,children:i===p.code?a.jsx(un,{className:"w-4 h-4 text-green-600"}):a.jsx(cF,{className:"w-4 h-4"})}),a.jsx($e,{variant:"outline",size:"sm",onClick:()=>{confirm(`Are you sure you want to delete ${p.name}? This action cannot be undone.`)&&f.mutate(p.id)},disabled:f.isPending,"data-testid":`button-delete-${p.id}`,children:a.jsx(co,{className:"w-4 h-4 text-red-600"})})]})]})},p.id))})]})]})})}function Eq(){return a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx(Mt,{href:"/settings",children:a.jsxs("button",{className:"flex items-center gap-2 text-blue-600 hover:text-blue-700 mb-6",children:[a.jsx(zf,{className:"w-4 h-4"}),"Back to Settings"]})}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Privacy Policy"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8",children:"Last Updated: October 16, 2025"}),a.jsxs("div",{className:"prose dark:prose-invert max-w-none space-y-6",children:[a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"1. Information We Collect"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Personal Information"}),a.jsxs("ul",{className:"list-disc pl-6 text-gray-700 dark:text-gray-300 space-y-2",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Account Information:"})," Name, email address, password (encrypted)"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Profile Data:"})," Belt rank, gym affiliation, training preferences"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"User IDs:"})," Internal user ID and authentication tokens"]})]}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2 mt-4",children:"Training Data"}),a.jsxs("ul",{className:"list-disc pl-6 text-gray-700 dark:text-gray-300 space-y-2",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Class Records:"})," Training sessions, techniques learned, rolling partners"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Notes:"})," User-created technique notes, video links, training insights"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Progress Tracking:"})," Belt promotions, stripes, weekly goals"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Competition Data:"})," Game plans and strategy notes"]})]}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2 mt-4",children:"Subscription Information"}),a.jsxs("ul",{className:"list-disc pl-6 text-gray-700 dark:text-gray-300 space-y-2",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Subscription Status:"})," Current plan, subscription dates"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Payment Processing:"})," Handled securely by Stripe, Google Play, or Apple (we do not store payment card details)"]})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"2. How We Use Your Information"}),a.jsxs("ul",{className:"list-disc pl-6 text-gray-700 dark:text-gray-300 space-y-2",children:[a.jsx("li",{children:"Provide and maintain BJJ Jits Journal services"}),a.jsx("li",{children:"Track your training progress and achievements"}),a.jsx("li",{children:"Enable community features (shared notes, gym communities)"}),a.jsx("li",{children:"Process subscription payments and manage account access"}),a.jsx("li",{children:"Send service-related emails (welcome, password reset)"}),a.jsx("li",{children:"Improve app functionality and user experience"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"3. Data Sharing"}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:"We DO NOT sell your personal data to third parties. We only share data with:"}),a.jsxs("ul",{className:"list-disc pl-6 text-gray-700 dark:text-gray-300 space-y-2",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Payment Processors:"})," Stripe, Google Play, Apple (for subscription processing)"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Cloud Services:"})," Supabase (database hosting), Render (application hosting)"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Community Features:"})," Notes you choose to share are visible to your gym community or public community"]})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"4. Data Security"}),a.jsxs("ul",{className:"list-disc pl-6 text-gray-700 dark:text-gray-300 space-y-2",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Encryption in Transit:"})," All data transmitted using HTTPS/TLS encryption"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Encryption at Rest:"})," Database stored on secure Supabase infrastructure"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Password Security:"})," Passwords are hashed using bcrypt"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Access Controls:"})," Role-based permissions for admin features"]})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"5. Your Rights"}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:"You have the right to:"}),a.jsxs("ul",{className:"list-disc pl-6 text-gray-700 dark:text-gray-300 space-y-2",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Access Your Data:"})," View all personal information we have about you"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Update Your Data:"})," Modify your profile, training records, and preferences"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Delete Your Data:"})," Request complete account and data deletion (see Settings)"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Export Your Data:"})," Download your training records and notes"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Control Sharing:"})," Choose which notes to share publicly or with your gym"]})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"6. Data Retention"}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:"We retain your data for as long as your account is active. When you delete your account:"}),a.jsxs("ul",{className:"list-disc pl-6 text-gray-700 dark:text-gray-300 space-y-2",children:[a.jsx("li",{children:"All personal information is permanently deleted within 30 days"}),a.jsx("li",{children:"Training records, notes, and progress data are permanently removed"}),a.jsx("li",{children:"Shared community notes are anonymized or deleted based on your preference"}),a.jsx("li",{children:"Subscription records are retained for legal/tax compliance (7 years)"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"7. Children's Privacy"}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"BJJ Jits Journal is not intended for children under 13. We do not knowingly collect data from children under 13. If you believe a child has provided us with personal information, please contact us immediately."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"8. International Users"}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Your data may be processed and stored in Australia, United States, or other countries where our service providers operate. By using BJJ Jits Journal, you consent to this transfer of data."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"9. Changes to Privacy Policy"}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"We may update this Privacy Policy from time to time. We will notify you of significant changes via email or in-app notification. Continued use of the service after changes constitutes acceptance of the updated policy."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"10. Contact Us"}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"For privacy-related questions, data deletion requests, or concerns, contact us at:"}),a.jsxs("p",{className:"text-gray-700 dark:text-gray-300 mt-2",children:[a.jsx("strong",{children:"Email:"})," bjjjitsjournal@gmail.com"]})]}),a.jsxs("section",{className:"mt-8 p-6 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[a.jsx("h3",{className:"text-xl font-semibold text-blue-900 dark:text-blue-200 mb-2",children:"Data Deletion"}),a.jsx("p",{className:"text-blue-800 dark:text-blue-300",children:"To delete your account and all associated data, go to Settings → Delete Account. This action is permanent and cannot be undone."})]})]})]})]})})}function Pq(){return a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx(Mt,{href:"/settings",children:a.jsxs("button",{className:"flex items-center gap-2 text-blue-600 hover:text-blue-700 mb-6",children:[a.jsx(zf,{className:"w-4 h-4"}),"Back to Settings"]})}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Terms of Service"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8",children:"Last Updated: October 16, 2025"}),a.jsxs("div",{className:"prose dark:prose-invert max-w-none space-y-6",children:[a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"1. Acceptance of Terms"}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:'By accessing or using BJJ Jits Journal ("the Service"), you agree to be bound by these Terms of Service. If you do not agree to these terms, please do not use the Service.'})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"2. Service Description"}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:"BJJ Jits Journal is a training companion application for Brazilian Jiu-Jitsu practitioners that provides:"}),a.jsxs("ul",{className:"list-disc pl-6 text-gray-700 dark:text-gray-300 space-y-2",children:[a.jsx("li",{children:"Class and technique tracking"}),a.jsx("li",{children:"Training notes and video integration"}),a.jsx("li",{children:"Belt progression monitoring"}),a.jsx("li",{children:"Competition game plan creation"}),a.jsx("li",{children:"Community features for sharing insights"}),a.jsx("li",{children:"Gym community management"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"3. Account Registration"}),a.jsxs("ul",{className:"list-disc pl-6 text-gray-700 dark:text-gray-300 space-y-2",children:[a.jsx("li",{children:"You must provide accurate and complete information during registration"}),a.jsx("li",{children:"You are responsible for maintaining the confidentiality of your account credentials"}),a.jsx("li",{children:"You must be at least 13 years old to use the Service"}),a.jsx("li",{children:"One person may not maintain multiple free accounts"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"4. Subscription Plans"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Free Tier"}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Basic features including class tracking, notes, and belt progression."}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2 mt-4",children:"BJJ Enthusiast ($14.99 AUD/month)"}),a.jsxs("ul",{className:"list-disc pl-6 text-gray-700 dark:text-gray-300 space-y-2",children:[a.jsx("li",{children:"Advanced technique tracking and video integration"}),a.jsx("li",{children:"Unlimited notes and community sharing"}),a.jsx("li",{children:"Competition game plan tools"})]}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2 mt-4",children:"Gym Pro ($29.99 AUD/month)"}),a.jsxs("ul",{className:"list-disc pl-6 text-gray-700 dark:text-gray-300 space-y-2",children:[a.jsx("li",{children:"All Enthusiast features"}),a.jsx("li",{children:"Gym community management (requires admin approval)"}),a.jsx("li",{children:"Private gym note sharing"}),a.jsx("li",{children:"Priority support"})]}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2 mt-4",children:"Billing"}),a.jsxs("ul",{className:"list-disc pl-6 text-gray-700 dark:text-gray-300 space-y-2",children:[a.jsx("li",{children:"Subscriptions are billed monthly in advance"}),a.jsx("li",{children:"Prices are in Australian Dollars (AUD)"}),a.jsx("li",{children:"You can cancel anytime from your account settings"}),a.jsx("li",{children:"No refunds for partial months"}),a.jsx("li",{children:"Access continues until the end of the current billing period after cancellation"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"5. User Conduct"}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:"You agree NOT to:"}),a.jsxs("ul",{className:"list-disc pl-6 text-gray-700 dark:text-gray-300 space-y-2",children:[a.jsx("li",{children:"Post offensive, abusive, or inappropriate content"}),a.jsx("li",{children:"Harass or bully other users"}),a.jsx("li",{children:"Share copyrighted content without permission"}),a.jsx("li",{children:"Attempt to hack, disrupt, or abuse the Service"}),a.jsx("li",{children:"Create fake accounts or impersonate others"}),a.jsx("li",{children:"Use the Service for any illegal purposes"}),a.jsx("li",{children:"Share spam or promotional content"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"6. Content Ownership"}),a.jsxs("ul",{className:"list-disc pl-6 text-gray-700 dark:text-gray-300 space-y-2",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Your Content:"})," You retain ownership of all training data, notes, and content you create"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"License to Us:"})," By sharing content publicly or with your gym, you grant us a license to display and distribute that content within the Service"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Our Content:"})," The Service interface, design, and features are our intellectual property"]})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"7. Community Guidelines"}),a.jsxs("ul",{className:"list-disc pl-6 text-gray-700 dark:text-gray-300 space-y-2",children:[a.jsx("li",{children:"Be respectful and supportive of other practitioners"}),a.jsx("li",{children:"Share genuine training insights and techniques"}),a.jsx("li",{children:"Give credit when sharing others' techniques or ideas"}),a.jsx("li",{children:"Report inappropriate content to admins"}),a.jsx("li",{children:"Respect gym communities and their privacy"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"8. Moderation"}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"We reserve the right to remove content or suspend accounts that violate these terms. Admins may moderate community content. Decisions are final."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"9. Medical Disclaimer"}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"BJJ Jits Journal is NOT medical advice. Training in Brazilian Jiu-Jitsu carries inherent risks. Consult with qualified instructors and medical professionals before beginning or continuing training. We are not responsible for injuries sustained during training."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"10. Service Availability"}),a.jsxs("ul",{className:"list-disc pl-6 text-gray-700 dark:text-gray-300 space-y-2",children:[a.jsx("li",{children:"We strive for 99.9% uptime but cannot guarantee uninterrupted service"}),a.jsx("li",{children:"Scheduled maintenance will be announced in advance when possible"}),a.jsx("li",{children:"We are not liable for data loss due to service interruptions (though we maintain regular backups)"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"11. Limitation of Liability"}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:'BJJ Jits Journal is provided "as is" without warranties. We are not liable for any damages arising from use of the Service, including but not limited to data loss, training injuries, or financial losses. Maximum liability is limited to the amount you paid for the Service in the past 12 months.'})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"12. Termination"}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:"We may terminate or suspend your account for violations of these terms. You may delete your account anytime from Settings."}),a.jsxs("ul",{className:"list-disc pl-6 text-gray-700 dark:text-gray-300 space-y-2",children:[a.jsx("li",{children:"Upon termination, your access to paid features ends immediately"}),a.jsx("li",{children:"No refunds for remaining subscription time"}),a.jsx("li",{children:"Your data will be deleted according to our Privacy Policy"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"13. Changes to Terms"}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"We may update these Terms of Service. Significant changes will be communicated via email or in-app notification. Continued use after changes constitutes acceptance."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"14. Governing Law"}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"These terms are governed by the laws of Australia. Disputes shall be resolved in Australian courts."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"15. Contact"}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"For questions about these Terms of Service, contact us at:"}),a.jsxs("p",{className:"text-gray-700 dark:text-gray-300 mt-2",children:[a.jsx("strong",{children:"Email:"})," bjjjitsjournal@gmail.com"]})]}),a.jsxs("section",{className:"mt-8 p-6 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[a.jsx("h3",{className:"text-xl font-semibold text-red-900 dark:text-red-200 mb-2",children:"Important Notice"}),a.jsx("p",{className:"text-red-800 dark:text-red-300",children:"By using BJJ Jits Journal, you acknowledge that Brazilian Jiu-Jitsu training involves physical contact and risk of injury. Always train under qualified instruction and follow safety protocols."})]})]})]})]})})}function Tq(){const[t]=Xa(),[e,r]=y.useState(0),n=[{path:"/",label:"Home",icon:"🏠"},{path:"/classes",label:"Classes",icon:"📅"},{path:"/notes",label:"Notes",icon:"📝"},{path:"/videos",label:"Videos",icon:"📺"},{path:"/social",label:"Social",icon:"👥"}];return y.useEffect(()=>{const s=()=>{if(window.visualViewport){const i=window.visualViewport,o=window.innerHeight-(i.height+i.offsetTop),l=Math.max(0,Math.min(o,80));r(l>=16?l:0)}};return s(),window.visualViewport&&(window.visualViewport.addEventListener("resize",s),window.visualViewport.addEventListener("scroll",s)),window.addEventListener("resize",s),()=>{window.visualViewport&&(window.visualViewport.removeEventListener("resize",s),window.visualViewport.removeEventListener("scroll",s)),window.removeEventListener("resize",s)}},[]),a.jsx("nav",{className:"fixed bottom-0 left-1/2 transform -translate-x-1/2 max-w-md w-full bg-gradient-to-r from-blue-600 to-purple-600 dark:from-gray-800 dark:to-gray-700 border-t border-border shadow-lg z-50",style:{paddingBottom:`max(${e}px, env(safe-area-inset-bottom), 0.25rem)`},children:a.jsx("div",{className:"flex justify-around py-1",children:n.map((s,i)=>a.jsxs(Mt,{to:s.path,className:`flex flex-col items-center p-3 transition-all duration-200 ${t===s.path?"text-yellow-300 font-bold":"text-white/80 hover:text-white"}`,children:[a.jsx("span",{className:"text-lg mb-1",children:s.icon}),a.jsx("span",{className:"text-xs",children:s.label})]},s.path))})})}function Aq(){const{toasts:t,dismiss:e}=Ft();return a.jsx("div",{className:"fixed bottom-24 right-4 z-50 flex flex-col gap-2",children:t.filter(r=>r.open!==!1).map(r=>a.jsxs("div",{className:`p-4 rounded-lg shadow-lg max-w-sm relative cursor-pointer ${r.variant==="destructive"?"bg-red-600 text-white":"bg-green-600 text-white"}`,onClick:()=>e(r.id),children:[a.jsx("button",{onClick:n=>{n.stopPropagation(),e(r.id)},className:"absolute top-2 right-2 text-white hover:text-gray-200 text-xl font-bold w-6 h-6 flex items-center justify-center rounded-full hover:bg-white/20 transition-colors","aria-label":"Close notification",children:"×"}),r.title&&a.jsx("div",{className:"font-semibold mb-1 pr-6",children:r.title}),r.description&&a.jsx("div",{className:"text-sm opacity-90 pr-6",children:r.description})]},r.id))})}function Oq(){return null}function Rq(){return YL(),a.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[a.jsx(Oq,{}),a.jsx("main",{className:"pb-20",children:a.jsxs(kI,{children:[a.jsx(kt,{path:"/",component:EF}),a.jsx(kt,{path:"/classes",component:AF}),a.jsx(kt,{path:"/notes",component:uU}),a.jsx(kt,{path:"/videos",component:dU}),a.jsx(kt,{path:"/settings",component:XU}),a.jsx(kt,{path:"/belts",component:hq}),a.jsx(kt,{path:"/social",component:mq}),a.jsx(kt,{path:"/my-videos",component:pq}),a.jsx(kt,{path:"/drawing",component:gq}),a.jsx(kt,{path:"/contact",component:vq}),a.jsx(kt,{path:"/admin",component:Cq}),a.jsx(kt,{path:"/forgot-password",component:xq}),a.jsx(kt,{path:"/reset-password",component:wq}),a.jsx(kt,{path:"/subscribe",component:_q}),a.jsx(kt,{path:"/subscribe/success",component:Sq}),a.jsx(kt,{path:"/privacy",component:Eq}),a.jsx(kt,{path:"/terms",component:Pq}),a.jsx(kt,{children:a.jsxs("div",{className:"p-6 text-center",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white mb-2",children:"Page Not Found"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"The page you're looking for doesn't exist."})]})})]})}),a.jsx(Tq,{}),a.jsx(Aq,{})]})}function Dq(){const{isAuthenticated:t,isLoading:e,loadingMessage:r,login:n}=fr();return e?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-red-600 flex items-center justify-center p-4",children:a.jsxs("div",{className:"text-center max-w-md",children:[a.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mb-4 mx-auto",children:a.jsx("div",{className:"w-8 h-8 border-4 border-white border-t-transparent rounded-full animate-spin"})}),a.jsx("p",{className:"text-white text-lg font-medium",children:r}),a.jsx("p",{className:"text-white/70 text-sm mt-2",children:"This may take a moment if the server is starting up..."})]})}):t?a.jsx(Rq,{}):a.jsx(Nq,{onAuthSuccess:n})}function Iq(){return a.jsx(qI,{client:Ar,children:a.jsx(GL,{children:a.jsx(KL,{children:a.jsx(Dq,{})})})})}const Lw="sw_cleanup_done_v2";sessionStorage.getItem(Lw)||(console.log("Cleaning up service workers and caches..."),"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(t=>{t.forEach(e=>e.unregister())}),"caches"in window&&caches.keys().then(t=>{t.forEach(e=>caches.delete(e))}),sessionStorage.setItem(Lw,"true"),window.location.reload());"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission().then(t=>{console.log("Notification permission:",t)});console.log("BJJ Journal - Full App Restored!");console.log("Open in new window if you see caching issues");Wk(document.getElementById("root")).render(a.jsx(Iq,{}));export{BN as W};
