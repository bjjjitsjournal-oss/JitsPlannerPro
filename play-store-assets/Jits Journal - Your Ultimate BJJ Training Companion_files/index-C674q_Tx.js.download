var QA=Object.defineProperty;var pv=t=>{throw TypeError(t)};var YA=(t,e,r)=>e in t?QA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var T=(t,e,r)=>YA(t,typeof e!="symbol"?e+"":e,r),sh=(t,e,r)=>e.has(t)||pv("Cannot "+r);var N=(t,e,r)=>(sh(t,e,"read from private field"),r?r.call(t):e.get(t)),le=(t,e,r)=>e.has(t)?pv("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),J=(t,e,r,n)=>(sh(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),we=(t,e,r)=>(sh(t,e,"access private method"),r);var ou=(t,e,r,n)=>({set _(s){J(t,e,s,r)},get _(){return N(t,e,n)}});function JA(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Gr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function h1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ZA(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var m1={exports:{}},uf={},p1={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dc=Symbol.for("react.element"),XA=Symbol.for("react.portal"),eO=Symbol.for("react.fragment"),tO=Symbol.for("react.strict_mode"),rO=Symbol.for("react.profiler"),nO=Symbol.for("react.provider"),sO=Symbol.for("react.context"),iO=Symbol.for("react.forward_ref"),oO=Symbol.for("react.suspense"),aO=Symbol.for("react.memo"),lO=Symbol.for("react.lazy"),gv=Symbol.iterator;function cO(t){return t===null||typeof t!="object"?null:(t=gv&&t[gv]||t["@@iterator"],typeof t=="function"?t:null)}var g1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y1=Object.assign,v1={};function za(t,e,r){this.props=t,this.context=e,this.refs=v1,this.updater=r||g1}za.prototype.isReactComponent={};za.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};za.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function x1(){}x1.prototype=za.prototype;function ig(t,e,r){this.props=t,this.context=e,this.refs=v1,this.updater=r||g1}var og=ig.prototype=new x1;og.constructor=ig;y1(og,za.prototype);og.isPureReactComponent=!0;var yv=Array.isArray,w1=Object.prototype.hasOwnProperty,ag={current:null},b1={key:!0,ref:!0,__self:!0,__source:!0};function _1(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)w1.call(e,n)&&!b1.hasOwnProperty(n)&&(s[n]=e[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Dc,type:t,key:i,ref:o,props:s,_owner:ag.current}}function uO(t,e){return{$$typeof:Dc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function lg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Dc}function dO(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var vv=/\/+/g;function ih(t,e){return typeof t=="object"&&t!==null&&t.key!=null?dO(""+t.key):e.toString(36)}function Iu(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Dc:case XA:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+ih(o,0):n,yv(s)?(r="",t!=null&&(r=t.replace(vv,"$&/")+"/"),Iu(s,e,r,"",function(u){return u})):s!=null&&(lg(s)&&(s=uO(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(vv,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",yv(t))for(var l=0;l<t.length;l++){i=t[l];var c=n+ih(i,l);o+=Iu(i,e,r,c,s)}else if(c=cO(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=n+ih(i,l++),o+=Iu(i,e,r,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function au(t,e,r){if(t==null)return t;var n=[],s=0;return Iu(t,n,"","",function(i){return e.call(r,i,s++)}),n}function fO(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var or={current:null},Mu={transition:null},hO={ReactCurrentDispatcher:or,ReactCurrentBatchConfig:Mu,ReactCurrentOwner:ag};function S1(){throw Error("act(...) is not supported in production builds of React.")}Se.Children={map:au,forEach:function(t,e,r){au(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return au(t,function(){e++}),e},toArray:function(t){return au(t,function(e){return e})||[]},only:function(t){if(!lg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Se.Component=za;Se.Fragment=eO;Se.Profiler=rO;Se.PureComponent=ig;Se.StrictMode=tO;Se.Suspense=oO;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hO;Se.act=S1;Se.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=y1({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=ag.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)w1.call(e,c)&&!b1.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Dc,type:t.type,key:s,ref:i,props:n,_owner:o}};Se.createContext=function(t){return t={$$typeof:sO,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:nO,_context:t},t.Consumer=t};Se.createElement=_1;Se.createFactory=function(t){var e=_1.bind(null,t);return e.type=t,e};Se.createRef=function(){return{current:null}};Se.forwardRef=function(t){return{$$typeof:iO,render:t}};Se.isValidElement=lg;Se.lazy=function(t){return{$$typeof:lO,_payload:{_status:-1,_result:t},_init:fO}};Se.memo=function(t,e){return{$$typeof:aO,type:t,compare:e===void 0?null:e}};Se.startTransition=function(t){var e=Mu.transition;Mu.transition={};try{t()}finally{Mu.transition=e}};Se.unstable_act=S1;Se.useCallback=function(t,e){return or.current.useCallback(t,e)};Se.useContext=function(t){return or.current.useContext(t)};Se.useDebugValue=function(){};Se.useDeferredValue=function(t){return or.current.useDeferredValue(t)};Se.useEffect=function(t,e){return or.current.useEffect(t,e)};Se.useId=function(){return or.current.useId()};Se.useImperativeHandle=function(t,e,r){return or.current.useImperativeHandle(t,e,r)};Se.useInsertionEffect=function(t,e){return or.current.useInsertionEffect(t,e)};Se.useLayoutEffect=function(t,e){return or.current.useLayoutEffect(t,e)};Se.useMemo=function(t,e){return or.current.useMemo(t,e)};Se.useReducer=function(t,e,r){return or.current.useReducer(t,e,r)};Se.useRef=function(t){return or.current.useRef(t)};Se.useState=function(t){return or.current.useState(t)};Se.useSyncExternalStore=function(t,e,r){return or.current.useSyncExternalStore(t,e,r)};Se.useTransition=function(){return or.current.useTransition()};Se.version="18.3.1";p1.exports=Se;var g=p1.exports;const fe=h1(g),j1=JA({__proto__:null,default:fe},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mO=g,pO=Symbol.for("react.element"),gO=Symbol.for("react.fragment"),yO=Object.prototype.hasOwnProperty,vO=mO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xO={key:!0,ref:!0,__self:!0,__source:!0};function k1(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)yO.call(e,n)&&!xO.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:pO,type:t,key:i,ref:o,props:s,_owner:vO.current}}uf.Fragment=gO;uf.jsx=k1;uf.jsxs=k1;m1.exports=uf;var a=m1.exports,N1={exports:{}},Lr={},C1={exports:{}},E1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,L){var K=P.length;P.push(L);e:for(;0<K;){var ne=K-1>>>1,je=P[ne];if(0<s(je,L))P[ne]=L,P[K]=je,K=ne;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var L=P[0],K=P.pop();if(K!==L){P[0]=K;e:for(var ne=0,je=P.length,Pt=je>>>1;ne<Pt;){var it=2*(ne+1)-1,Mt=P[it],Xe=it+1,ie=P[Xe];if(0>s(Mt,K))Xe<je&&0>s(ie,Mt)?(P[ne]=ie,P[Xe]=K,ne=Xe):(P[ne]=Mt,P[it]=K,ne=it);else if(Xe<je&&0>s(ie,K))P[ne]=ie,P[Xe]=K,ne=Xe;else break e}}return L}function s(P,L){var K=P.sortIndex-L.sortIndex;return K!==0?K:P.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,y=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(P){for(var L=r(u);L!==null;){if(L.callback===null)n(u);else if(L.startTime<=P)n(u),L.sortIndex=L.expirationTime,e(c,L);else break;L=r(u)}}function _(P){if(x=!1,v(P),!y)if(r(c)!==null)y=!0,q(S);else{var L=r(u);L!==null&&U(_,L.startTime-P)}}function S(P,L){y=!1,x&&(x=!1,w(E),E=-1),m=!0;var K=h;try{for(v(L),f=r(c);f!==null&&(!(f.expirationTime>L)||P&&!O());){var ne=f.callback;if(typeof ne=="function"){f.callback=null,h=f.priorityLevel;var je=ne(f.expirationTime<=L);L=t.unstable_now(),typeof je=="function"?f.callback=je:f===r(c)&&n(c),v(L)}else n(c);f=r(c)}if(f!==null)var Pt=!0;else{var it=r(u);it!==null&&U(_,it.startTime-L),Pt=!1}return Pt}finally{f=null,h=K,m=!1}}var C=!1,j=null,E=-1,A=5,D=-1;function O(){return!(t.unstable_now()-D<A)}function I(){if(j!==null){var P=t.unstable_now();D=P;var L=!0;try{L=j(!0,P)}finally{L?$():(C=!1,j=null)}}else C=!1}var $;if(typeof p=="function")$=function(){p(I)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,M=H.port2;H.port1.onmessage=I,$=function(){M.postMessage(null)}}else $=function(){b(I,0)};function q(P){j=P,C||(C=!0,$())}function U(P,L){E=b(function(){P(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,q(S))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(P){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var K=h;h=L;try{return P()}finally{h=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,L){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var K=h;h=P;try{return L()}finally{h=K}},t.unstable_scheduleCallback=function(P,L,K){var ne=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ne+K:ne):K=ne,P){case 1:var je=-1;break;case 2:je=250;break;case 5:je=1073741823;break;case 4:je=1e4;break;default:je=5e3}return je=K+je,P={id:d++,callback:L,priorityLevel:P,startTime:K,expirationTime:je,sortIndex:-1},K>ne?(P.sortIndex=K,e(u,P),r(c)===null&&P===r(u)&&(x?(w(E),E=-1):x=!0,U(_,K-ne))):(P.sortIndex=je,e(c,P),y||m||(y=!0,q(S))),P},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(P){var L=h;return function(){var K=h;h=L;try{return P.apply(this,arguments)}finally{h=K}}}})(E1);C1.exports=E1;var wO=C1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bO=g,Ir=wO;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var P1=new Set,zl={};function fo(t,e){ka(t,e),ka(t+"Capture",e)}function ka(t,e){for(zl[t]=e,t=0;t<e.length;t++)P1.add(e[t])}var ls=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mm=Object.prototype.hasOwnProperty,_O=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xv={},wv={};function SO(t){return mm.call(wv,t)?!0:mm.call(xv,t)?!1:_O.test(t)?wv[t]=!0:(xv[t]=!0,!1)}function jO(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function kO(t,e,r,n){if(e===null||typeof e>"u"||jO(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ar(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Dt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Dt[t]=new ar(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Dt[e]=new ar(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Dt[t]=new ar(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Dt[t]=new ar(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Dt[t]=new ar(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Dt[t]=new ar(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Dt[t]=new ar(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Dt[t]=new ar(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Dt[t]=new ar(t,5,!1,t.toLowerCase(),null,!1,!1)});var cg=/[\-:]([a-z])/g;function ug(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(cg,ug);Dt[e]=new ar(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(cg,ug);Dt[e]=new ar(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(cg,ug);Dt[e]=new ar(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Dt[t]=new ar(t,1,!1,t.toLowerCase(),null,!1,!1)});Dt.xlinkHref=new ar("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Dt[t]=new ar(t,1,!1,t.toLowerCase(),null,!0,!0)});function dg(t,e,r,n){var s=Dt.hasOwnProperty(e)?Dt[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(kO(e,r,s,n)&&(r=null),n||s===null?SO(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var vs=bO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,lu=Symbol.for("react.element"),Lo=Symbol.for("react.portal"),Fo=Symbol.for("react.fragment"),fg=Symbol.for("react.strict_mode"),pm=Symbol.for("react.profiler"),T1=Symbol.for("react.provider"),A1=Symbol.for("react.context"),hg=Symbol.for("react.forward_ref"),gm=Symbol.for("react.suspense"),ym=Symbol.for("react.suspense_list"),mg=Symbol.for("react.memo"),Os=Symbol.for("react.lazy"),O1=Symbol.for("react.offscreen"),bv=Symbol.iterator;function nl(t){return t===null||typeof t!="object"?null:(t=bv&&t[bv]||t["@@iterator"],typeof t=="function"?t:null)}var st=Object.assign,oh;function xl(t){if(oh===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);oh=e&&e[1]||""}return`
`+oh+t}var ah=!1;function lh(t,e){if(!t||ah)return"";ah=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{ah=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?xl(t):""}function NO(t){switch(t.tag){case 5:return xl(t.type);case 16:return xl("Lazy");case 13:return xl("Suspense");case 19:return xl("SuspenseList");case 0:case 2:case 15:return t=lh(t.type,!1),t;case 11:return t=lh(t.type.render,!1),t;case 1:return t=lh(t.type,!0),t;default:return""}}function vm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Fo:return"Fragment";case Lo:return"Portal";case pm:return"Profiler";case fg:return"StrictMode";case gm:return"Suspense";case ym:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case A1:return(t.displayName||"Context")+".Consumer";case T1:return(t._context.displayName||"Context")+".Provider";case hg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case mg:return e=t.displayName||null,e!==null?e:vm(t.type)||"Memo";case Os:e=t._payload,t=t._init;try{return vm(t(e))}catch{}}return null}function CO(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vm(e);case 8:return e===fg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function si(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function R1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function EO(t){var e=R1(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function cu(t){t._valueTracker||(t._valueTracker=EO(t))}function D1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=R1(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function rd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function xm(t,e){var r=e.checked;return st({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function _v(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=si(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function I1(t,e){e=e.checked,e!=null&&dg(t,"checked",e,!1)}function wm(t,e){I1(t,e);var r=si(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?bm(t,e.type,r):e.hasOwnProperty("defaultValue")&&bm(t,e.type,si(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Sv(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function bm(t,e,r){(e!=="number"||rd(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var wl=Array.isArray;function Yo(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+si(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function _m(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return st({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function jv(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(z(92));if(wl(r)){if(1<r.length)throw Error(z(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:si(r)}}function M1(t,e){var r=si(e.value),n=si(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function kv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function L1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?L1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var uu,F1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(uu=uu||document.createElement("div"),uu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=uu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Wl(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Cl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},PO=["Webkit","ms","Moz","O"];Object.keys(Cl).forEach(function(t){PO.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Cl[e]=Cl[t]})});function $1(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Cl.hasOwnProperty(t)&&Cl[t]?(""+e).trim():e+"px"}function U1(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=$1(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var TO=st({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jm(t,e){if(e){if(TO[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function km(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nm=null;function pg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Cm=null,Jo=null,Zo=null;function Nv(t){if(t=Lc(t)){if(typeof Cm!="function")throw Error(z(280));var e=t.stateNode;e&&(e=pf(e),Cm(t.stateNode,t.type,e))}}function B1(t){Jo?Zo?Zo.push(t):Zo=[t]:Jo=t}function V1(){if(Jo){var t=Jo,e=Zo;if(Zo=Jo=null,Nv(t),e)for(t=0;t<e.length;t++)Nv(e[t])}}function z1(t,e){return t(e)}function W1(){}var ch=!1;function q1(t,e,r){if(ch)return t(e,r);ch=!0;try{return z1(t,e,r)}finally{ch=!1,(Jo!==null||Zo!==null)&&(W1(),V1())}}function ql(t,e){var r=t.stateNode;if(r===null)return null;var n=pf(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(z(231,e,typeof r));return r}var Em=!1;if(ls)try{var sl={};Object.defineProperty(sl,"passive",{get:function(){Em=!0}}),window.addEventListener("test",sl,sl),window.removeEventListener("test",sl,sl)}catch{Em=!1}function AO(t,e,r,n,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var El=!1,nd=null,sd=!1,Pm=null,OO={onError:function(t){El=!0,nd=t}};function RO(t,e,r,n,s,i,o,l,c){El=!1,nd=null,AO.apply(OO,arguments)}function DO(t,e,r,n,s,i,o,l,c){if(RO.apply(this,arguments),El){if(El){var u=nd;El=!1,nd=null}else throw Error(z(198));sd||(sd=!0,Pm=u)}}function ho(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function H1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Cv(t){if(ho(t)!==t)throw Error(z(188))}function IO(t){var e=t.alternate;if(!e){if(e=ho(t),e===null)throw Error(z(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Cv(s),t;if(i===n)return Cv(s),e;i=i.sibling}throw Error(z(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(z(189))}}if(r.alternate!==n)throw Error(z(190))}if(r.tag!==3)throw Error(z(188));return r.stateNode.current===r?t:e}function K1(t){return t=IO(t),t!==null?G1(t):null}function G1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=G1(t);if(e!==null)return e;t=t.sibling}return null}var Q1=Ir.unstable_scheduleCallback,Ev=Ir.unstable_cancelCallback,MO=Ir.unstable_shouldYield,LO=Ir.unstable_requestPaint,dt=Ir.unstable_now,FO=Ir.unstable_getCurrentPriorityLevel,gg=Ir.unstable_ImmediatePriority,Y1=Ir.unstable_UserBlockingPriority,id=Ir.unstable_NormalPriority,$O=Ir.unstable_LowPriority,J1=Ir.unstable_IdlePriority,df=null,Mn=null;function UO(t){if(Mn&&typeof Mn.onCommitFiberRoot=="function")try{Mn.onCommitFiberRoot(df,t,void 0,(t.current.flags&128)===128)}catch{}}var pn=Math.clz32?Math.clz32:zO,BO=Math.log,VO=Math.LN2;function zO(t){return t>>>=0,t===0?32:31-(BO(t)/VO|0)|0}var du=64,fu=4194304;function bl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function od(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=bl(l):(i&=o,i!==0&&(n=bl(i)))}else o=r&~s,o!==0?n=bl(o):i!==0&&(n=bl(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-pn(e),s=1<<r,n|=t[r],e&=~s;return n}function WO(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qO(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-pn(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=WO(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function Tm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Z1(){var t=du;return du<<=1,!(du&4194240)&&(du=64),t}function uh(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Ic(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-pn(e),t[e]=r}function HO(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-pn(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function yg(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-pn(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var Ve=0;function X1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ej,vg,tj,rj,nj,Am=!1,hu=[],Ys=null,Js=null,Zs=null,Hl=new Map,Kl=new Map,Ds=[],KO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pv(t,e){switch(t){case"focusin":case"focusout":Ys=null;break;case"dragenter":case"dragleave":Js=null;break;case"mouseover":case"mouseout":Zs=null;break;case"pointerover":case"pointerout":Hl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kl.delete(e.pointerId)}}function il(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Lc(e),e!==null&&vg(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function GO(t,e,r,n,s){switch(e){case"focusin":return Ys=il(Ys,t,e,r,n,s),!0;case"dragenter":return Js=il(Js,t,e,r,n,s),!0;case"mouseover":return Zs=il(Zs,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return Hl.set(i,il(Hl.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Kl.set(i,il(Kl.get(i)||null,t,e,r,n,s)),!0}return!1}function sj(t){var e=Oi(t.target);if(e!==null){var r=ho(e);if(r!==null){if(e=r.tag,e===13){if(e=H1(r),e!==null){t.blockedOn=e,nj(t.priority,function(){tj(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Lu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Om(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Nm=n,r.target.dispatchEvent(n),Nm=null}else return e=Lc(r),e!==null&&vg(e),t.blockedOn=r,!1;e.shift()}return!0}function Tv(t,e,r){Lu(t)&&r.delete(e)}function QO(){Am=!1,Ys!==null&&Lu(Ys)&&(Ys=null),Js!==null&&Lu(Js)&&(Js=null),Zs!==null&&Lu(Zs)&&(Zs=null),Hl.forEach(Tv),Kl.forEach(Tv)}function ol(t,e){t.blockedOn===e&&(t.blockedOn=null,Am||(Am=!0,Ir.unstable_scheduleCallback(Ir.unstable_NormalPriority,QO)))}function Gl(t){function e(s){return ol(s,t)}if(0<hu.length){ol(hu[0],t);for(var r=1;r<hu.length;r++){var n=hu[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Ys!==null&&ol(Ys,t),Js!==null&&ol(Js,t),Zs!==null&&ol(Zs,t),Hl.forEach(e),Kl.forEach(e),r=0;r<Ds.length;r++)n=Ds[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ds.length&&(r=Ds[0],r.blockedOn===null);)sj(r),r.blockedOn===null&&Ds.shift()}var Xo=vs.ReactCurrentBatchConfig,ad=!0;function YO(t,e,r,n){var s=Ve,i=Xo.transition;Xo.transition=null;try{Ve=1,xg(t,e,r,n)}finally{Ve=s,Xo.transition=i}}function JO(t,e,r,n){var s=Ve,i=Xo.transition;Xo.transition=null;try{Ve=4,xg(t,e,r,n)}finally{Ve=s,Xo.transition=i}}function xg(t,e,r,n){if(ad){var s=Om(t,e,r,n);if(s===null)wh(t,e,n,ld,r),Pv(t,n);else if(GO(s,t,e,r,n))n.stopPropagation();else if(Pv(t,n),e&4&&-1<KO.indexOf(t)){for(;s!==null;){var i=Lc(s);if(i!==null&&ej(i),i=Om(t,e,r,n),i===null&&wh(t,e,n,ld,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else wh(t,e,n,null,r)}}var ld=null;function Om(t,e,r,n){if(ld=null,t=pg(n),t=Oi(t),t!==null)if(e=ho(t),e===null)t=null;else if(r=e.tag,r===13){if(t=H1(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ld=t,null}function ij(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(FO()){case gg:return 1;case Y1:return 4;case id:case $O:return 16;case J1:return 536870912;default:return 16}default:return 16}}var Gs=null,wg=null,Fu=null;function oj(){if(Fu)return Fu;var t,e=wg,r=e.length,n,s="value"in Gs?Gs.value:Gs.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return Fu=s.slice(t,1<n?1-n:void 0)}function $u(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function mu(){return!0}function Av(){return!1}function Fr(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?mu:Av,this.isPropagationStopped=Av,this}return st(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=mu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=mu)},persist:function(){},isPersistent:mu}),e}var Wa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bg=Fr(Wa),Mc=st({},Wa,{view:0,detail:0}),ZO=Fr(Mc),dh,fh,al,ff=st({},Mc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_g,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==al&&(al&&t.type==="mousemove"?(dh=t.screenX-al.screenX,fh=t.screenY-al.screenY):fh=dh=0,al=t),dh)},movementY:function(t){return"movementY"in t?t.movementY:fh}}),Ov=Fr(ff),XO=st({},ff,{dataTransfer:0}),eR=Fr(XO),tR=st({},Mc,{relatedTarget:0}),hh=Fr(tR),rR=st({},Wa,{animationName:0,elapsedTime:0,pseudoElement:0}),nR=Fr(rR),sR=st({},Wa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),iR=Fr(sR),oR=st({},Wa,{data:0}),Rv=Fr(oR),aR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=cR[t])?!!e[t]:!1}function _g(){return uR}var dR=st({},Mc,{key:function(t){if(t.key){var e=aR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=$u(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?lR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_g,charCode:function(t){return t.type==="keypress"?$u(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$u(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),fR=Fr(dR),hR=st({},ff,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dv=Fr(hR),mR=st({},Mc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_g}),pR=Fr(mR),gR=st({},Wa,{propertyName:0,elapsedTime:0,pseudoElement:0}),yR=Fr(gR),vR=st({},ff,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xR=Fr(vR),wR=[9,13,27,32],Sg=ls&&"CompositionEvent"in window,Pl=null;ls&&"documentMode"in document&&(Pl=document.documentMode);var bR=ls&&"TextEvent"in window&&!Pl,aj=ls&&(!Sg||Pl&&8<Pl&&11>=Pl),Iv=" ",Mv=!1;function lj(t,e){switch(t){case"keyup":return wR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cj(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $o=!1;function _R(t,e){switch(t){case"compositionend":return cj(e);case"keypress":return e.which!==32?null:(Mv=!0,Iv);case"textInput":return t=e.data,t===Iv&&Mv?null:t;default:return null}}function SR(t,e){if($o)return t==="compositionend"||!Sg&&lj(t,e)?(t=oj(),Fu=wg=Gs=null,$o=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return aj&&e.locale!=="ko"?null:e.data;default:return null}}var jR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!jR[t.type]:e==="textarea"}function uj(t,e,r,n){B1(n),e=cd(e,"onChange"),0<e.length&&(r=new bg("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Tl=null,Ql=null;function kR(t){bj(t,0)}function hf(t){var e=Vo(t);if(D1(e))return t}function NR(t,e){if(t==="change")return e}var dj=!1;if(ls){var mh;if(ls){var ph="oninput"in document;if(!ph){var Fv=document.createElement("div");Fv.setAttribute("oninput","return;"),ph=typeof Fv.oninput=="function"}mh=ph}else mh=!1;dj=mh&&(!document.documentMode||9<document.documentMode)}function $v(){Tl&&(Tl.detachEvent("onpropertychange",fj),Ql=Tl=null)}function fj(t){if(t.propertyName==="value"&&hf(Ql)){var e=[];uj(e,Ql,t,pg(t)),q1(kR,e)}}function CR(t,e,r){t==="focusin"?($v(),Tl=e,Ql=r,Tl.attachEvent("onpropertychange",fj)):t==="focusout"&&$v()}function ER(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hf(Ql)}function PR(t,e){if(t==="click")return hf(e)}function TR(t,e){if(t==="input"||t==="change")return hf(e)}function AR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var vn=typeof Object.is=="function"?Object.is:AR;function Yl(t,e){if(vn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!mm.call(e,s)||!vn(t[s],e[s]))return!1}return!0}function Uv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Bv(t,e){var r=Uv(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Uv(r)}}function hj(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?hj(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function mj(){for(var t=window,e=rd();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=rd(t.document)}return e}function jg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function OR(t){var e=mj(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&hj(r.ownerDocument.documentElement,r)){if(n!==null&&jg(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=Bv(r,i);var o=Bv(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var RR=ls&&"documentMode"in document&&11>=document.documentMode,Uo=null,Rm=null,Al=null,Dm=!1;function Vv(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Dm||Uo==null||Uo!==rd(n)||(n=Uo,"selectionStart"in n&&jg(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Al&&Yl(Al,n)||(Al=n,n=cd(Rm,"onSelect"),0<n.length&&(e=new bg("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Uo)))}function pu(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Bo={animationend:pu("Animation","AnimationEnd"),animationiteration:pu("Animation","AnimationIteration"),animationstart:pu("Animation","AnimationStart"),transitionend:pu("Transition","TransitionEnd")},gh={},pj={};ls&&(pj=document.createElement("div").style,"AnimationEvent"in window||(delete Bo.animationend.animation,delete Bo.animationiteration.animation,delete Bo.animationstart.animation),"TransitionEvent"in window||delete Bo.transitionend.transition);function mf(t){if(gh[t])return gh[t];if(!Bo[t])return t;var e=Bo[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in pj)return gh[t]=e[r];return t}var gj=mf("animationend"),yj=mf("animationiteration"),vj=mf("animationstart"),xj=mf("transitionend"),wj=new Map,zv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mi(t,e){wj.set(t,e),fo(e,[t])}for(var yh=0;yh<zv.length;yh++){var vh=zv[yh],DR=vh.toLowerCase(),IR=vh[0].toUpperCase()+vh.slice(1);mi(DR,"on"+IR)}mi(gj,"onAnimationEnd");mi(yj,"onAnimationIteration");mi(vj,"onAnimationStart");mi("dblclick","onDoubleClick");mi("focusin","onFocus");mi("focusout","onBlur");mi(xj,"onTransitionEnd");ka("onMouseEnter",["mouseout","mouseover"]);ka("onMouseLeave",["mouseout","mouseover"]);ka("onPointerEnter",["pointerout","pointerover"]);ka("onPointerLeave",["pointerout","pointerover"]);fo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fo("onBeforeInput",["compositionend","keypress","textInput","paste"]);fo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MR=new Set("cancel close invalid load scroll toggle".split(" ").concat(_l));function Wv(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,DO(n,e,void 0,t),t.currentTarget=null}function bj(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Wv(s,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Wv(s,l,u),i=c}}}if(sd)throw t=Pm,sd=!1,Pm=null,t}function Ge(t,e){var r=e[$m];r===void 0&&(r=e[$m]=new Set);var n=t+"__bubble";r.has(n)||(_j(e,t,2,!1),r.add(n))}function xh(t,e,r){var n=0;e&&(n|=4),_j(r,t,n,e)}var gu="_reactListening"+Math.random().toString(36).slice(2);function Jl(t){if(!t[gu]){t[gu]=!0,P1.forEach(function(r){r!=="selectionchange"&&(MR.has(r)||xh(r,!1,t),xh(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[gu]||(e[gu]=!0,xh("selectionchange",!1,e))}}function _j(t,e,r,n){switch(ij(e)){case 1:var s=YO;break;case 4:s=JO;break;default:s=xg}r=s.bind(null,e,r,t),s=void 0,!Em||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function wh(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Oi(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}q1(function(){var u=i,d=pg(r),f=[];e:{var h=wj.get(t);if(h!==void 0){var m=bg,y=t;switch(t){case"keypress":if($u(r)===0)break e;case"keydown":case"keyup":m=fR;break;case"focusin":y="focus",m=hh;break;case"focusout":y="blur",m=hh;break;case"beforeblur":case"afterblur":m=hh;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Ov;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=eR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=pR;break;case gj:case yj:case vj:m=nR;break;case xj:m=yR;break;case"scroll":m=ZO;break;case"wheel":m=xR;break;case"copy":case"cut":case"paste":m=iR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Dv}var x=(e&4)!==0,b=!x&&t==="scroll",w=x?h!==null?h+"Capture":null:h;x=[];for(var p=u,v;p!==null;){v=p;var _=v.stateNode;if(v.tag===5&&_!==null&&(v=_,w!==null&&(_=ql(p,w),_!=null&&x.push(Zl(p,_,v)))),b)break;p=p.return}0<x.length&&(h=new m(h,y,null,r,d),f.push({event:h,listeners:x}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&r!==Nm&&(y=r.relatedTarget||r.fromElement)&&(Oi(y)||y[cs]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(y=r.relatedTarget||r.toElement,m=u,y=y?Oi(y):null,y!==null&&(b=ho(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(x=Ov,_="onMouseLeave",w="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(x=Dv,_="onPointerLeave",w="onPointerEnter",p="pointer"),b=m==null?h:Vo(m),v=y==null?h:Vo(y),h=new x(_,p+"leave",m,r,d),h.target=b,h.relatedTarget=v,_=null,Oi(d)===u&&(x=new x(w,p+"enter",y,r,d),x.target=v,x.relatedTarget=b,_=x),b=_,m&&y)t:{for(x=m,w=y,p=0,v=x;v;v=vo(v))p++;for(v=0,_=w;_;_=vo(_))v++;for(;0<p-v;)x=vo(x),p--;for(;0<v-p;)w=vo(w),v--;for(;p--;){if(x===w||w!==null&&x===w.alternate)break t;x=vo(x),w=vo(w)}x=null}else x=null;m!==null&&qv(f,h,m,x,!1),y!==null&&b!==null&&qv(f,b,y,x,!0)}}e:{if(h=u?Vo(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var S=NR;else if(Lv(h))if(dj)S=TR;else{S=ER;var C=CR}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=PR);if(S&&(S=S(t,u))){uj(f,S,r,d);break e}C&&C(t,h,u),t==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&bm(h,"number",h.value)}switch(C=u?Vo(u):window,t){case"focusin":(Lv(C)||C.contentEditable==="true")&&(Uo=C,Rm=u,Al=null);break;case"focusout":Al=Rm=Uo=null;break;case"mousedown":Dm=!0;break;case"contextmenu":case"mouseup":case"dragend":Dm=!1,Vv(f,r,d);break;case"selectionchange":if(RR)break;case"keydown":case"keyup":Vv(f,r,d)}var j;if(Sg)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else $o?lj(t,r)&&(E="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(aj&&r.locale!=="ko"&&($o||E!=="onCompositionStart"?E==="onCompositionEnd"&&$o&&(j=oj()):(Gs=d,wg="value"in Gs?Gs.value:Gs.textContent,$o=!0)),C=cd(u,E),0<C.length&&(E=new Rv(E,t,null,r,d),f.push({event:E,listeners:C}),j?E.data=j:(j=cj(r),j!==null&&(E.data=j)))),(j=bR?_R(t,r):SR(t,r))&&(u=cd(u,"onBeforeInput"),0<u.length&&(d=new Rv("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=j))}bj(f,e)})}function Zl(t,e,r){return{instance:t,listener:e,currentTarget:r}}function cd(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ql(t,r),i!=null&&n.unshift(Zl(t,i,s)),i=ql(t,e),i!=null&&n.push(Zl(t,i,s))),t=t.return}return n}function vo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function qv(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=ql(r,i),c!=null&&o.unshift(Zl(r,c,l))):s||(c=ql(r,i),c!=null&&o.push(Zl(r,c,l)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var LR=/\r\n?/g,FR=/\u0000|\uFFFD/g;function Hv(t){return(typeof t=="string"?t:""+t).replace(LR,`
`).replace(FR,"")}function yu(t,e,r){if(e=Hv(e),Hv(t)!==e&&r)throw Error(z(425))}function ud(){}var Im=null,Mm=null;function Lm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Fm=typeof setTimeout=="function"?setTimeout:void 0,$R=typeof clearTimeout=="function"?clearTimeout:void 0,Kv=typeof Promise=="function"?Promise:void 0,UR=typeof queueMicrotask=="function"?queueMicrotask:typeof Kv<"u"?function(t){return Kv.resolve(null).then(t).catch(BR)}:Fm;function BR(t){setTimeout(function(){throw t})}function bh(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),Gl(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Gl(e)}function Xs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Gv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var qa=Math.random().toString(36).slice(2),On="__reactFiber$"+qa,Xl="__reactProps$"+qa,cs="__reactContainer$"+qa,$m="__reactEvents$"+qa,VR="__reactListeners$"+qa,zR="__reactHandles$"+qa;function Oi(t){var e=t[On];if(e)return e;for(var r=t.parentNode;r;){if(e=r[cs]||r[On]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Gv(t);t!==null;){if(r=t[On])return r;t=Gv(t)}return e}t=r,r=t.parentNode}return null}function Lc(t){return t=t[On]||t[cs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Vo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function pf(t){return t[Xl]||null}var Um=[],zo=-1;function pi(t){return{current:t}}function Ye(t){0>zo||(t.current=Um[zo],Um[zo]=null,zo--)}function qe(t,e){zo++,Um[zo]=t.current,t.current=e}var ii={},Vt=pi(ii),yr=pi(!1),Qi=ii;function Na(t,e){var r=t.type.contextTypes;if(!r)return ii;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function vr(t){return t=t.childContextTypes,t!=null}function dd(){Ye(yr),Ye(Vt)}function Qv(t,e,r){if(Vt.current!==ii)throw Error(z(168));qe(Vt,e),qe(yr,r)}function Sj(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(z(108,CO(t)||"Unknown",s));return st({},r,n)}function fd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ii,Qi=Vt.current,qe(Vt,t),qe(yr,yr.current),!0}function Yv(t,e,r){var n=t.stateNode;if(!n)throw Error(z(169));r?(t=Sj(t,e,Qi),n.__reactInternalMemoizedMergedChildContext=t,Ye(yr),Ye(Vt),qe(Vt,t)):Ye(yr),qe(yr,r)}var es=null,gf=!1,_h=!1;function jj(t){es===null?es=[t]:es.push(t)}function WR(t){gf=!0,jj(t)}function gi(){if(!_h&&es!==null){_h=!0;var t=0,e=Ve;try{var r=es;for(Ve=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}es=null,gf=!1}catch(s){throw es!==null&&(es=es.slice(t+1)),Q1(gg,gi),s}finally{Ve=e,_h=!1}}return null}var Wo=[],qo=0,hd=null,md=0,Vr=[],zr=0,Yi=null,ss=1,is="";function ji(t,e){Wo[qo++]=md,Wo[qo++]=hd,hd=t,md=e}function kj(t,e,r){Vr[zr++]=ss,Vr[zr++]=is,Vr[zr++]=Yi,Yi=t;var n=ss;t=is;var s=32-pn(n)-1;n&=~(1<<s),r+=1;var i=32-pn(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,ss=1<<32-pn(e)+s|r<<s|n,is=i+t}else ss=1<<i|r<<s|n,is=t}function kg(t){t.return!==null&&(ji(t,1),kj(t,1,0))}function Ng(t){for(;t===hd;)hd=Wo[--qo],Wo[qo]=null,md=Wo[--qo],Wo[qo]=null;for(;t===Yi;)Yi=Vr[--zr],Vr[zr]=null,is=Vr[--zr],Vr[zr]=null,ss=Vr[--zr],Vr[zr]=null}var Or=null,Ar=null,Ze=!1,un=null;function Nj(t,e){var r=qr(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Jv(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Or=t,Ar=Xs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Or=t,Ar=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Yi!==null?{id:ss,overflow:is}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=qr(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Or=t,Ar=null,!0):!1;default:return!1}}function Bm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Vm(t){if(Ze){var e=Ar;if(e){var r=e;if(!Jv(t,e)){if(Bm(t))throw Error(z(418));e=Xs(r.nextSibling);var n=Or;e&&Jv(t,e)?Nj(n,r):(t.flags=t.flags&-4097|2,Ze=!1,Or=t)}}else{if(Bm(t))throw Error(z(418));t.flags=t.flags&-4097|2,Ze=!1,Or=t}}}function Zv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Or=t}function vu(t){if(t!==Or)return!1;if(!Ze)return Zv(t),Ze=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Lm(t.type,t.memoizedProps)),e&&(e=Ar)){if(Bm(t))throw Cj(),Error(z(418));for(;e;)Nj(t,e),e=Xs(e.nextSibling)}if(Zv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Ar=Xs(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Ar=null}}else Ar=Or?Xs(t.stateNode.nextSibling):null;return!0}function Cj(){for(var t=Ar;t;)t=Xs(t.nextSibling)}function Ca(){Ar=Or=null,Ze=!1}function Cg(t){un===null?un=[t]:un.push(t)}var qR=vs.ReactCurrentBatchConfig;function ll(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(z(309));var n=r.stateNode}if(!n)throw Error(z(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(z(284));if(!r._owner)throw Error(z(290,t))}return t}function xu(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Xv(t){var e=t._init;return e(t._payload)}function Ej(t){function e(w,p){if(t){var v=w.deletions;v===null?(w.deletions=[p],w.flags|=16):v.push(p)}}function r(w,p){if(!t)return null;for(;p!==null;)e(w,p),p=p.sibling;return null}function n(w,p){for(w=new Map;p!==null;)p.key!==null?w.set(p.key,p):w.set(p.index,p),p=p.sibling;return w}function s(w,p){return w=ni(w,p),w.index=0,w.sibling=null,w}function i(w,p,v){return w.index=v,t?(v=w.alternate,v!==null?(v=v.index,v<p?(w.flags|=2,p):v):(w.flags|=2,p)):(w.flags|=1048576,p)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function l(w,p,v,_){return p===null||p.tag!==6?(p=Ph(v,w.mode,_),p.return=w,p):(p=s(p,v),p.return=w,p)}function c(w,p,v,_){var S=v.type;return S===Fo?d(w,p,v.props.children,_,v.key):p!==null&&(p.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Os&&Xv(S)===p.type)?(_=s(p,v.props),_.ref=ll(w,p,v),_.return=w,_):(_=Hu(v.type,v.key,v.props,null,w.mode,_),_.ref=ll(w,p,v),_.return=w,_)}function u(w,p,v,_){return p===null||p.tag!==4||p.stateNode.containerInfo!==v.containerInfo||p.stateNode.implementation!==v.implementation?(p=Th(v,w.mode,_),p.return=w,p):(p=s(p,v.children||[]),p.return=w,p)}function d(w,p,v,_,S){return p===null||p.tag!==7?(p=Hi(v,w.mode,_,S),p.return=w,p):(p=s(p,v),p.return=w,p)}function f(w,p,v){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Ph(""+p,w.mode,v),p.return=w,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case lu:return v=Hu(p.type,p.key,p.props,null,w.mode,v),v.ref=ll(w,null,p),v.return=w,v;case Lo:return p=Th(p,w.mode,v),p.return=w,p;case Os:var _=p._init;return f(w,_(p._payload),v)}if(wl(p)||nl(p))return p=Hi(p,w.mode,v,null),p.return=w,p;xu(w,p)}return null}function h(w,p,v,_){var S=p!==null?p.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return S!==null?null:l(w,p,""+v,_);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case lu:return v.key===S?c(w,p,v,_):null;case Lo:return v.key===S?u(w,p,v,_):null;case Os:return S=v._init,h(w,p,S(v._payload),_)}if(wl(v)||nl(v))return S!==null?null:d(w,p,v,_,null);xu(w,v)}return null}function m(w,p,v,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return w=w.get(v)||null,l(p,w,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case lu:return w=w.get(_.key===null?v:_.key)||null,c(p,w,_,S);case Lo:return w=w.get(_.key===null?v:_.key)||null,u(p,w,_,S);case Os:var C=_._init;return m(w,p,v,C(_._payload),S)}if(wl(_)||nl(_))return w=w.get(v)||null,d(p,w,_,S,null);xu(p,_)}return null}function y(w,p,v,_){for(var S=null,C=null,j=p,E=p=0,A=null;j!==null&&E<v.length;E++){j.index>E?(A=j,j=null):A=j.sibling;var D=h(w,j,v[E],_);if(D===null){j===null&&(j=A);break}t&&j&&D.alternate===null&&e(w,j),p=i(D,p,E),C===null?S=D:C.sibling=D,C=D,j=A}if(E===v.length)return r(w,j),Ze&&ji(w,E),S;if(j===null){for(;E<v.length;E++)j=f(w,v[E],_),j!==null&&(p=i(j,p,E),C===null?S=j:C.sibling=j,C=j);return Ze&&ji(w,E),S}for(j=n(w,j);E<v.length;E++)A=m(j,w,E,v[E],_),A!==null&&(t&&A.alternate!==null&&j.delete(A.key===null?E:A.key),p=i(A,p,E),C===null?S=A:C.sibling=A,C=A);return t&&j.forEach(function(O){return e(w,O)}),Ze&&ji(w,E),S}function x(w,p,v,_){var S=nl(v);if(typeof S!="function")throw Error(z(150));if(v=S.call(v),v==null)throw Error(z(151));for(var C=S=null,j=p,E=p=0,A=null,D=v.next();j!==null&&!D.done;E++,D=v.next()){j.index>E?(A=j,j=null):A=j.sibling;var O=h(w,j,D.value,_);if(O===null){j===null&&(j=A);break}t&&j&&O.alternate===null&&e(w,j),p=i(O,p,E),C===null?S=O:C.sibling=O,C=O,j=A}if(D.done)return r(w,j),Ze&&ji(w,E),S;if(j===null){for(;!D.done;E++,D=v.next())D=f(w,D.value,_),D!==null&&(p=i(D,p,E),C===null?S=D:C.sibling=D,C=D);return Ze&&ji(w,E),S}for(j=n(w,j);!D.done;E++,D=v.next())D=m(j,w,E,D.value,_),D!==null&&(t&&D.alternate!==null&&j.delete(D.key===null?E:D.key),p=i(D,p,E),C===null?S=D:C.sibling=D,C=D);return t&&j.forEach(function(I){return e(w,I)}),Ze&&ji(w,E),S}function b(w,p,v,_){if(typeof v=="object"&&v!==null&&v.type===Fo&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case lu:e:{for(var S=v.key,C=p;C!==null;){if(C.key===S){if(S=v.type,S===Fo){if(C.tag===7){r(w,C.sibling),p=s(C,v.props.children),p.return=w,w=p;break e}}else if(C.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Os&&Xv(S)===C.type){r(w,C.sibling),p=s(C,v.props),p.ref=ll(w,C,v),p.return=w,w=p;break e}r(w,C);break}else e(w,C);C=C.sibling}v.type===Fo?(p=Hi(v.props.children,w.mode,_,v.key),p.return=w,w=p):(_=Hu(v.type,v.key,v.props,null,w.mode,_),_.ref=ll(w,p,v),_.return=w,w=_)}return o(w);case Lo:e:{for(C=v.key;p!==null;){if(p.key===C)if(p.tag===4&&p.stateNode.containerInfo===v.containerInfo&&p.stateNode.implementation===v.implementation){r(w,p.sibling),p=s(p,v.children||[]),p.return=w,w=p;break e}else{r(w,p);break}else e(w,p);p=p.sibling}p=Th(v,w.mode,_),p.return=w,w=p}return o(w);case Os:return C=v._init,b(w,p,C(v._payload),_)}if(wl(v))return y(w,p,v,_);if(nl(v))return x(w,p,v,_);xu(w,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,p!==null&&p.tag===6?(r(w,p.sibling),p=s(p,v),p.return=w,w=p):(r(w,p),p=Ph(v,w.mode,_),p.return=w,w=p),o(w)):r(w,p)}return b}var Ea=Ej(!0),Pj=Ej(!1),pd=pi(null),gd=null,Ho=null,Eg=null;function Pg(){Eg=Ho=gd=null}function Tg(t){var e=pd.current;Ye(pd),t._currentValue=e}function zm(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function ea(t,e){gd=t,Eg=Ho=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(pr=!0),t.firstContext=null)}function Qr(t){var e=t._currentValue;if(Eg!==t)if(t={context:t,memoizedValue:e,next:null},Ho===null){if(gd===null)throw Error(z(308));Ho=t,gd.dependencies={lanes:0,firstContext:t}}else Ho=Ho.next=t;return e}var Ri=null;function Ag(t){Ri===null?Ri=[t]:Ri.push(t)}function Tj(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Ag(e)):(r.next=s.next,s.next=r),e.interleaved=r,us(t,n)}function us(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Rs=!1;function Og(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Aj(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function os(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ei(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Te&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,us(t,r)}return s=n.interleaved,s===null?(e.next=e,Ag(n)):(e.next=s.next,s.next=e),n.interleaved=e,us(t,r)}function Uu(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,yg(t,r)}}function e0(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function yd(t,e,r,n){var s=t.updateQueue;Rs=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=t,x=l;switch(h=e,m=r,x.tag){case 1:if(y=x.payload,typeof y=="function"){f=y.call(m,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,h=typeof y=="function"?y.call(m,f,h):y,h==null)break e;f=st({},f,h);break e;case 2:Rs=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Zi|=o,t.lanes=o,t.memoizedState=f}}function t0(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(z(191,s));s.call(n)}}}var Fc={},Ln=pi(Fc),ec=pi(Fc),tc=pi(Fc);function Di(t){if(t===Fc)throw Error(z(174));return t}function Rg(t,e){switch(qe(tc,e),qe(ec,t),qe(Ln,Fc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Sm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Sm(e,t)}Ye(Ln),qe(Ln,e)}function Pa(){Ye(Ln),Ye(ec),Ye(tc)}function Oj(t){Di(tc.current);var e=Di(Ln.current),r=Sm(e,t.type);e!==r&&(qe(ec,t),qe(Ln,r))}function Dg(t){ec.current===t&&(Ye(Ln),Ye(ec))}var rt=pi(0);function vd(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Sh=[];function Ig(){for(var t=0;t<Sh.length;t++)Sh[t]._workInProgressVersionPrimary=null;Sh.length=0}var Bu=vs.ReactCurrentDispatcher,jh=vs.ReactCurrentBatchConfig,Ji=0,nt=null,wt=null,kt=null,xd=!1,Ol=!1,rc=0,HR=0;function Ft(){throw Error(z(321))}function Mg(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!vn(t[r],e[r]))return!1;return!0}function Lg(t,e,r,n,s,i){if(Ji=i,nt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Bu.current=t===null||t.memoizedState===null?YR:JR,t=r(n,s),Ol){i=0;do{if(Ol=!1,rc=0,25<=i)throw Error(z(301));i+=1,kt=wt=null,e.updateQueue=null,Bu.current=ZR,t=r(n,s)}while(Ol)}if(Bu.current=wd,e=wt!==null&&wt.next!==null,Ji=0,kt=wt=nt=null,xd=!1,e)throw Error(z(300));return t}function Fg(){var t=rc!==0;return rc=0,t}function Nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?nt.memoizedState=kt=t:kt=kt.next=t,kt}function Yr(){if(wt===null){var t=nt.alternate;t=t!==null?t.memoizedState:null}else t=wt.next;var e=kt===null?nt.memoizedState:kt.next;if(e!==null)kt=e,wt=t;else{if(t===null)throw Error(z(310));wt=t,t={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},kt===null?nt.memoizedState=kt=t:kt=kt.next=t}return kt}function nc(t,e){return typeof e=="function"?e(t):e}function kh(t){var e=Yr(),r=e.queue;if(r===null)throw Error(z(311));r.lastRenderedReducer=t;var n=wt,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Ji&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,nt.lanes|=d,Zi|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,vn(n,e.memoizedState)||(pr=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,nt.lanes|=i,Zi|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Nh(t){var e=Yr(),r=e.queue;if(r===null)throw Error(z(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);vn(i,e.memoizedState)||(pr=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function Rj(){}function Dj(t,e){var r=nt,n=Yr(),s=e(),i=!vn(n.memoizedState,s);if(i&&(n.memoizedState=s,pr=!0),n=n.queue,$g(Lj.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||kt!==null&&kt.memoizedState.tag&1){if(r.flags|=2048,sc(9,Mj.bind(null,r,n,s,e),void 0,null),Ct===null)throw Error(z(349));Ji&30||Ij(r,e,s)}return s}function Ij(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=nt.updateQueue,e===null?(e={lastEffect:null,stores:null},nt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Mj(t,e,r,n){e.value=r,e.getSnapshot=n,Fj(e)&&$j(t)}function Lj(t,e,r){return r(function(){Fj(e)&&$j(t)})}function Fj(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!vn(t,r)}catch{return!0}}function $j(t){var e=us(t,1);e!==null&&gn(e,t,1,-1)}function r0(t){var e=Nn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nc,lastRenderedState:t},e.queue=t,t=t.dispatch=QR.bind(null,nt,t),[e.memoizedState,t]}function sc(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=nt.updateQueue,e===null?(e={lastEffect:null,stores:null},nt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Uj(){return Yr().memoizedState}function Vu(t,e,r,n){var s=Nn();nt.flags|=t,s.memoizedState=sc(1|e,r,void 0,n===void 0?null:n)}function yf(t,e,r,n){var s=Yr();n=n===void 0?null:n;var i=void 0;if(wt!==null){var o=wt.memoizedState;if(i=o.destroy,n!==null&&Mg(n,o.deps)){s.memoizedState=sc(e,r,i,n);return}}nt.flags|=t,s.memoizedState=sc(1|e,r,i,n)}function n0(t,e){return Vu(8390656,8,t,e)}function $g(t,e){return yf(2048,8,t,e)}function Bj(t,e){return yf(4,2,t,e)}function Vj(t,e){return yf(4,4,t,e)}function zj(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Wj(t,e,r){return r=r!=null?r.concat([t]):null,yf(4,4,zj.bind(null,e,t),r)}function Ug(){}function qj(t,e){var r=Yr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Mg(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Hj(t,e){var r=Yr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Mg(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Kj(t,e,r){return Ji&21?(vn(r,e)||(r=Z1(),nt.lanes|=r,Zi|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,pr=!0),t.memoizedState=r)}function KR(t,e){var r=Ve;Ve=r!==0&&4>r?r:4,t(!0);var n=jh.transition;jh.transition={};try{t(!1),e()}finally{Ve=r,jh.transition=n}}function Gj(){return Yr().memoizedState}function GR(t,e,r){var n=ri(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Qj(t))Yj(e,r);else if(r=Tj(t,e,r,n),r!==null){var s=rr();gn(r,t,n,s),Jj(r,e,n)}}function QR(t,e,r){var n=ri(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Qj(t))Yj(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,vn(l,o)){var c=e.interleaved;c===null?(s.next=s,Ag(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}r=Tj(t,e,s,n),r!==null&&(s=rr(),gn(r,t,n,s),Jj(r,e,n))}}function Qj(t){var e=t.alternate;return t===nt||e!==null&&e===nt}function Yj(t,e){Ol=xd=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Jj(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,yg(t,r)}}var wd={readContext:Qr,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},YR={readContext:Qr,useCallback:function(t,e){return Nn().memoizedState=[t,e===void 0?null:e],t},useContext:Qr,useEffect:n0,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Vu(4194308,4,zj.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Vu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Vu(4,2,t,e)},useMemo:function(t,e){var r=Nn();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Nn();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=GR.bind(null,nt,t),[n.memoizedState,t]},useRef:function(t){var e=Nn();return t={current:t},e.memoizedState=t},useState:r0,useDebugValue:Ug,useDeferredValue:function(t){return Nn().memoizedState=t},useTransition:function(){var t=r0(!1),e=t[0];return t=KR.bind(null,t[1]),Nn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=nt,s=Nn();if(Ze){if(r===void 0)throw Error(z(407));r=r()}else{if(r=e(),Ct===null)throw Error(z(349));Ji&30||Ij(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,n0(Lj.bind(null,n,i,t),[t]),n.flags|=2048,sc(9,Mj.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=Nn(),e=Ct.identifierPrefix;if(Ze){var r=is,n=ss;r=(n&~(1<<32-pn(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=rc++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=HR++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},JR={readContext:Qr,useCallback:qj,useContext:Qr,useEffect:$g,useImperativeHandle:Wj,useInsertionEffect:Bj,useLayoutEffect:Vj,useMemo:Hj,useReducer:kh,useRef:Uj,useState:function(){return kh(nc)},useDebugValue:Ug,useDeferredValue:function(t){var e=Yr();return Kj(e,wt.memoizedState,t)},useTransition:function(){var t=kh(nc)[0],e=Yr().memoizedState;return[t,e]},useMutableSource:Rj,useSyncExternalStore:Dj,useId:Gj,unstable_isNewReconciler:!1},ZR={readContext:Qr,useCallback:qj,useContext:Qr,useEffect:$g,useImperativeHandle:Wj,useInsertionEffect:Bj,useLayoutEffect:Vj,useMemo:Hj,useReducer:Nh,useRef:Uj,useState:function(){return Nh(nc)},useDebugValue:Ug,useDeferredValue:function(t){var e=Yr();return wt===null?e.memoizedState=t:Kj(e,wt.memoizedState,t)},useTransition:function(){var t=Nh(nc)[0],e=Yr().memoizedState;return[t,e]},useMutableSource:Rj,useSyncExternalStore:Dj,useId:Gj,unstable_isNewReconciler:!1};function sn(t,e){if(t&&t.defaultProps){e=st({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Wm(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:st({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var vf={isMounted:function(t){return(t=t._reactInternals)?ho(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=rr(),s=ri(t),i=os(n,s);i.payload=e,r!=null&&(i.callback=r),e=ei(t,i,s),e!==null&&(gn(e,t,s,n),Uu(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=rr(),s=ri(t),i=os(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=ei(t,i,s),e!==null&&(gn(e,t,s,n),Uu(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=rr(),n=ri(t),s=os(r,n);s.tag=2,e!=null&&(s.callback=e),e=ei(t,s,n),e!==null&&(gn(e,t,n,r),Uu(e,t,n))}};function s0(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!Yl(r,n)||!Yl(s,i):!0}function Zj(t,e,r){var n=!1,s=ii,i=e.contextType;return typeof i=="object"&&i!==null?i=Qr(i):(s=vr(e)?Qi:Vt.current,n=e.contextTypes,i=(n=n!=null)?Na(t,s):ii),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=vf,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function i0(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&vf.enqueueReplaceState(e,e.state,null)}function qm(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Og(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Qr(i):(i=vr(e)?Qi:Vt.current,s.context=Na(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Wm(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&vf.enqueueReplaceState(s,s.state,null),yd(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Ta(t,e){try{var r="",n=e;do r+=NO(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Ch(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Hm(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var XR=typeof WeakMap=="function"?WeakMap:Map;function Xj(t,e,r){r=os(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){_d||(_d=!0,rp=n),Hm(t,e)},r}function ek(t,e,r){r=os(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Hm(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Hm(t,e),typeof n!="function"&&(ti===null?ti=new Set([this]):ti.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function o0(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new XR;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=hD.bind(null,t,e,r),e.then(t,t))}function a0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function l0(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=os(-1,1),e.tag=2,ei(r,e,1))),r.lanes|=1),t)}var eD=vs.ReactCurrentOwner,pr=!1;function Yt(t,e,r,n){e.child=t===null?Pj(e,null,r,n):Ea(e,t.child,r,n)}function c0(t,e,r,n,s){r=r.render;var i=e.ref;return ea(e,s),n=Lg(t,e,r,n,i,s),r=Fg(),t!==null&&!pr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ds(t,e,s)):(Ze&&r&&kg(e),e.flags|=1,Yt(t,e,n,s),e.child)}function u0(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!Gg(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,tk(t,e,i,n,s)):(t=Hu(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Yl,r(o,n)&&t.ref===e.ref)return ds(t,e,s)}return e.flags|=1,t=ni(i,n),t.ref=e.ref,t.return=e,e.child=t}function tk(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(Yl(i,n)&&t.ref===e.ref)if(pr=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(pr=!0);else return e.lanes=t.lanes,ds(t,e,s)}return Km(t,e,r,n,s)}function rk(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(Go,kr),kr|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,qe(Go,kr),kr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,qe(Go,kr),kr|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,qe(Go,kr),kr|=n;return Yt(t,e,s,r),e.child}function nk(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Km(t,e,r,n,s){var i=vr(r)?Qi:Vt.current;return i=Na(e,i),ea(e,s),r=Lg(t,e,r,n,i,s),n=Fg(),t!==null&&!pr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ds(t,e,s)):(Ze&&n&&kg(e),e.flags|=1,Yt(t,e,r,s),e.child)}function d0(t,e,r,n,s){if(vr(r)){var i=!0;fd(e)}else i=!1;if(ea(e,s),e.stateNode===null)zu(t,e),Zj(e,r,n),qm(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Qr(u):(u=vr(r)?Qi:Vt.current,u=Na(e,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&i0(e,o,n,u),Rs=!1;var h=e.memoizedState;o.state=h,yd(e,n,o,s),c=e.memoizedState,l!==n||h!==c||yr.current||Rs?(typeof d=="function"&&(Wm(e,r,d,n),c=e.memoizedState),(l=Rs||s0(e,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,Aj(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:sn(e.type,l),o.props=u,f=e.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Qr(c):(c=vr(r)?Qi:Vt.current,c=Na(e,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&i0(e,o,n,c),Rs=!1,h=e.memoizedState,o.state=h,yd(e,n,o,s);var y=e.memoizedState;l!==f||h!==y||yr.current||Rs?(typeof m=="function"&&(Wm(e,r,m,n),y=e.memoizedState),(u=Rs||s0(e,r,u,n,h,y,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=y),o.props=n,o.state=y,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return Gm(t,e,r,n,i,s)}function Gm(t,e,r,n,s,i){nk(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&Yv(e,r,!1),ds(t,e,i);n=e.stateNode,eD.current=e;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Ea(e,t.child,null,i),e.child=Ea(e,null,l,i)):Yt(t,e,l,i),e.memoizedState=n.state,s&&Yv(e,r,!0),e.child}function sk(t){var e=t.stateNode;e.pendingContext?Qv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Qv(t,e.context,!1),Rg(t,e.containerInfo)}function f0(t,e,r,n,s){return Ca(),Cg(s),e.flags|=256,Yt(t,e,r,n),e.child}var Qm={dehydrated:null,treeContext:null,retryLane:0};function Ym(t){return{baseLanes:t,cachePool:null,transitions:null}}function ik(t,e,r){var n=e.pendingProps,s=rt.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),qe(rt,s&1),t===null)return Vm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=bf(o,n,0,null),t=Hi(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Ym(r),e.memoizedState=Qm,t):Bg(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return tD(t,e,o,n,l,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=ni(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=ni(l,i):(i=Hi(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?Ym(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=Qm,n}return i=t.child,t=i.sibling,n=ni(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Bg(t,e){return e=bf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function wu(t,e,r,n){return n!==null&&Cg(n),Ea(e,t.child,null,r),t=Bg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function tD(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=Ch(Error(z(422))),wu(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=bf({mode:"visible",children:n.children},s,0,null),i=Hi(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&Ea(e,t.child,null,o),e.child.memoizedState=Ym(o),e.memoizedState=Qm,i);if(!(e.mode&1))return wu(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(z(419)),n=Ch(i,n,void 0),wu(t,e,o,n)}if(l=(o&t.childLanes)!==0,pr||l){if(n=Ct,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,us(t,s),gn(n,t,s,-1))}return Kg(),n=Ch(Error(z(421))),wu(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=mD.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ar=Xs(s.nextSibling),Or=e,Ze=!0,un=null,t!==null&&(Vr[zr++]=ss,Vr[zr++]=is,Vr[zr++]=Yi,ss=t.id,is=t.overflow,Yi=e),e=Bg(e,n.children),e.flags|=4096,e)}function h0(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),zm(t.return,e,r)}function Eh(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function ok(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(Yt(t,e,n.children,r),n=rt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&h0(t,r,e);else if(t.tag===19)h0(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(qe(rt,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&vd(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),Eh(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&vd(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}Eh(e,!0,r,null,i);break;case"together":Eh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function zu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ds(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Zi|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,r=ni(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=ni(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function rD(t,e,r){switch(e.tag){case 3:sk(e),Ca();break;case 5:Oj(e);break;case 1:vr(e.type)&&fd(e);break;case 4:Rg(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;qe(pd,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(qe(rt,rt.current&1),e.flags|=128,null):r&e.child.childLanes?ik(t,e,r):(qe(rt,rt.current&1),t=ds(t,e,r),t!==null?t.sibling:null);qe(rt,rt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return ok(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),qe(rt,rt.current),n)break;return null;case 22:case 23:return e.lanes=0,rk(t,e,r)}return ds(t,e,r)}var ak,Jm,lk,ck;ak=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Jm=function(){};lk=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,Di(Ln.current);var i=null;switch(r){case"input":s=xm(t,s),n=xm(t,n),i=[];break;case"select":s=st({},s,{value:void 0}),n=st({},n,{value:void 0}),i=[];break;case"textarea":s=_m(t,s),n=_m(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=ud)}jm(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(zl.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(zl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ge("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};ck=function(t,e,r,n){r!==n&&(e.flags|=4)};function cl(t,e){if(!Ze)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function $t(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function nD(t,e,r){var n=e.pendingProps;switch(Ng(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(e),null;case 1:return vr(e.type)&&dd(),$t(e),null;case 3:return n=e.stateNode,Pa(),Ye(yr),Ye(Vt),Ig(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(vu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,un!==null&&(ip(un),un=null))),Jm(t,e),$t(e),null;case 5:Dg(e);var s=Di(tc.current);if(r=e.type,t!==null&&e.stateNode!=null)lk(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(z(166));return $t(e),null}if(t=Di(Ln.current),vu(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[On]=e,n[Xl]=i,t=(e.mode&1)!==0,r){case"dialog":Ge("cancel",n),Ge("close",n);break;case"iframe":case"object":case"embed":Ge("load",n);break;case"video":case"audio":for(s=0;s<_l.length;s++)Ge(_l[s],n);break;case"source":Ge("error",n);break;case"img":case"image":case"link":Ge("error",n),Ge("load",n);break;case"details":Ge("toggle",n);break;case"input":_v(n,i),Ge("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Ge("invalid",n);break;case"textarea":jv(n,i),Ge("invalid",n)}jm(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&yu(n.textContent,l,t),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&yu(n.textContent,l,t),s=["children",""+l]):zl.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ge("scroll",n)}switch(r){case"input":cu(n),Sv(n,i,!0);break;case"textarea":cu(n),kv(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=ud)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=L1(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[On]=e,t[Xl]=n,ak(t,e,!1,!1),e.stateNode=t;e:{switch(o=km(r,n),r){case"dialog":Ge("cancel",t),Ge("close",t),s=n;break;case"iframe":case"object":case"embed":Ge("load",t),s=n;break;case"video":case"audio":for(s=0;s<_l.length;s++)Ge(_l[s],t);s=n;break;case"source":Ge("error",t),s=n;break;case"img":case"image":case"link":Ge("error",t),Ge("load",t),s=n;break;case"details":Ge("toggle",t),s=n;break;case"input":_v(t,n),s=xm(t,n),Ge("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=st({},n,{value:void 0}),Ge("invalid",t);break;case"textarea":jv(t,n),s=_m(t,n),Ge("invalid",t);break;default:s=n}jm(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?U1(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&F1(t,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Wl(t,c):typeof c=="number"&&Wl(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(zl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ge("scroll",t):c!=null&&dg(t,i,c,o))}switch(r){case"input":cu(t),Sv(t,n,!1);break;case"textarea":cu(t),kv(t);break;case"option":n.value!=null&&t.setAttribute("value",""+si(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Yo(t,!!n.multiple,i,!1):n.defaultValue!=null&&Yo(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=ud)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return $t(e),null;case 6:if(t&&e.stateNode!=null)ck(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(z(166));if(r=Di(tc.current),Di(Ln.current),vu(e)){if(n=e.stateNode,r=e.memoizedProps,n[On]=e,(i=n.nodeValue!==r)&&(t=Or,t!==null))switch(t.tag){case 3:yu(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&yu(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[On]=e,e.stateNode=n}return $t(e),null;case 13:if(Ye(rt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ze&&Ar!==null&&e.mode&1&&!(e.flags&128))Cj(),Ca(),e.flags|=98560,i=!1;else if(i=vu(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(z(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));i[On]=e}else Ca(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;$t(e),i=!1}else un!==null&&(ip(un),un=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||rt.current&1?_t===0&&(_t=3):Kg())),e.updateQueue!==null&&(e.flags|=4),$t(e),null);case 4:return Pa(),Jm(t,e),t===null&&Jl(e.stateNode.containerInfo),$t(e),null;case 10:return Tg(e.type._context),$t(e),null;case 17:return vr(e.type)&&dd(),$t(e),null;case 19:if(Ye(rt),i=e.memoizedState,i===null)return $t(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)cl(i,!1);else{if(_t!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=vd(t),o!==null){for(e.flags|=128,cl(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return qe(rt,rt.current&1|2),e.child}t=t.sibling}i.tail!==null&&dt()>Aa&&(e.flags|=128,n=!0,cl(i,!1),e.lanes=4194304)}else{if(!n)if(t=vd(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),cl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ze)return $t(e),null}else 2*dt()-i.renderingStartTime>Aa&&r!==1073741824&&(e.flags|=128,n=!0,cl(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=dt(),e.sibling=null,r=rt.current,qe(rt,n?r&1|2:r&1),e):($t(e),null);case 22:case 23:return Hg(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?kr&1073741824&&($t(e),e.subtreeFlags&6&&(e.flags|=8192)):$t(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function sD(t,e){switch(Ng(e),e.tag){case 1:return vr(e.type)&&dd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Pa(),Ye(yr),Ye(Vt),Ig(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Dg(e),null;case 13:if(Ye(rt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));Ca()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ye(rt),null;case 4:return Pa(),null;case 10:return Tg(e.type._context),null;case 22:case 23:return Hg(),null;case 24:return null;default:return null}}var bu=!1,Bt=!1,iD=typeof WeakSet=="function"?WeakSet:Set,ee=null;function Ko(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){at(t,e,n)}else r.current=null}function Zm(t,e,r){try{r()}catch(n){at(t,e,n)}}var m0=!1;function oD(t,e){if(Im=ad,t=mj(),jg(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var m;f!==r||s!==0&&f.nodeType!==3||(l=o+s),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===t)break t;if(h===r&&++u===s&&(l=o),h===i&&++d===n&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Mm={focusedElem:t,selectionRange:r},ad=!1,ee=e;ee!==null;)if(e=ee,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ee=t;else for(;ee!==null;){e=ee;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,b=y.memoizedState,w=e.stateNode,p=w.getSnapshotBeforeUpdate(e.elementType===e.type?x:sn(e.type,x),b);w.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(_){at(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,ee=t;break}ee=e.return}return y=m0,m0=!1,y}function Rl(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Zm(e,r,i)}s=s.next}while(s!==n)}}function xf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Xm(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function uk(t){var e=t.alternate;e!==null&&(t.alternate=null,uk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[On],delete e[Xl],delete e[$m],delete e[VR],delete e[zR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function dk(t){return t.tag===5||t.tag===3||t.tag===4}function p0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||dk(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ep(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=ud));else if(n!==4&&(t=t.child,t!==null))for(ep(t,e,r),t=t.sibling;t!==null;)ep(t,e,r),t=t.sibling}function tp(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(tp(t,e,r),t=t.sibling;t!==null;)tp(t,e,r),t=t.sibling}var At=null,an=!1;function js(t,e,r){for(r=r.child;r!==null;)fk(t,e,r),r=r.sibling}function fk(t,e,r){if(Mn&&typeof Mn.onCommitFiberUnmount=="function")try{Mn.onCommitFiberUnmount(df,r)}catch{}switch(r.tag){case 5:Bt||Ko(r,e);case 6:var n=At,s=an;At=null,js(t,e,r),At=n,an=s,At!==null&&(an?(t=At,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):At.removeChild(r.stateNode));break;case 18:At!==null&&(an?(t=At,r=r.stateNode,t.nodeType===8?bh(t.parentNode,r):t.nodeType===1&&bh(t,r),Gl(t)):bh(At,r.stateNode));break;case 4:n=At,s=an,At=r.stateNode.containerInfo,an=!0,js(t,e,r),At=n,an=s;break;case 0:case 11:case 14:case 15:if(!Bt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Zm(r,e,o),s=s.next}while(s!==n)}js(t,e,r);break;case 1:if(!Bt&&(Ko(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){at(r,e,l)}js(t,e,r);break;case 21:js(t,e,r);break;case 22:r.mode&1?(Bt=(n=Bt)||r.memoizedState!==null,js(t,e,r),Bt=n):js(t,e,r);break;default:js(t,e,r)}}function g0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new iD),e.forEach(function(n){var s=pD.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function en(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:At=l.stateNode,an=!1;break e;case 3:At=l.stateNode.containerInfo,an=!0;break e;case 4:At=l.stateNode.containerInfo,an=!0;break e}l=l.return}if(At===null)throw Error(z(160));fk(i,o,s),At=null,an=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){at(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)hk(e,t),e=e.sibling}function hk(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(en(e,t),kn(t),n&4){try{Rl(3,t,t.return),xf(3,t)}catch(x){at(t,t.return,x)}try{Rl(5,t,t.return)}catch(x){at(t,t.return,x)}}break;case 1:en(e,t),kn(t),n&512&&r!==null&&Ko(r,r.return);break;case 5:if(en(e,t),kn(t),n&512&&r!==null&&Ko(r,r.return),t.flags&32){var s=t.stateNode;try{Wl(s,"")}catch(x){at(t,t.return,x)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&I1(s,i),km(l,o);var u=km(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?U1(s,f):d==="dangerouslySetInnerHTML"?F1(s,f):d==="children"?Wl(s,f):dg(s,d,f,u)}switch(l){case"input":wm(s,i);break;case"textarea":M1(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Yo(s,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?Yo(s,!!i.multiple,i.defaultValue,!0):Yo(s,!!i.multiple,i.multiple?[]:"",!1))}s[Xl]=i}catch(x){at(t,t.return,x)}}break;case 6:if(en(e,t),kn(t),n&4){if(t.stateNode===null)throw Error(z(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(x){at(t,t.return,x)}}break;case 3:if(en(e,t),kn(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Gl(e.containerInfo)}catch(x){at(t,t.return,x)}break;case 4:en(e,t),kn(t);break;case 13:en(e,t),kn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Wg=dt())),n&4&&g0(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Bt=(u=Bt)||d,en(e,t),Bt=u):en(e,t),kn(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(ee=t,d=t.child;d!==null;){for(f=ee=d;ee!==null;){switch(h=ee,m=h.child,h.tag){case 0:case 11:case 14:case 15:Rl(4,h,h.return);break;case 1:Ko(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(x){at(n,r,x)}}break;case 5:Ko(h,h.return);break;case 22:if(h.memoizedState!==null){v0(f);continue}}m!==null?(m.return=h,ee=m):v0(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=$1("display",o))}catch(x){at(t,t.return,x)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){at(t,t.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:en(e,t),kn(t),n&4&&g0(t);break;case 21:break;default:en(e,t),kn(t)}}function kn(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(dk(r)){var n=r;break e}r=r.return}throw Error(z(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Wl(s,""),n.flags&=-33);var i=p0(t);tp(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=p0(t);ep(t,l,o);break;default:throw Error(z(161))}}catch(c){at(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function aD(t,e,r){ee=t,mk(t)}function mk(t,e,r){for(var n=(t.mode&1)!==0;ee!==null;){var s=ee,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||bu;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Bt;l=bu;var u=Bt;if(bu=o,(Bt=c)&&!u)for(ee=s;ee!==null;)o=ee,c=o.child,o.tag===22&&o.memoizedState!==null?x0(s):c!==null?(c.return=o,ee=c):x0(s);for(;i!==null;)ee=i,mk(i),i=i.sibling;ee=s,bu=l,Bt=u}y0(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ee=i):y0(t)}}function y0(t){for(;ee!==null;){var e=ee;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Bt||xf(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Bt)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:sn(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&t0(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}t0(e,o,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Gl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Bt||e.flags&512&&Xm(e)}catch(h){at(e,e.return,h)}}if(e===t){ee=null;break}if(r=e.sibling,r!==null){r.return=e.return,ee=r;break}ee=e.return}}function v0(t){for(;ee!==null;){var e=ee;if(e===t){ee=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ee=r;break}ee=e.return}}function x0(t){for(;ee!==null;){var e=ee;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{xf(4,e)}catch(c){at(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(c){at(e,s,c)}}var i=e.return;try{Xm(e)}catch(c){at(e,i,c)}break;case 5:var o=e.return;try{Xm(e)}catch(c){at(e,o,c)}}}catch(c){at(e,e.return,c)}if(e===t){ee=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ee=l;break}ee=e.return}}var lD=Math.ceil,bd=vs.ReactCurrentDispatcher,Vg=vs.ReactCurrentOwner,Hr=vs.ReactCurrentBatchConfig,Te=0,Ct=null,yt=null,Rt=0,kr=0,Go=pi(0),_t=0,ic=null,Zi=0,wf=0,zg=0,Dl=null,hr=null,Wg=0,Aa=1/0,Zn=null,_d=!1,rp=null,ti=null,_u=!1,Qs=null,Sd=0,Il=0,np=null,Wu=-1,qu=0;function rr(){return Te&6?dt():Wu!==-1?Wu:Wu=dt()}function ri(t){return t.mode&1?Te&2&&Rt!==0?Rt&-Rt:qR.transition!==null?(qu===0&&(qu=Z1()),qu):(t=Ve,t!==0||(t=window.event,t=t===void 0?16:ij(t.type)),t):1}function gn(t,e,r,n){if(50<Il)throw Il=0,np=null,Error(z(185));Ic(t,r,n),(!(Te&2)||t!==Ct)&&(t===Ct&&(!(Te&2)&&(wf|=r),_t===4&&Is(t,Rt)),xr(t,n),r===1&&Te===0&&!(e.mode&1)&&(Aa=dt()+500,gf&&gi()))}function xr(t,e){var r=t.callbackNode;qO(t,e);var n=od(t,t===Ct?Rt:0);if(n===0)r!==null&&Ev(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Ev(r),e===1)t.tag===0?WR(w0.bind(null,t)):jj(w0.bind(null,t)),UR(function(){!(Te&6)&&gi()}),r=null;else{switch(X1(n)){case 1:r=gg;break;case 4:r=Y1;break;case 16:r=id;break;case 536870912:r=J1;break;default:r=id}r=_k(r,pk.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function pk(t,e){if(Wu=-1,qu=0,Te&6)throw Error(z(327));var r=t.callbackNode;if(ta()&&t.callbackNode!==r)return null;var n=od(t,t===Ct?Rt:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=jd(t,n);else{e=n;var s=Te;Te|=2;var i=yk();(Ct!==t||Rt!==e)&&(Zn=null,Aa=dt()+500,qi(t,e));do try{dD();break}catch(l){gk(t,l)}while(!0);Pg(),bd.current=i,Te=s,yt!==null?e=0:(Ct=null,Rt=0,e=_t)}if(e!==0){if(e===2&&(s=Tm(t),s!==0&&(n=s,e=sp(t,s))),e===1)throw r=ic,qi(t,0),Is(t,n),xr(t,dt()),r;if(e===6)Is(t,n);else{if(s=t.current.alternate,!(n&30)&&!cD(s)&&(e=jd(t,n),e===2&&(i=Tm(t),i!==0&&(n=i,e=sp(t,i))),e===1))throw r=ic,qi(t,0),Is(t,n),xr(t,dt()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(z(345));case 2:ki(t,hr,Zn);break;case 3:if(Is(t,n),(n&130023424)===n&&(e=Wg+500-dt(),10<e)){if(od(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){rr(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Fm(ki.bind(null,t,hr,Zn),e);break}ki(t,hr,Zn);break;case 4:if(Is(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-pn(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=dt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*lD(n/1960))-n,10<n){t.timeoutHandle=Fm(ki.bind(null,t,hr,Zn),n);break}ki(t,hr,Zn);break;case 5:ki(t,hr,Zn);break;default:throw Error(z(329))}}}return xr(t,dt()),t.callbackNode===r?pk.bind(null,t):null}function sp(t,e){var r=Dl;return t.current.memoizedState.isDehydrated&&(qi(t,e).flags|=256),t=jd(t,e),t!==2&&(e=hr,hr=r,e!==null&&ip(e)),t}function ip(t){hr===null?hr=t:hr.push.apply(hr,t)}function cD(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!vn(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Is(t,e){for(e&=~zg,e&=~wf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-pn(e),n=1<<r;t[r]=-1,e&=~n}}function w0(t){if(Te&6)throw Error(z(327));ta();var e=od(t,0);if(!(e&1))return xr(t,dt()),null;var r=jd(t,e);if(t.tag!==0&&r===2){var n=Tm(t);n!==0&&(e=n,r=sp(t,n))}if(r===1)throw r=ic,qi(t,0),Is(t,e),xr(t,dt()),r;if(r===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ki(t,hr,Zn),xr(t,dt()),null}function qg(t,e){var r=Te;Te|=1;try{return t(e)}finally{Te=r,Te===0&&(Aa=dt()+500,gf&&gi())}}function Xi(t){Qs!==null&&Qs.tag===0&&!(Te&6)&&ta();var e=Te;Te|=1;var r=Hr.transition,n=Ve;try{if(Hr.transition=null,Ve=1,t)return t()}finally{Ve=n,Hr.transition=r,Te=e,!(Te&6)&&gi()}}function Hg(){kr=Go.current,Ye(Go)}function qi(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,$R(r)),yt!==null)for(r=yt.return;r!==null;){var n=r;switch(Ng(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&dd();break;case 3:Pa(),Ye(yr),Ye(Vt),Ig();break;case 5:Dg(n);break;case 4:Pa();break;case 13:Ye(rt);break;case 19:Ye(rt);break;case 10:Tg(n.type._context);break;case 22:case 23:Hg()}r=r.return}if(Ct=t,yt=t=ni(t.current,null),Rt=kr=e,_t=0,ic=null,zg=wf=Zi=0,hr=Dl=null,Ri!==null){for(e=0;e<Ri.length;e++)if(r=Ri[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Ri=null}return t}function gk(t,e){do{var r=yt;try{if(Pg(),Bu.current=wd,xd){for(var n=nt.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}xd=!1}if(Ji=0,kt=wt=nt=null,Ol=!1,rc=0,Vg.current=null,r===null||r.return===null){_t=1,ic=e,yt=null;break}e:{var i=t,o=r.return,l=r,c=e;if(e=Rt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=a0(o);if(m!==null){m.flags&=-257,l0(m,o,l,i,e),m.mode&1&&o0(i,u,e),e=m,c=u;var y=e.updateQueue;if(y===null){var x=new Set;x.add(c),e.updateQueue=x}else y.add(c);break e}else{if(!(e&1)){o0(i,u,e),Kg();break e}c=Error(z(426))}}else if(Ze&&l.mode&1){var b=a0(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),l0(b,o,l,i,e),Cg(Ta(c,l));break e}}i=c=Ta(c,l),_t!==4&&(_t=2),Dl===null?Dl=[i]:Dl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=Xj(i,c,e);e0(i,w);break e;case 1:l=c;var p=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ti===null||!ti.has(v)))){i.flags|=65536,e&=-e,i.lanes|=e;var _=ek(i,l,e);e0(i,_);break e}}i=i.return}while(i!==null)}xk(r)}catch(S){e=S,yt===r&&r!==null&&(yt=r=r.return);continue}break}while(!0)}function yk(){var t=bd.current;return bd.current=wd,t===null?wd:t}function Kg(){(_t===0||_t===3||_t===2)&&(_t=4),Ct===null||!(Zi&268435455)&&!(wf&268435455)||Is(Ct,Rt)}function jd(t,e){var r=Te;Te|=2;var n=yk();(Ct!==t||Rt!==e)&&(Zn=null,qi(t,e));do try{uD();break}catch(s){gk(t,s)}while(!0);if(Pg(),Te=r,bd.current=n,yt!==null)throw Error(z(261));return Ct=null,Rt=0,_t}function uD(){for(;yt!==null;)vk(yt)}function dD(){for(;yt!==null&&!MO();)vk(yt)}function vk(t){var e=bk(t.alternate,t,kr);t.memoizedProps=t.pendingProps,e===null?xk(t):yt=e,Vg.current=null}function xk(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=sD(r,e),r!==null){r.flags&=32767,yt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{_t=6,yt=null;return}}else if(r=nD(r,e,kr),r!==null){yt=r;return}if(e=e.sibling,e!==null){yt=e;return}yt=e=t}while(e!==null);_t===0&&(_t=5)}function ki(t,e,r){var n=Ve,s=Hr.transition;try{Hr.transition=null,Ve=1,fD(t,e,r,n)}finally{Hr.transition=s,Ve=n}return null}function fD(t,e,r,n){do ta();while(Qs!==null);if(Te&6)throw Error(z(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(HO(t,i),t===Ct&&(yt=Ct=null,Rt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||_u||(_u=!0,_k(id,function(){return ta(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Hr.transition,Hr.transition=null;var o=Ve;Ve=1;var l=Te;Te|=4,Vg.current=null,oD(t,r),hk(r,t),OR(Mm),ad=!!Im,Mm=Im=null,t.current=r,aD(r),LO(),Te=l,Ve=o,Hr.transition=i}else t.current=r;if(_u&&(_u=!1,Qs=t,Sd=s),i=t.pendingLanes,i===0&&(ti=null),UO(r.stateNode),xr(t,dt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(_d)throw _d=!1,t=rp,rp=null,t;return Sd&1&&t.tag!==0&&ta(),i=t.pendingLanes,i&1?t===np?Il++:(Il=0,np=t):Il=0,gi(),null}function ta(){if(Qs!==null){var t=X1(Sd),e=Hr.transition,r=Ve;try{if(Hr.transition=null,Ve=16>t?16:t,Qs===null)var n=!1;else{if(t=Qs,Qs=null,Sd=0,Te&6)throw Error(z(331));var s=Te;for(Te|=4,ee=t.current;ee!==null;){var i=ee,o=i.child;if(ee.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ee=u;ee!==null;){var d=ee;switch(d.tag){case 0:case 11:case 15:Rl(8,d,i)}var f=d.child;if(f!==null)f.return=d,ee=f;else for(;ee!==null;){d=ee;var h=d.sibling,m=d.return;if(uk(d),d===u){ee=null;break}if(h!==null){h.return=m,ee=h;break}ee=m}}}var y=i.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var b=x.sibling;x.sibling=null,x=b}while(x!==null)}}ee=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ee=o;else e:for(;ee!==null;){if(i=ee,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Rl(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,ee=w;break e}ee=i.return}}var p=t.current;for(ee=p;ee!==null;){o=ee;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,ee=v;else e:for(o=p;ee!==null;){if(l=ee,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:xf(9,l)}}catch(S){at(l,l.return,S)}if(l===o){ee=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,ee=_;break e}ee=l.return}}if(Te=s,gi(),Mn&&typeof Mn.onPostCommitFiberRoot=="function")try{Mn.onPostCommitFiberRoot(df,t)}catch{}n=!0}return n}finally{Ve=r,Hr.transition=e}}return!1}function b0(t,e,r){e=Ta(r,e),e=Xj(t,e,1),t=ei(t,e,1),e=rr(),t!==null&&(Ic(t,1,e),xr(t,e))}function at(t,e,r){if(t.tag===3)b0(t,t,r);else for(;e!==null;){if(e.tag===3){b0(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ti===null||!ti.has(n))){t=Ta(r,t),t=ek(e,t,1),e=ei(e,t,1),t=rr(),e!==null&&(Ic(e,1,t),xr(e,t));break}}e=e.return}}function hD(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=rr(),t.pingedLanes|=t.suspendedLanes&r,Ct===t&&(Rt&r)===r&&(_t===4||_t===3&&(Rt&130023424)===Rt&&500>dt()-Wg?qi(t,0):zg|=r),xr(t,e)}function wk(t,e){e===0&&(t.mode&1?(e=fu,fu<<=1,!(fu&130023424)&&(fu=4194304)):e=1);var r=rr();t=us(t,e),t!==null&&(Ic(t,e,r),xr(t,r))}function mD(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),wk(t,r)}function pD(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(z(314))}n!==null&&n.delete(e),wk(t,r)}var bk;bk=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||yr.current)pr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return pr=!1,rD(t,e,r);pr=!!(t.flags&131072)}else pr=!1,Ze&&e.flags&1048576&&kj(e,md,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;zu(t,e),t=e.pendingProps;var s=Na(e,Vt.current);ea(e,r),s=Lg(null,e,n,t,s,r);var i=Fg();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,vr(n)?(i=!0,fd(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Og(e),s.updater=vf,e.stateNode=s,s._reactInternals=e,qm(e,n,t,r),e=Gm(null,e,n,!0,i,r)):(e.tag=0,Ze&&i&&kg(e),Yt(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(zu(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=yD(n),t=sn(n,t),s){case 0:e=Km(null,e,n,t,r);break e;case 1:e=d0(null,e,n,t,r);break e;case 11:e=c0(null,e,n,t,r);break e;case 14:e=u0(null,e,n,sn(n.type,t),r);break e}throw Error(z(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:sn(n,s),Km(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:sn(n,s),d0(t,e,n,s,r);case 3:e:{if(sk(e),t===null)throw Error(z(387));n=e.pendingProps,i=e.memoizedState,s=i.element,Aj(t,e),yd(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Ta(Error(z(423)),e),e=f0(t,e,n,r,s);break e}else if(n!==s){s=Ta(Error(z(424)),e),e=f0(t,e,n,r,s);break e}else for(Ar=Xs(e.stateNode.containerInfo.firstChild),Or=e,Ze=!0,un=null,r=Pj(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ca(),n===s){e=ds(t,e,r);break e}Yt(t,e,n,r)}e=e.child}return e;case 5:return Oj(e),t===null&&Vm(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Lm(n,s)?o=null:i!==null&&Lm(n,i)&&(e.flags|=32),nk(t,e),Yt(t,e,o,r),e.child;case 6:return t===null&&Vm(e),null;case 13:return ik(t,e,r);case 4:return Rg(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Ea(e,null,n,r):Yt(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:sn(n,s),c0(t,e,n,s,r);case 7:return Yt(t,e,e.pendingProps,r),e.child;case 8:return Yt(t,e,e.pendingProps.children,r),e.child;case 12:return Yt(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,qe(pd,n._currentValue),n._currentValue=o,i!==null)if(vn(i.value,o)){if(i.children===s.children&&!yr.current){e=ds(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=os(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),zm(i.return,r,e),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(z(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),zm(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Yt(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,ea(e,r),s=Qr(s),n=n(s),e.flags|=1,Yt(t,e,n,r),e.child;case 14:return n=e.type,s=sn(n,e.pendingProps),s=sn(n.type,s),u0(t,e,n,s,r);case 15:return tk(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:sn(n,s),zu(t,e),e.tag=1,vr(n)?(t=!0,fd(e)):t=!1,ea(e,r),Zj(e,n,s),qm(e,n,s,r),Gm(null,e,n,!0,t,r);case 19:return ok(t,e,r);case 22:return rk(t,e,r)}throw Error(z(156,e.tag))};function _k(t,e){return Q1(t,e)}function gD(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qr(t,e,r,n){return new gD(t,e,r,n)}function Gg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function yD(t){if(typeof t=="function")return Gg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===hg)return 11;if(t===mg)return 14}return 2}function ni(t,e){var r=t.alternate;return r===null?(r=qr(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Hu(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")Gg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Fo:return Hi(r.children,s,i,e);case fg:o=8,s|=8;break;case pm:return t=qr(12,r,e,s|2),t.elementType=pm,t.lanes=i,t;case gm:return t=qr(13,r,e,s),t.elementType=gm,t.lanes=i,t;case ym:return t=qr(19,r,e,s),t.elementType=ym,t.lanes=i,t;case O1:return bf(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case T1:o=10;break e;case A1:o=9;break e;case hg:o=11;break e;case mg:o=14;break e;case Os:o=16,n=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=qr(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function Hi(t,e,r,n){return t=qr(7,t,n,e),t.lanes=r,t}function bf(t,e,r,n){return t=qr(22,t,n,e),t.elementType=O1,t.lanes=r,t.stateNode={isHidden:!1},t}function Ph(t,e,r){return t=qr(6,t,null,e),t.lanes=r,t}function Th(t,e,r){return e=qr(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function vD(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=uh(0),this.expirationTimes=uh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uh(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Qg(t,e,r,n,s,i,o,l,c){return t=new vD(t,e,r,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=qr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Og(i),t}function xD(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Lo,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Sk(t){if(!t)return ii;t=t._reactInternals;e:{if(ho(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(vr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var r=t.type;if(vr(r))return Sj(t,r,e)}return e}function jk(t,e,r,n,s,i,o,l,c){return t=Qg(r,n,!0,t,s,i,o,l,c),t.context=Sk(null),r=t.current,n=rr(),s=ri(r),i=os(n,s),i.callback=e??null,ei(r,i,s),t.current.lanes=s,Ic(t,s,n),xr(t,n),t}function _f(t,e,r,n){var s=e.current,i=rr(),o=ri(s);return r=Sk(r),e.context===null?e.context=r:e.pendingContext=r,e=os(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=ei(s,e,o),t!==null&&(gn(t,s,o,i),Uu(t,s,o)),o}function kd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function _0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Yg(t,e){_0(t,e),(t=t.alternate)&&_0(t,e)}function wD(){return null}var kk=typeof reportError=="function"?reportError:function(t){console.error(t)};function Jg(t){this._internalRoot=t}Sf.prototype.render=Jg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));_f(t,e,null,null)};Sf.prototype.unmount=Jg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Xi(function(){_f(null,t,null,null)}),e[cs]=null}};function Sf(t){this._internalRoot=t}Sf.prototype.unstable_scheduleHydration=function(t){if(t){var e=rj();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ds.length&&e!==0&&e<Ds[r].priority;r++);Ds.splice(r,0,t),r===0&&sj(t)}};function Zg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function jf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function S0(){}function bD(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=kd(o);i.call(u)}}var o=jk(e,n,t,0,null,!1,!1,"",S0);return t._reactRootContainer=o,t[cs]=o.current,Jl(t.nodeType===8?t.parentNode:t),Xi(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=kd(c);l.call(u)}}var c=Qg(t,0,!1,null,null,!1,!1,"",S0);return t._reactRootContainer=c,t[cs]=c.current,Jl(t.nodeType===8?t.parentNode:t),Xi(function(){_f(e,c,r,n)}),c}function kf(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=kd(o);l.call(c)}}_f(e,o,t,s)}else o=bD(r,e,t,s,n);return kd(o)}ej=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=bl(e.pendingLanes);r!==0&&(yg(e,r|1),xr(e,dt()),!(Te&6)&&(Aa=dt()+500,gi()))}break;case 13:Xi(function(){var n=us(t,1);if(n!==null){var s=rr();gn(n,t,1,s)}}),Yg(t,1)}};vg=function(t){if(t.tag===13){var e=us(t,134217728);if(e!==null){var r=rr();gn(e,t,134217728,r)}Yg(t,134217728)}};tj=function(t){if(t.tag===13){var e=ri(t),r=us(t,e);if(r!==null){var n=rr();gn(r,t,e,n)}Yg(t,e)}};rj=function(){return Ve};nj=function(t,e){var r=Ve;try{return Ve=t,e()}finally{Ve=r}};Cm=function(t,e,r){switch(e){case"input":if(wm(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=pf(n);if(!s)throw Error(z(90));D1(n),wm(n,s)}}}break;case"textarea":M1(t,r);break;case"select":e=r.value,e!=null&&Yo(t,!!r.multiple,e,!1)}};z1=qg;W1=Xi;var _D={usingClientEntryPoint:!1,Events:[Lc,Vo,pf,B1,V1,qg]},ul={findFiberByHostInstance:Oi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},SD={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=K1(t),t===null?null:t.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||wD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Su=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Su.isDisabled&&Su.supportsFiber)try{df=Su.inject(SD),Mn=Su}catch{}}Lr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_D;Lr.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zg(e))throw Error(z(200));return xD(t,e,null,r)};Lr.createRoot=function(t,e){if(!Zg(t))throw Error(z(299));var r=!1,n="",s=kk;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Qg(t,1,!1,null,null,r,!1,n,s),t[cs]=e.current,Jl(t.nodeType===8?t.parentNode:t),new Jg(e)};Lr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=K1(e),t=t===null?null:t.stateNode,t};Lr.flushSync=function(t){return Xi(t)};Lr.hydrate=function(t,e,r){if(!jf(e))throw Error(z(200));return kf(null,t,e,!0,r)};Lr.hydrateRoot=function(t,e,r){if(!Zg(t))throw Error(z(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=kk;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=jk(e,null,t,1,r??null,s,!1,i,o),t[cs]=e.current,Jl(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new Sf(e)};Lr.render=function(t,e,r){if(!jf(e))throw Error(z(200));return kf(null,t,e,!1,r)};Lr.unmountComponentAtNode=function(t){if(!jf(t))throw Error(z(40));return t._reactRootContainer?(Xi(function(){kf(null,null,t,!1,function(){t._reactRootContainer=null,t[cs]=null})}),!0):!1};Lr.unstable_batchedUpdates=qg;Lr.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!jf(r))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return kf(t,e,r,!1,n)};Lr.version="18.3.1-next-f1338f8080-20240426";function Nk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Nk)}catch(t){console.error(t)}}Nk(),N1.exports=Lr;var Ha=N1.exports;const jD=h1(Ha);var Ck,j0=Ha;Ck=j0.createRoot,j0.hydrateRoot;function kD(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var r,n,s,i,o=[],l="",c=t.split("/");for(c[0]||c.shift();s=c.shift();)r=s[0],r==="*"?(o.push(r),l+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~n?n:~i?i:s.length)),l+=~n&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(l+=(~n?"?":"")+"\\"+s.substring(i))):l+="/"+s;return{keys:o,pattern:new RegExp("^"+l+(e?"(?=$|/)":"/?$"),"i")}}var Ek={exports:{}},Pk={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oa=g;function ND(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var CD=typeof Object.is=="function"?Object.is:ND,ED=Oa.useState,PD=Oa.useEffect,TD=Oa.useLayoutEffect,AD=Oa.useDebugValue;function OD(t,e){var r=e(),n=ED({inst:{value:r,getSnapshot:e}}),s=n[0].inst,i=n[1];return TD(function(){s.value=r,s.getSnapshot=e,Ah(s)&&i({inst:s})},[t,r,e]),PD(function(){return Ah(s)&&i({inst:s}),t(function(){Ah(s)&&i({inst:s})})},[t]),AD(r),r}function Ah(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!CD(t,r)}catch{return!0}}function RD(t,e){return e()}var DD=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?RD:OD;Pk.useSyncExternalStore=Oa.useSyncExternalStore!==void 0?Oa.useSyncExternalStore:DD;Ek.exports=Pk;var ID=Ek.exports;const MD=j1.useInsertionEffect,LD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",FD=LD?g.useLayoutEffect:g.useEffect,$D=MD||FD,Tk=t=>{const e=g.useRef([t,(...r)=>e[0](...r)]).current;return $D(()=>{e[0]=t}),e[1]},UD="popstate",Xg="pushState",ey="replaceState",BD="hashchange",k0=[UD,Xg,ey,BD],VD=t=>{for(const e of k0)addEventListener(e,t);return()=>{for(const e of k0)removeEventListener(e,t)}},Ak=(t,e)=>ID.useSyncExternalStore(VD,t,e),zD=()=>location.search,WD=({ssrSearch:t=""}={})=>Ak(zD,()=>t),N0=()=>location.pathname,qD=({ssrPath:t}={})=>Ak(N0,t?()=>t:N0),HD=(t,{replace:e=!1,state:r=null}={})=>history[e?ey:Xg](r,"",t),KD=(t={})=>[qD(t),HD],C0=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[C0]>"u"){for(const t of[Xg,ey]){const e=history[t];history[t]=function(){const r=e.apply(this,arguments),n=new Event(t);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,C0,{value:!0})}const GD=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",Ok=(t="")=>t==="/"?"":t,QD=(t,e)=>t[0]==="~"?t.slice(1):Ok(e)+t,YD=(t="",e)=>GD(E0(Ok(t)),E0(e)),E0=t=>{try{return decodeURI(t)}catch{return t}},Rk={hook:KD,searchHook:WD,parser:kD,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},Dk=g.createContext(Rk),$c=()=>g.useContext(Dk),Ik={},Mk=g.createContext(Ik),JD=()=>g.useContext(Mk),Nf=t=>{const[e,r]=t.hook(t);return[YD(t.base,e),Tk((n,s)=>r(QD(n,t.base),s))]},Ka=()=>Nf($c()),Lk=(t,e,r,n)=>{const{pattern:s,keys:i}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",n),o=s.exec(r)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const u=i!==!1?Object.fromEntries(i.map((f,h)=>[f,c[h]])):o.groups;let d={...c};return u&&Object.assign(d,u),d})(),...n?[l]:[]]:[!1,null]},ZD=({children:t,...e})=>{var d,f;const r=$c(),n=e.hook?Rk:r;let s=n;const[i,o]=((d=e.ssrPath)==null?void 0:d.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=i),e.hrefs=e.hrefs??((f=e.hook)==null?void 0:f.hrefs);let l=g.useRef({}),c=l.current,u=c;for(let h in n){const m=h==="base"?n[h]+(e[h]||""):e[h]||n[h];c===u&&m!==u[h]&&(l.current=u={...u}),u[h]=m,m!==n[h]&&(s=u)}return g.createElement(Dk.Provider,{value:s,children:t})},P0=({children:t,component:e},r)=>e?g.createElement(e,{params:r}):typeof t=="function"?t(r):t,XD=t=>{let e=g.useRef(Ik),r=e.current;for(const n in t)t[n]!==r[n]&&(r=t);return Object.keys(t).length===0&&(r=t),e.current=r},jt=({path:t,nest:e,match:r,...n})=>{const s=$c(),[i]=Nf(s),[o,l,c]=r??Lk(s.parser,t,i,e),u=XD({...JD(),...l});if(!o)return null;const d=c?g.createElement(ZD,{base:c},P0(n,u)):P0(n,u);return g.createElement(Mk.Provider,{value:u,children:d})},nr=g.forwardRef((t,e)=>{const r=$c(),[n,s]=Nf(r),{to:i="",href:o=i,onClick:l,asChild:c,children:u,className:d,replace:f,state:h,...m}=t,y=Tk(b=>{b.ctrlKey||b.metaKey||b.altKey||b.shiftKey||b.button!==0||(l==null||l(b),b.defaultPrevented||(b.preventDefault(),s(o,t)))}),x=r.hrefs(o[0]==="~"?o.slice(1):r.base+o,r);return c&&g.isValidElement(u)?g.cloneElement(u,{onClick:y,href:x}):g.createElement("a",{...m,onClick:y,href:x,className:d!=null&&d.call?d(n===o):d,children:u,ref:e})}),Fk=t=>Array.isArray(t)?t.flatMap(e=>Fk(e&&e.type===g.Fragment?e.props.children:e)):[t],eI=({children:t,location:e})=>{const r=$c(),[n]=Nf(r);for(const s of Fk(t)){let i=0;if(g.isValidElement(s)&&(i=Lk(r.parser,s.props.path,e||n,s.props.nest))[0])return g.cloneElement(s,{match:i})}return null};var Ga=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},eo=typeof window>"u"||"Deno"in globalThis;function Ur(){}function tI(t,e){return typeof t=="function"?t(e):t}function op(t){return typeof t=="number"&&t>=0&&t!==1/0}function $k(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ra(t,e){return typeof t=="function"?t(e):t}function dn(t,e){return typeof t=="function"?t(e):t}function T0(t,e){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:l}=t;if(o){if(n){if(e.queryHash!==ty(o,e.options))return!1}else if(!oc(e.queryKey,o))return!1}if(r!=="all"){const c=e.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||i&&!i(e))}function A0(t,e){const{exact:r,status:n,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(r){if(to(e.options.mutationKey)!==to(i))return!1}else if(!oc(e.options.mutationKey,i))return!1}return!(n&&e.state.status!==n||s&&!s(e))}function ty(t,e){return((e==null?void 0:e.queryKeyHashFn)||to)(t)}function to(t){return JSON.stringify(t,(e,r)=>ap(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function oc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!oc(t[r],e[r])):!1}function Uk(t,e){if(t===e)return t;const r=O0(t)&&O0(e);if(r||ap(t)&&ap(e)){const n=r?t:Object.keys(t),s=n.length,i=r?e:Object.keys(e),o=i.length,l=r?[]:{};let c=0;for(let u=0;u<o;u++){const d=r?u:i[u];(!r&&n.includes(d)||r)&&t[d]===void 0&&e[d]===void 0?(l[d]=void 0,c++):(l[d]=Uk(t[d],e[d]),l[d]===t[d]&&t[d]!==void 0&&c++)}return s===o&&c===s?t:l}return e}function Nd(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function O0(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function ap(t){if(!R0(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!R0(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function R0(t){return Object.prototype.toString.call(t)==="[object Object]"}function rI(t){return new Promise(e=>{setTimeout(e,t)})}function lp(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?Uk(t,e):e}function nI(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function sI(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var ry=Symbol();function Bk(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===ry?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Fi,$s,fa,bw,iI=(bw=class extends Ga{constructor(){super();le(this,Fi);le(this,$s);le(this,fa);J(this,fa,e=>{if(!eo&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){N(this,$s)||this.setEventListener(N(this,fa))}onUnsubscribe(){var e;this.hasListeners()||((e=N(this,$s))==null||e.call(this),J(this,$s,void 0))}setEventListener(e){var r;J(this,fa,e),(r=N(this,$s))==null||r.call(this),J(this,$s,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){N(this,Fi)!==e&&(J(this,Fi,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof N(this,Fi)=="boolean"?N(this,Fi):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Fi=new WeakMap,$s=new WeakMap,fa=new WeakMap,bw),ny=new iI,ha,Us,ma,_w,oI=(_w=class extends Ga{constructor(){super();le(this,ha,!0);le(this,Us);le(this,ma);J(this,ma,e=>{if(!eo&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){N(this,Us)||this.setEventListener(N(this,ma))}onUnsubscribe(){var e;this.hasListeners()||((e=N(this,Us))==null||e.call(this),J(this,Us,void 0))}setEventListener(e){var r;J(this,ma,e),(r=N(this,Us))==null||r.call(this),J(this,Us,e(this.setOnline.bind(this)))}setOnline(e){N(this,ha)!==e&&(J(this,ha,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return N(this,ha)}},ha=new WeakMap,Us=new WeakMap,ma=new WeakMap,_w),Cd=new oI;function cp(){let t,e;const r=new Promise((s,i)=>{t=s,e=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),t(s)},r.reject=s=>{n({status:"rejected",reason:s}),e(s)},r}function aI(t){return Math.min(1e3*2**t,3e4)}function Vk(t){return(t??"online")==="online"?Cd.isOnline():!0}var zk=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Oh(t){return t instanceof zk}function Wk(t){let e=!1,r=0,n=!1,s;const i=cp(),o=x=>{var b;n||(h(new zk(x)),(b=t.abort)==null||b.call(t))},l=()=>{e=!0},c=()=>{e=!1},u=()=>ny.isFocused()&&(t.networkMode==="always"||Cd.isOnline())&&t.canRun(),d=()=>Vk(t.networkMode)&&t.canRun(),f=x=>{var b;n||(n=!0,(b=t.onSuccess)==null||b.call(t,x),s==null||s(),i.resolve(x))},h=x=>{var b;n||(n=!0,(b=t.onError)==null||b.call(t,x),s==null||s(),i.reject(x))},m=()=>new Promise(x=>{var b;s=w=>{(n||u())&&x(w)},(b=t.onPause)==null||b.call(t)}).then(()=>{var x;s=void 0,n||(x=t.onContinue)==null||x.call(t)}),y=()=>{if(n)return;let x;const b=r===0?t.initialPromise:void 0;try{x=b??t.fn()}catch(w){x=Promise.reject(w)}Promise.resolve(x).then(f).catch(w=>{var C;if(n)return;const p=t.retry??(eo?0:3),v=t.retryDelay??aI,_=typeof v=="function"?v(r,w):v,S=p===!0||typeof p=="number"&&r<p||typeof p=="function"&&p(r,w);if(e||!S){h(w);return}r++,(C=t.onFail)==null||C.call(t,r,w),rI(_).then(()=>u()?void 0:m()).then(()=>{e?h(w):y()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?y():m().then(y),i)}}function lI(){let t=[],e=0,r=l=>{l()},n=l=>{l()},s=l=>setTimeout(l,0);const i=l=>{e?t.push(l):s(()=>{r(l)})},o=()=>{const l=t;t=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var bt=lI(),$i,Sw,qk=(Sw=class{constructor(){le(this,$i)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),op(this.gcTime)&&J(this,$i,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(eo?1/0:5*60*1e3))}clearGcTimeout(){N(this,$i)&&(clearTimeout(N(this,$i)),J(this,$i,void 0))}},$i=new WeakMap,Sw),pa,ga,$r,Ut,Tc,Ui,on,Yn,jw,cI=(jw=class extends qk{constructor(e){super();le(this,on);le(this,pa);le(this,ga);le(this,$r);le(this,Ut);le(this,Tc);le(this,Ui);J(this,Ui,!1),J(this,Tc,e.defaultOptions),this.setOptions(e.options),this.observers=[],J(this,$r,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,J(this,pa,uI(this.options)),this.state=e.state??N(this,pa),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=N(this,Ut))==null?void 0:e.promise}setOptions(e){this.options={...N(this,Tc),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&N(this,$r).remove(this)}setData(e,r){const n=lp(this.state.data,e,this.options);return we(this,on,Yn).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){we(this,on,Yn).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,s;const r=(n=N(this,Ut))==null?void 0:n.promise;return(s=N(this,Ut))==null||s.cancel(e),r?r.then(Ur).catch(Ur):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(N(this,pa))}isActive(){return this.observers.some(e=>dn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ry||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!$k(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=N(this,Ut))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=N(this,Ut))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),N(this,$r).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(N(this,Ut)&&(N(this,Ui)?N(this,Ut).cancel({revert:!0}):N(this,Ut).cancelRetry()),this.scheduleGc()),N(this,$r).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||we(this,on,Yn).call(this,{type:"invalidate"})}fetch(e,r){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(N(this,Ut))return N(this,Ut).continueRetry(),N(this,Ut).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(J(this,Ui,!0),n.signal)})},i=()=>{const f=Bk(this.options,r),h={queryKey:this.queryKey,meta:this.meta};return s(h),J(this,Ui,!1),this.options.persister?this.options.persister(f,h,this):f(h)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(o),(c=this.options.behavior)==null||c.onFetch(o,this),J(this,ga,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&we(this,on,Yn).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const l=f=>{var h,m,y,x;Oh(f)&&f.silent||we(this,on,Yn).call(this,{type:"error",error:f}),Oh(f)||((m=(h=N(this,$r).config).onError)==null||m.call(h,f,this),(x=(y=N(this,$r).config).onSettled)==null||x.call(y,this.state.data,f,this)),this.scheduleGc()};return J(this,Ut,Wk({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var h,m,y,x;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(b){l(b);return}(m=(h=N(this,$r).config).onSuccess)==null||m.call(h,f,this),(x=(y=N(this,$r).config).onSettled)==null||x.call(y,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,h)=>{we(this,on,Yn).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{we(this,on,Yn).call(this,{type:"pause"})},onContinue:()=>{we(this,on,Yn).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),N(this,Ut).start()}},pa=new WeakMap,ga=new WeakMap,$r=new WeakMap,Ut=new WeakMap,Tc=new WeakMap,Ui=new WeakMap,on=new WeakSet,Yn=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Hk(n.data,this.options),fetchMeta:e.meta??null};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return Oh(s)&&s.revert&&N(this,ga)?{...N(this,ga),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),bt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),N(this,$r).notify({query:this,type:"updated",action:e})})},jw);function Hk(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Vk(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function uI(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var En,kw,dI=(kw=class extends Ga{constructor(e={}){super();le(this,En);this.config=e,J(this,En,new Map)}build(e,r,n){const s=r.queryKey,i=r.queryHash??ty(s,r);let o=this.get(i);return o||(o=new cI({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){N(this,En).has(e.queryHash)||(N(this,En).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=N(this,En).get(e.queryHash);r&&(e.destroy(),r===e&&N(this,En).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){bt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return N(this,En).get(e)}getAll(){return[...N(this,En).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>T0(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>T0(e,n)):r}notify(e){bt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){bt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){bt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},En=new WeakMap,kw),Pn,Kt,Bi,Tn,Ps,Nw,fI=(Nw=class extends qk{constructor(e){super();le(this,Tn);le(this,Pn);le(this,Kt);le(this,Bi);this.mutationId=e.mutationId,J(this,Kt,e.mutationCache),J(this,Pn,[]),this.state=e.state||Kk(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){N(this,Pn).includes(e)||(N(this,Pn).push(e),this.clearGcTimeout(),N(this,Kt).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){J(this,Pn,N(this,Pn).filter(r=>r!==e)),this.scheduleGc(),N(this,Kt).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){N(this,Pn).length||(this.state.status==="pending"?this.scheduleGc():N(this,Kt).remove(this))}continue(){var e;return((e=N(this,Bi))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,i,o,l,c,u,d,f,h,m,y,x,b,w,p,v,_,S,C,j;J(this,Bi,Wk({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(E,A)=>{we(this,Tn,Ps).call(this,{type:"failed",failureCount:E,error:A})},onPause:()=>{we(this,Tn,Ps).call(this,{type:"pause"})},onContinue:()=>{we(this,Tn,Ps).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>N(this,Kt).canRun(this)}));const r=this.state.status==="pending",n=!N(this,Bi).canStart();try{if(!r){we(this,Tn,Ps).call(this,{type:"pending",variables:e,isPaused:n}),await((i=(s=N(this,Kt).config).onMutate)==null?void 0:i.call(s,e,this));const A=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,e));A!==this.state.context&&we(this,Tn,Ps).call(this,{type:"pending",context:A,variables:e,isPaused:n})}const E=await N(this,Bi).start();return await((u=(c=N(this,Kt).config).onSuccess)==null?void 0:u.call(c,E,e,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,E,e,this.state.context)),await((m=(h=N(this,Kt).config).onSettled)==null?void 0:m.call(h,E,null,this.state.variables,this.state.context,this)),await((x=(y=this.options).onSettled)==null?void 0:x.call(y,E,null,e,this.state.context)),we(this,Tn,Ps).call(this,{type:"success",data:E}),E}catch(E){try{throw await((w=(b=N(this,Kt).config).onError)==null?void 0:w.call(b,E,e,this.state.context,this)),await((v=(p=this.options).onError)==null?void 0:v.call(p,E,e,this.state.context)),await((S=(_=N(this,Kt).config).onSettled)==null?void 0:S.call(_,void 0,E,this.state.variables,this.state.context,this)),await((j=(C=this.options).onSettled)==null?void 0:j.call(C,void 0,E,e,this.state.context)),E}finally{we(this,Tn,Ps).call(this,{type:"error",error:E})}}finally{N(this,Kt).runNext(this)}}},Pn=new WeakMap,Kt=new WeakMap,Bi=new WeakMap,Tn=new WeakSet,Ps=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),bt.batch(()=>{N(this,Pn).forEach(n=>{n.onMutationUpdate(e)}),N(this,Kt).notify({mutation:this,type:"updated",action:e})})},Nw);function Kk(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var jr,Ac,Cw,hI=(Cw=class extends Ga{constructor(e={}){super();le(this,jr);le(this,Ac);this.config=e,J(this,jr,new Map),J(this,Ac,Date.now())}build(e,r,n){const s=new fI({mutationCache:this,mutationId:++ou(this,Ac)._,options:e.defaultMutationOptions(r),state:n});return this.add(s),s}add(e){const r=ju(e),n=N(this,jr).get(r)??[];n.push(e),N(this,jr).set(r,n),this.notify({type:"added",mutation:e})}remove(e){var n;const r=ju(e);if(N(this,jr).has(r)){const s=(n=N(this,jr).get(r))==null?void 0:n.filter(i=>i!==e);s&&(s.length===0?N(this,jr).delete(r):N(this,jr).set(r,s))}this.notify({type:"removed",mutation:e})}canRun(e){var n;const r=(n=N(this,jr).get(ju(e)))==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===e}runNext(e){var n;const r=(n=N(this,jr).get(ju(e)))==null?void 0:n.find(s=>s!==e&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){bt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...N(this,jr).values()].flat()}find(e){const r={exact:!0,...e};return this.getAll().find(n=>A0(r,n))}findAll(e={}){return this.getAll().filter(r=>A0(e,r))}notify(e){bt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return bt.batch(()=>Promise.all(e.map(r=>r.continue().catch(Ur))))}},jr=new WeakMap,Ac=new WeakMap,Cw);function ju(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function D0(t){return{onFetch:(e,r)=>{var d,f,h,m,y;const n=e.options,s=(h=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((m=e.state.data)==null?void 0:m.pages)||[],o=((y=e.state.data)==null?void 0:y.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let x=!1;const b=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(e.signal.aborted?x=!0:e.signal.addEventListener("abort",()=>{x=!0}),e.signal)})},w=Bk(e.options,e.fetchOptions),p=async(v,_,S)=>{if(x)return Promise.reject();if(_==null&&v.pages.length)return Promise.resolve(v);const C={queryKey:e.queryKey,pageParam:_,direction:S?"backward":"forward",meta:e.options.meta};b(C);const j=await w(C),{maxPages:E}=e.options,A=S?sI:nI;return{pages:A(v.pages,j,E),pageParams:A(v.pageParams,_,E)}};if(s&&i.length){const v=s==="backward",_=v?mI:I0,S={pages:i,pageParams:o},C=_(n,S);l=await p(S,C,v)}else{const v=t??i.length;do{const _=c===0?o[0]??n.initialPageParam:I0(n,l);if(c>0&&_==null)break;l=await p(l,_),c++}while(c<v)}return l};e.options.persister?e.fetchFn=()=>{var x,b;return(b=(x=e.options).persister)==null?void 0:b.call(x,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=u}}}function I0(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function mI(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var ot,Bs,Vs,ya,va,zs,xa,wa,Ew,pI=(Ew=class{constructor(t={}){le(this,ot);le(this,Bs);le(this,Vs);le(this,ya);le(this,va);le(this,zs);le(this,xa);le(this,wa);J(this,ot,t.queryCache||new dI),J(this,Bs,t.mutationCache||new hI),J(this,Vs,t.defaultOptions||{}),J(this,ya,new Map),J(this,va,new Map),J(this,zs,0)}mount(){ou(this,zs)._++,N(this,zs)===1&&(J(this,xa,ny.subscribe(async t=>{t&&(await this.resumePausedMutations(),N(this,ot).onFocus())})),J(this,wa,Cd.subscribe(async t=>{t&&(await this.resumePausedMutations(),N(this,ot).onOnline())})))}unmount(){var t,e;ou(this,zs)._--,N(this,zs)===0&&((t=N(this,xa))==null||t.call(this),J(this,xa,void 0),(e=N(this,wa))==null||e.call(this),J(this,wa,void 0))}isFetching(t){return N(this,ot).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return N(this,Bs).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=N(this,ot).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const r=this.defaultQueryOptions(t),n=N(this,ot).build(this,r);return t.revalidateIfStale&&n.isStaleByTime(ra(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(e)}}getQueriesData(t){return N(this,ot).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),s=N(this,ot).get(n.queryHash),i=s==null?void 0:s.state.data,o=tI(e,i);if(o!==void 0)return N(this,ot).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return bt.batch(()=>N(this,ot).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=N(this,ot).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=N(this,ot);bt.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=N(this,ot),n={type:"active",...t};return bt.batch(()=>(r.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(n,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},n=bt.batch(()=>N(this,ot).findAll(t).map(s=>s.cancel(r)));return Promise.all(n).then(Ur).catch(Ur)}invalidateQueries(t={},e={}){return bt.batch(()=>{if(N(this,ot).findAll(t).forEach(n=>{n.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},n=bt.batch(()=>N(this,ot).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(Ur)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Ur)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=N(this,ot).build(this,e);return r.isStaleByTime(ra(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Ur).catch(Ur)}fetchInfiniteQuery(t){return t.behavior=D0(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Ur).catch(Ur)}ensureInfiniteQueryData(t){return t.behavior=D0(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Cd.isOnline()?N(this,Bs).resumePausedMutations():Promise.resolve()}getQueryCache(){return N(this,ot)}getMutationCache(){return N(this,Bs)}getDefaultOptions(){return N(this,Vs)}setDefaultOptions(t){J(this,Vs,t)}setQueryDefaults(t,e){N(this,ya).set(to(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...N(this,ya).values()];let r={};return e.forEach(n=>{oc(t,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(t,e){N(this,va).set(to(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...N(this,va).values()];let r={};return e.forEach(n=>{oc(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...N(this,Vs).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=ty(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===ry&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...N(this,Vs).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){N(this,ot).clear(),N(this,Bs).clear()}},ot=new WeakMap,Bs=new WeakMap,Vs=new WeakMap,ya=new WeakMap,va=new WeakMap,zs=new WeakMap,xa=new WeakMap,wa=new WeakMap,Ew),dr,Ce,Oc,Gt,Vi,ba,Ws,An,Rc,_a,Sa,zi,Wi,qs,ja,Ue,Sl,up,dp,fp,hp,mp,pp,gp,Gk,Pw,gI=(Pw=class extends Ga{constructor(e,r){super();le(this,Ue);le(this,dr);le(this,Ce);le(this,Oc);le(this,Gt);le(this,Vi);le(this,ba);le(this,Ws);le(this,An);le(this,Rc);le(this,_a);le(this,Sa);le(this,zi);le(this,Wi);le(this,qs);le(this,ja,new Set);this.options=r,J(this,dr,e),J(this,An,null),J(this,Ws,cp()),this.options.experimental_prefetchInRender||N(this,Ws).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(N(this,Ce).addObserver(this),M0(N(this,Ce),this.options)?we(this,Ue,Sl).call(this):this.updateResult(),we(this,Ue,hp).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return yp(N(this,Ce),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return yp(N(this,Ce),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,we(this,Ue,mp).call(this),we(this,Ue,pp).call(this),N(this,Ce).removeObserver(this)}setOptions(e,r){const n=this.options,s=N(this,Ce);if(this.options=N(this,dr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof dn(this.options.enabled,N(this,Ce))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");we(this,Ue,gp).call(this),N(this,Ce).setOptions(this.options),n._defaulted&&!Nd(this.options,n)&&N(this,dr).getQueryCache().notify({type:"observerOptionsUpdated",query:N(this,Ce),observer:this});const i=this.hasListeners();i&&L0(N(this,Ce),s,this.options,n)&&we(this,Ue,Sl).call(this),this.updateResult(r),i&&(N(this,Ce)!==s||dn(this.options.enabled,N(this,Ce))!==dn(n.enabled,N(this,Ce))||ra(this.options.staleTime,N(this,Ce))!==ra(n.staleTime,N(this,Ce)))&&we(this,Ue,up).call(this);const o=we(this,Ue,dp).call(this);i&&(N(this,Ce)!==s||dn(this.options.enabled,N(this,Ce))!==dn(n.enabled,N(this,Ce))||o!==N(this,qs))&&we(this,Ue,fp).call(this,o)}getOptimisticResult(e){const r=N(this,dr).getQueryCache().build(N(this,dr),e),n=this.createResult(r,e);return vI(this,n)&&(J(this,Gt,n),J(this,ba,this.options),J(this,Vi,N(this,Ce).state)),n}getCurrentResult(){return N(this,Gt)}trackResult(e,r){const n={};return Object.keys(e).forEach(s=>{Object.defineProperty(n,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),r==null||r(s),e[s])})}),n}trackProp(e){N(this,ja).add(e)}getCurrentQuery(){return N(this,Ce)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=N(this,dr).defaultQueryOptions(e),n=N(this,dr).getQueryCache().build(N(this,dr),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return we(this,Ue,Sl).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),N(this,Gt)))}createResult(e,r){var E;const n=N(this,Ce),s=this.options,i=N(this,Gt),o=N(this,Vi),l=N(this,ba),u=e!==n?e.state:N(this,Oc),{state:d}=e;let f={...d},h=!1,m;if(r._optimisticResults){const A=this.hasListeners(),D=!A&&M0(e,r),O=A&&L0(e,n,r,s);(D||O)&&(f={...f,...Hk(d.data,e.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:y,errorUpdatedAt:x,status:b}=f;if(r.select&&f.data!==void 0)if(i&&f.data===(o==null?void 0:o.data)&&r.select===N(this,Rc))m=N(this,_a);else try{J(this,Rc,r.select),m=r.select(f.data),m=lp(i==null?void 0:i.data,m,r),J(this,_a,m),J(this,An,null)}catch(A){J(this,An,A)}else m=f.data;if(r.placeholderData!==void 0&&m===void 0&&b==="pending"){let A;if(i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))A=i.data;else if(A=typeof r.placeholderData=="function"?r.placeholderData((E=N(this,Sa))==null?void 0:E.state.data,N(this,Sa)):r.placeholderData,r.select&&A!==void 0)try{A=r.select(A),J(this,An,null)}catch(D){J(this,An,D)}A!==void 0&&(b="success",m=lp(i==null?void 0:i.data,A,r),h=!0)}N(this,An)&&(y=N(this,An),m=N(this,_a),x=Date.now(),b="error");const w=f.fetchStatus==="fetching",p=b==="pending",v=b==="error",_=p&&w,S=m!==void 0,j={status:b,fetchStatus:f.fetchStatus,isPending:p,isSuccess:b==="success",isError:v,isInitialLoading:_,isLoading:_,data:m,dataUpdatedAt:f.dataUpdatedAt,error:y,errorUpdatedAt:x,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:w,isRefetching:w&&!p,isLoadingError:v&&!S,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:v&&S,isStale:sy(e,r),refetch:this.refetch,promise:N(this,Ws)};if(this.options.experimental_prefetchInRender){const A=I=>{j.status==="error"?I.reject(j.error):j.data!==void 0&&I.resolve(j.data)},D=()=>{const I=J(this,Ws,j.promise=cp());A(I)},O=N(this,Ws);switch(O.status){case"pending":e.queryHash===n.queryHash&&A(O);break;case"fulfilled":(j.status==="error"||j.data!==O.value)&&D();break;case"rejected":(j.status!=="error"||j.error!==O.reason)&&D();break}}return j}updateResult(e){const r=N(this,Gt),n=this.createResult(N(this,Ce),this.options);if(J(this,Vi,N(this,Ce).state),J(this,ba,this.options),N(this,Vi).data!==void 0&&J(this,Sa,N(this,Ce)),Nd(n,r))return;J(this,Gt,n);const s={},i=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!N(this,ja).size)return!0;const c=new Set(l??N(this,ja));return this.options.throwOnError&&c.add("error"),Object.keys(N(this,Gt)).some(u=>{const d=u;return N(this,Gt)[d]!==r[d]&&c.has(d)})};(e==null?void 0:e.listeners)!==!1&&i()&&(s.listeners=!0),we(this,Ue,Gk).call(this,{...s,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&we(this,Ue,hp).call(this)}},dr=new WeakMap,Ce=new WeakMap,Oc=new WeakMap,Gt=new WeakMap,Vi=new WeakMap,ba=new WeakMap,Ws=new WeakMap,An=new WeakMap,Rc=new WeakMap,_a=new WeakMap,Sa=new WeakMap,zi=new WeakMap,Wi=new WeakMap,qs=new WeakMap,ja=new WeakMap,Ue=new WeakSet,Sl=function(e){we(this,Ue,gp).call(this);let r=N(this,Ce).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(Ur)),r},up=function(){we(this,Ue,mp).call(this);const e=ra(this.options.staleTime,N(this,Ce));if(eo||N(this,Gt).isStale||!op(e))return;const n=$k(N(this,Gt).dataUpdatedAt,e)+1;J(this,zi,setTimeout(()=>{N(this,Gt).isStale||this.updateResult()},n))},dp=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(N(this,Ce)):this.options.refetchInterval)??!1},fp=function(e){we(this,Ue,pp).call(this),J(this,qs,e),!(eo||dn(this.options.enabled,N(this,Ce))===!1||!op(N(this,qs))||N(this,qs)===0)&&J(this,Wi,setInterval(()=>{(this.options.refetchIntervalInBackground||ny.isFocused())&&we(this,Ue,Sl).call(this)},N(this,qs)))},hp=function(){we(this,Ue,up).call(this),we(this,Ue,fp).call(this,we(this,Ue,dp).call(this))},mp=function(){N(this,zi)&&(clearTimeout(N(this,zi)),J(this,zi,void 0))},pp=function(){N(this,Wi)&&(clearInterval(N(this,Wi)),J(this,Wi,void 0))},gp=function(){const e=N(this,dr).getQueryCache().build(N(this,dr),this.options);if(e===N(this,Ce))return;const r=N(this,Ce);J(this,Ce,e),J(this,Oc,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},Gk=function(e){bt.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(N(this,Gt))}),N(this,dr).getQueryCache().notify({query:N(this,Ce),type:"observerResultsUpdated"})})},Pw);function yI(t,e){return dn(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function M0(t,e){return yI(t,e)||t.state.data!==void 0&&yp(t,e,e.refetchOnMount)}function yp(t,e,r){if(dn(e.enabled,t)!==!1){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&sy(t,e)}return!1}function L0(t,e,r,n){return(t!==e||dn(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&sy(t,r)}function sy(t,e){return dn(e.enabled,t)!==!1&&t.isStaleByTime(ra(e.staleTime,t))}function vI(t,e){return!Nd(t.getCurrentResult(),e)}var Hs,Ks,fr,rs,as,Ku,vp,Tw,xI=(Tw=class extends Ga{constructor(r,n){super();le(this,as);le(this,Hs);le(this,Ks);le(this,fr);le(this,rs);J(this,Hs,r),this.setOptions(n),this.bindMethods(),we(this,as,Ku).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=N(this,Hs).defaultMutationOptions(r),Nd(this.options,n)||N(this,Hs).getMutationCache().notify({type:"observerOptionsUpdated",mutation:N(this,fr),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&to(n.mutationKey)!==to(this.options.mutationKey)?this.reset():((s=N(this,fr))==null?void 0:s.state.status)==="pending"&&N(this,fr).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=N(this,fr))==null||r.removeObserver(this)}onMutationUpdate(r){we(this,as,Ku).call(this),we(this,as,vp).call(this,r)}getCurrentResult(){return N(this,Ks)}reset(){var r;(r=N(this,fr))==null||r.removeObserver(this),J(this,fr,void 0),we(this,as,Ku).call(this),we(this,as,vp).call(this)}mutate(r,n){var s;return J(this,rs,n),(s=N(this,fr))==null||s.removeObserver(this),J(this,fr,N(this,Hs).getMutationCache().build(N(this,Hs),this.options)),N(this,fr).addObserver(this),N(this,fr).execute(r)}},Hs=new WeakMap,Ks=new WeakMap,fr=new WeakMap,rs=new WeakMap,as=new WeakSet,Ku=function(){var n;const r=((n=N(this,fr))==null?void 0:n.state)??Kk();J(this,Ks,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},vp=function(r){bt.batch(()=>{var n,s,i,o,l,c,u,d;if(N(this,rs)&&this.hasListeners()){const f=N(this,Ks).variables,h=N(this,Ks).context;(r==null?void 0:r.type)==="success"?((s=(n=N(this,rs)).onSuccess)==null||s.call(n,r.data,f,h),(o=(i=N(this,rs)).onSettled)==null||o.call(i,r.data,null,f,h)):(r==null?void 0:r.type)==="error"&&((c=(l=N(this,rs)).onError)==null||c.call(l,r.error,f,h),(d=(u=N(this,rs)).onSettled)==null||d.call(u,void 0,r.error,f,h))}this.listeners.forEach(f=>{f(N(this,Ks))})})},Tw),Qk=g.createContext(void 0),xs=t=>{const e=g.useContext(Qk);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},wI=({client:t,children:e})=>(g.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),a.jsx(Qk.Provider,{value:t,children:e})),Yk=g.createContext(!1),bI=()=>g.useContext(Yk);Yk.Provider;function _I(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var SI=g.createContext(_I()),jI=()=>g.useContext(SI);function Jk(t,e){return typeof t=="function"?t(...e):!!t}function xp(){}var kI=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},NI=t=>{g.useEffect(()=>{t.clearReset()},[t])},CI=({result:t,errorResetBoundary:e,throwOnError:r,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&Jk(r,[t.error,n]),EI=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},PI=(t,e)=>t.isLoading&&t.isFetching&&!e,TI=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,F0=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function AI(t,e,r){var d,f,h,m,y;const n=xs(),s=bI(),i=jI(),o=n.defaultQueryOptions(t);(f=(d=n.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||f.call(d,o),o._optimisticResults=s?"isRestoring":"optimistic",EI(o),kI(o,i),NI(i);const l=!n.getQueryCache().get(o.queryHash),[c]=g.useState(()=>new e(n,o)),u=c.getOptimisticResult(o);if(g.useSyncExternalStore(g.useCallback(x=>{const b=s?xp:c.subscribe(bt.batchCalls(x));return c.updateResult(),b},[c,s]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),g.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),TI(o,u))throw F0(o,c,i);if(CI({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash)}))throw u.error;if((m=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||m.call(h,o,u),o.experimental_prefetchInRender&&!eo&&PI(u,s)){const x=l?F0(o,c,i):(y=n.getQueryCache().get(o.queryHash))==null?void 0:y.promise;x==null||x.catch(xp).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function lt(t,e){return AI(t,gI)}function Qe(t,e){const r=xs(),[n]=g.useState(()=>new xI(r,t));g.useEffect(()=>{n.setOptions(t)},[n,t]);const s=g.useSyncExternalStore(g.useCallback(o=>n.subscribe(bt.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=g.useCallback((o,l)=>{n.mutate(o,l).catch(xp)},[n]);if(s.error&&Jk(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}const OI="modulepreload",RI=function(t){return"/"+t},$0={},Uc=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=RI(c),c in $0)return;$0[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":OI,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},DI=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Uc(async()=>{const{default:n}=await Promise.resolve().then(()=>Qa);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class iy extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class U0 extends iy{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class B0 extends iy{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class V0 extends iy{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var wp;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(wp||(wp={}));var II=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class MI{constructor(e,{headers:r={},customFetch:n,region:s=wp.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=DI(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return II(this,arguments,void 0,function*(r,n={}){var s;try{const{headers:i,method:o,body:l,signal:c}=n;let u={},{region:d}=n;d||(d=this.region);const f=new URL(`${this.url}/${r}`);d&&d!=="any"&&(u["x-region"]=d,f.searchParams.set("forceFunctionRegion",d));let h;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",h=l):typeof l=="string"?(u["Content-Type"]="text/plain",h=l):typeof FormData<"u"&&l instanceof FormData?h=l:(u["Content-Type"]="application/json",h=JSON.stringify(l)));const m=yield this.fetch(f.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:h,signal:c}).catch(w=>{throw w.name==="AbortError"?w:new U0(w)}),y=m.headers.get("x-relay-error");if(y&&y==="true")throw new B0(m);if(!m.ok)throw new V0(m);let x=((s=m.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),b;return x==="application/json"?b=yield m.json():x==="application/octet-stream"?b=yield m.blob():x==="text/event-stream"?b=m:x==="multipart/form-data"?b=yield m.formData():b=yield m.text(),{data:b,error:null,response:m}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new U0(i)}:{data:null,error:i,response:i instanceof V0||i instanceof B0?i.context:void 0}}})}}var mr={},oy={},Cf={},Bc={},Ef={},Pf={},LI=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ra=LI();const FI=Ra.fetch,Zk=Ra.fetch.bind(Ra),Xk=Ra.Headers,$I=Ra.Request,UI=Ra.Response,Qa=Object.freeze(Object.defineProperty({__proto__:null,Headers:Xk,Request:$I,Response:UI,default:Zk,fetch:FI},Symbol.toStringTag,{value:"Module"})),BI=ZA(Qa);var Tf={};Object.defineProperty(Tf,"__esModule",{value:!0});let VI=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Tf.default=VI;var eN=Gr&&Gr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Pf,"__esModule",{value:!0});const zI=eN(BI),WI=eN(Tf);let qI=class{constructor(e){var r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(r=e.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=zI.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=new Headers(this.headers),this.headers.set(e,r),this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c,u;let d=null,f=null,h=null,m=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const p=await i.text();p===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?f=p:f=JSON.parse(p))}const b=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),w=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");b&&w&&w.length>1&&(h=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(d={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,m=406,y="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const b=await i.text();try{d=JSON.parse(b),Array.isArray(d)&&i.status===404&&(f=[],d=null,m=200,y="OK")}catch{i.status===404&&b===""?(m=204,y="No Content"):d={message:b}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,m=200,y="OK"),d&&this.shouldThrowOnError)throw new WI.default(d)}return{error:d,data:f,count:h,status:m,statusText:y}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}returns(){return this}overrideTypes(){return this}};Pf.default=qI;var HI=Gr&&Gr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ef,"__esModule",{value:!0});const KI=HI(Pf);let GI=class extends KI.default{select(e){let r=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const c=[e?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Ef.default=GI;var QI=Gr&&Gr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Bc,"__esModule",{value:!0});const YI=QI(Ef);let JI=class extends YI.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};Bc.default=JI;var ZI=Gr&&Gr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Cf,"__esModule",{value:!0});const dl=ZI(Bc);let XI=class{constructor(e,{headers:r={},schema:n,fetch:s}){this.url=e,this.headers=new Headers(r),this.schema=n,this.fetch=s}select(e,r){const{head:n=!1,count:s}=r??{},i=n?"HEAD":"GET";let o=!1;const l=(e??"*").split("").map(c=>/\s/.test(c)&&!o?"":(c==='"'&&(o=!o),c)).join("");return this.url.searchParams.set("select",l),s&&this.headers.append("Prefer",`count=${s}`),new dl.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:r,defaultToNull:n=!0}={}){var s;const i="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new dl.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new dl.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:r}={}){var n;const s="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new dl.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var r;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new dl.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};Cf.default=XI;var tN=Gr&&Gr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(oy,"__esModule",{value:!0});const eM=tN(Cf),tM=tN(Bc);let rM=class rN{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(e){const r=new URL(`${this.url}/${e}`);return new eM.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new rN(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${e}`);let u;n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{c.searchParams.append(f,h)})):(l="POST",u=r);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new tM.default({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};oy.default=rM;var Ya=Gr&&Gr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(mr,"__esModule",{value:!0});mr.PostgrestError=mr.PostgrestBuilder=mr.PostgrestTransformBuilder=mr.PostgrestFilterBuilder=mr.PostgrestQueryBuilder=mr.PostgrestClient=void 0;const nN=Ya(oy);mr.PostgrestClient=nN.default;const sN=Ya(Cf);mr.PostgrestQueryBuilder=sN.default;const iN=Ya(Bc);mr.PostgrestFilterBuilder=iN.default;const oN=Ya(Ef);mr.PostgrestTransformBuilder=oN.default;const aN=Ya(Pf);mr.PostgrestBuilder=aN.default;const lN=Ya(Tf);mr.PostgrestError=lN.default;var nM=mr.default={PostgrestClient:nN.default,PostgrestQueryBuilder:sN.default,PostgrestFilterBuilder:iN.default,PostgrestTransformBuilder:oN.default,PostgrestBuilder:aN.default,PostgrestError:lN.default};const{PostgrestClient:sM,PostgrestQueryBuilder:oq,PostgrestFilterBuilder:aq,PostgrestTransformBuilder:lq,PostgrestBuilder:cq,PostgrestError:uq}=nM;class iM{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const oM="2.75.0",aM=`realtime-js/${oM}`,lM="1.0.0",bp=1e4,cM=1e3,uM=100;var Ml;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ml||(Ml={}));var vt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(vt||(vt={}));var ln;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ln||(ln={}));var _p;(function(t){t.websocket="websocket"})(_p||(_p={}));var Ei;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ei||(Ei={}));class dM{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(e.slice(o,o+s));o=o+s;const c=n.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class cN{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ze;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ze||(ze={}));const z0=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=fM(o,t,e,s),i),{}):{}},fM=(t,e,r,n)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?uN(i,o):Sp(o)},uN=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return gM(e,r)}switch(t){case ze.bool:return hM(e);case ze.float4:case ze.float8:case ze.int2:case ze.int4:case ze.int8:case ze.numeric:case ze.oid:return mM(e);case ze.json:case ze.jsonb:return pM(e);case ze.timestamp:return yM(e);case ze.abstime:case ze.date:case ze.daterange:case ze.int4range:case ze.int8range:case ze.money:case ze.reltime:case ze.text:case ze.time:case ze.timestamptz:case ze.timetz:case ze.tsrange:case ze.tstzrange:return Sp(e);default:return Sp(e)}},Sp=t=>t,hM=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},mM=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},pM=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},gM=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>uN(e,l))}return t},yM=t=>typeof t=="string"?t.replace(" ","T"):t,dN=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Rh{constructor(e,r,n={},s=bp){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var W0;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(W0||(W0={}));class Ll{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ll.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=Ll.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ll.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(b=>b.presence_ref),m=f.map(b=>b.presence_ref),y=d.filter(b=>m.indexOf(b.presence_ref)<0),x=f.filter(b=>h.indexOf(b.presence_ref)<0);y.length>0&&(l[u]=y),x.length>0&&(c[u]=x)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),d.length>0){const f=e[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);e[l].unshift(...h)}n(l,d,c)}),this.map(o,(l,c)=>{let u=e[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),e[l]=u,s(l,u,c),u.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var q0;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(q0||(q0={}));var Fl;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Fl||(Fl={}));var Xn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Xn||(Xn={}));class ay{constructor(e,r={config:{}},n){var s,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=vt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Rh(this,ln.join,this.params,this.timeout),this.rejoinTimer=new cN(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=vt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=vt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=vt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=vt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=vt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ln.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new Ll(this),this.broadcastEndpointURL=dN(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==vt.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Fl.PRESENCE]&&this.bindings[Fl.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>e==null?void 0:e(Xn.CHANNEL_ERROR,m)),this._onClose(()=>e==null?void 0:e(Xn.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var y;if(this.socket.setAuth(),m===void 0){e==null||e(Xn.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,b=(y=x==null?void 0:x.length)!==null&&y!==void 0?y:0,w=[];for(let p=0;p<b;p++){const v=x[p],{filter:{event:_,schema:S,table:C,filter:j}}=v,E=m&&m[p];if(E&&E.event===_&&E.schema===S&&E.table===C&&E.filter===j)w.push(Object.assign(Object.assign({},v),{id:E.id}));else{this.unsubscribe(),this.state=vt.errored,e==null||e(Xn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(Xn.SUBSCRIBED);return}}).receive("error",m=>{this.state=vt.errored,e==null||e(Xn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Xn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===vt.joined&&e===Fl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=vt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ln.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Rh(this,ln.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=vt.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Rh(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>uM){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=ln;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var y,x,b;return((y=m.filter)===null||y===void 0?void 0:y.event)==="*"||((b=(x=m.filter)===null||x===void 0?void 0:x.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(m=>m.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var y,x,b,w,p,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const _=m.id,S=(y=m.filter)===null||y===void 0?void 0:y.event;return _&&((x=r.ids)===null||x===void 0?void 0:x.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const _=(p=(w=m==null?void 0:m.filter)===null||w===void 0?void 0:w.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return _==="*"||_===((v=r==null?void 0:r.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:x,table:b,commit_timestamp:w,type:p,errors:v}=y;h=Object.assign(Object.assign({},{schema:x,table:b,commit_timestamp:w,eventType:p,new:{},old:{},errors:v}),this._getPayloadRecords(y))}m.callback(h,n)})}_isClosed(){return this.state===vt.closed}_isJoined(){return this.state===vt.joined}_isJoining(){return this.state===vt.joining}_isLeaving(){return this.state===vt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&ay.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ln.close,{},e)}_onError(e){this._on(ln.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=vt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=z0(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=z0(e.columns,e.old_record)),r}}const Dh=()=>{},ku={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},vM=[1e3,2e3,5e3,1e4],xM=1e4,wM=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class bM{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=bp,this.transport=null,this.heartbeatIntervalMs=ku.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Dh,this.ref=0,this.reconnectTimer=null,this.logger=Dh,this.conn=null,this.sendBuffer=[],this.serializer=new dM,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>Uc(async()=>{const{default:l}=await Promise.resolve().then(()=>Qa);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${_p.websocket}`,this.httpEndpoint=dN(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=iM.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:lM}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ml.connecting:return Ei.Connecting;case Ml.open:return Ei.Open;case Ml.closing:return Ei.Closing;default:return Ei.Closed}}isConnected(){return this.connectionState()===Ei.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new ay(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(cM,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ku.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ln.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([wM],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:aM};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(ln.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new cN(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ku.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,o,l,c,u,d;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:bp,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:ku.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:Dh,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:f=>vM[f-1]||xM,this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(f,h)=>h(JSON.stringify(f)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class ly extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function gt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class _M extends ly{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class jp extends ly{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var SM=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const fN=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Uc(async()=>{const{default:n}=await Promise.resolve().then(()=>Qa);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},jM=()=>SM(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Uc(()=>Promise.resolve().then(()=>Qa),void 0)).Response:Response}),kp=t=>{if(Array.isArray(t))return t.map(r=>kp(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=kp(n)}),e},kM=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var mo=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const Ih=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),NM=(t,e,r)=>mo(void 0,void 0,void 0,function*(){const n=yield jM();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new _M(Ih(s),i,o))}).catch(s=>{e(new jp(Ih(s),s))}):e(new jp(Ih(t),t))}),CM=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(kM(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function Vc(t,e,r,n,s,i){return mo(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(r,CM(e,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>NM(c,l,n))})})}function Ed(t,e,r,n){return mo(this,void 0,void 0,function*(){return Vc(t,"GET",e,r,n)})}function Cn(t,e,r,n,s){return mo(this,void 0,void 0,function*(){return Vc(t,"POST",e,n,s,r)})}function Np(t,e,r,n,s){return mo(this,void 0,void 0,function*(){return Vc(t,"PUT",e,n,s,r)})}function EM(t,e,r,n){return mo(this,void 0,void 0,function*(){return Vc(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function hN(t,e,r,n,s){return mo(this,void 0,void 0,function*(){return Vc(t,"DELETE",e,n,s,r)})}var PM=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class TM{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return PM(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(gt(e))return{data:null,error:e};throw e}})}}var AM=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class OM{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}asStream(){return new TM(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.execute().then(e,r)}execute(){return AM(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(gt(e))return{data:null,error:e};throw e}})}}var ur=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const RM={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},H0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class DM{constructor(e,r={},n,s){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=fN(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,s){return ur(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},H0),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(e=="PUT"?Np:Cn)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(gt(i))return{data:null,error:i};throw i}})}upload(e,r,n){return ur(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return ur(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:H0.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield Np(this.fetch,l.toString(),c,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(gt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return ur(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Cn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new ly("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gt(n))return{data:null,error:n};throw n}})}update(e,r,n){return ur(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return ur(this,void 0,void 0,function*(){try{return{data:yield Cn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(gt(s))return{data:null,error:s};throw s}})}copy(e,r,n){return ur(this,void 0,void 0,function*(){try{return{data:{path:(yield Cn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(gt(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return ur(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Cn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(gt(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return ur(this,void 0,void 0,function*(){try{const s=yield Cn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(gt(s))return{data:null,error:s};throw s}})}download(e,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",l=this._getFinalPath(e),c=()=>Ed(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new OM(c,this.shouldThrowOnError)}info(e){return ur(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Ed(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:kp(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gt(n))return{data:null,error:n};throw n}})}exists(e){return ur(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield EM(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gt(n)&&n instanceof jp){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(e){return ur(this,void 0,void 0,function*(){try{return{data:yield hN(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gt(r))return{data:null,error:r};throw r}})}list(e,r,n){return ur(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},RM),r),{prefix:e||""});return{data:yield Cn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(gt(s))return{data:null,error:s};throw s}})}listV2(e,r){return ur(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Cn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gt(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const IM="2.75.0",MM={"X-Client-Info":`storage-js/${IM}`};var xo=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class LM{constructor(e,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},MM),r),this.fetch=fN(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return xo(this,void 0,void 0,function*(){try{return{data:yield Ed(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(gt(e))return{data:null,error:e};throw e}})}getBucket(e){return xo(this,void 0,void 0,function*(){try{return{data:yield Ed(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gt(r))return{data:null,error:r};throw r}})}createBucket(e){return xo(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Cn(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(gt(s))return{data:null,error:s};throw s}})}updateBucket(e,r){return xo(this,void 0,void 0,function*(){try{return{data:yield Np(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gt(n))return{data:null,error:n};throw n}})}emptyBucket(e){return xo(this,void 0,void 0,function*(){try{return{data:yield Cn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return xo(this,void 0,void 0,function*(){try{return{data:yield hN(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gt(r))return{data:null,error:r};throw r}})}}class FM extends LM{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new DM(this.url,this.headers,e,this.fetch)}}const $M="2.75.0";let jl="";typeof Deno<"u"?jl="deno":typeof document<"u"?jl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?jl="react-native":jl="node";const UM={"X-Client-Info":`supabase-js-${jl}/${$M}`},BM={headers:UM},VM={schema:"public"},zM={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},WM={};var qM=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const HM=t=>{let e;return t?e=t:typeof fetch>"u"?e=Zk:e=fetch,(...r)=>e(...r)},KM=()=>typeof Headers>"u"?Xk:Headers,GM=(t,e,r)=>{const n=HM(r),s=KM();return(i,o)=>qM(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var QM=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};function YM(t){return t.endsWith("/")?t:t+"/"}function JM(t,e){var r,n;const{db:s,auth:i,realtime:o,global:l}=t,{db:c,auth:u,realtime:d,global:f}=e,h={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>QM(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function ZM(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(YM(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const mN="2.75.0",To=30*1e3,Cp=3,Mh=Cp*To,XM="http://localhost:9999",e4="supabase.auth.token",t4={"X-Client-Info":`gotrue-js/${mN}`},Ep="X-Supabase-Api-Version",pN={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},r4=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,n4=10*60*1e3;class ac extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ae(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class s4 extends ac{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function i4(t){return ae(t)&&t.name==="AuthApiError"}class Pi extends ac{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class yi extends ac{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class Ts extends yi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function o4(t){return ae(t)&&t.name==="AuthSessionMissingError"}class wo extends yi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Nu extends yi{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Cu extends yi{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function a4(t){return ae(t)&&t.name==="AuthImplicitGrantRedirectError"}class K0 extends yi{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Pp extends yi{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Lh(t){return ae(t)&&t.name==="AuthRetryableFetchError"}class G0 extends yi{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Tp extends yi{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Pd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Q0=` 	
\r=`.split(""),l4=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Q0.length;e+=1)t[Q0[e].charCodeAt(0)]=-2;for(let e=0;e<Pd.length;e+=1)t[Pd[e].charCodeAt(0)]=e;return t})();function Y0(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Pd[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Pd[n]),e.queuedBits-=6}}function gN(t,e,r){const n=l4[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function J0(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{d4(o,n,r)};for(let o=0;o<t.length;o+=1)gN(t.charCodeAt(o),s,i);return e.join("")}function c4(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function u4(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}c4(n,e)}}function d4(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function na(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)gN(t.charCodeAt(s),r,n);return new Uint8Array(e)}function f4(t){const e=[];return u4(t,r=>e.push(r)),new Uint8Array(e)}function Ii(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>Y0(s,r,n)),Y0(null,r,n),e.join("")}function h4(t){return Math.round(Date.now()/1e3)+t}function m4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Sr=()=>typeof window<"u"&&typeof document<"u",_i={tested:!1,writable:!1},yN=()=>{if(!Sr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(_i.tested)return _i.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),_i.tested=!0,_i.writable=!0}catch{_i.tested=!0,_i.writable=!1}return _i.writable};function p4(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const vN=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Uc(async()=>{const{default:n}=await Promise.resolve().then(()=>Qa);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},g4=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ao=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Si=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ks=async(t,e)=>{await t.removeItem(e)};class Af{constructor(){this.promise=new Af.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Af.promiseConstructor=Promise;function Fh(t){const e=t.split(".");if(e.length!==3)throw new Tp("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!r4.test(e[n]))throw new Tp("JWT not in base64url format");return{header:JSON.parse(J0(e[0])),payload:JSON.parse(J0(e[1])),signature:na(e[2]),raw:{header:e[0],payload:e[1]}}}async function y4(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function v4(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function x4(t){return("0"+t.toString(16)).substr(-2)}function w4(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,x4).join("")}async function b4(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function _4(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await b4(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function bo(t,e,r=!1){const n=w4();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Ao(t,`${e}-code-verifier`,s);const i=await _4(n);return[i,n===i?"plain":"s256"]}const S4=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function j4(t){const e=t.headers.get(Ep);if(!e||!e.match(S4))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function k4(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function N4(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const C4=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function _o(t){if(!C4.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function $h(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Z0(t){return JSON.parse(JSON.stringify(t))}var E4=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const Ni=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),P4=[502,503,504];async function X0(t){var e;if(!g4(t))throw new Pp(Ni(t),0);if(P4.includes(t.status))throw new Pp(Ni(t),t.status);let r;try{r=await t.json()}catch(i){throw new Pi(Ni(i),i)}let n;const s=j4(t);if(s&&s.getTime()>=pN["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new G0(Ni(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Ts}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new G0(Ni(r),t.status,r.weak_password.reasons);throw new s4(Ni(r),t.status||500,n)}const T4=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function me(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Ep]||(i[Ep]=pN["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await A4(t,e,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function A4(t,e,r,n,s,i){const o=T4(e,n,s,i);let l;try{l=await t(r,Object.assign({},o))}catch(c){throw console.error(c),new Pp(Ni(c),0)}if(l.ok||await X0(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await X0(c)}}function tn(t){var e;let r=null;D4(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=h4(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function ex(t){const e=tn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ms(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function O4(t){return{data:t,error:null}}function R4(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=E4(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function tx(t){return t}function D4(t){return t.access_token&&t.refresh_token&&t.expires_in}const Uh=["global","local","others"];var I4=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class M4{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=vN(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Uh[0]){if(Uh.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Uh.join(", ")}`);try{return await me(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await me(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ms})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=I4(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await me(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:R4,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ae(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await me(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ms})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await me(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:tx});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(y=>{const x=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(y.split(";")[1].split("=")[1]);u[`${b}Page`]=x}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ae(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){_o(e);try{return await me(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ms})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){_o(e);try{return await me(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Ms})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){_o(e);try{return await me(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ms})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){_o(e.userId);try{const{data:r,error:n}=await me(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _deleteFactor(e){_o(e.userId),_o(e.id);try{return{data:await me(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await me(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:tx});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(y=>{const x=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(y.split(";")[1].split("=")[1]);u[`${b}Page`]=x}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ae(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await me(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await me(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await me(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await me(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}}function rx(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const So={debug:!!(globalThis&&yN()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class xN extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class L4 extends xN{}async function F4(t,e,r){So.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),So.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){So.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{So.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw So.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new L4(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(So.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function $4(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function wN(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function U4(t){return parseInt(t,16)}function B4(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function V4(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:h}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const m=wN(t.address),y=d?`${d}://${n}`:n,x=t.statement?`${t.statement}
`:"",b=`${y} wants you to sign in with your Ethereum account:
${m}

${x}`;let w=`URI: ${f}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(w+=`
Expiration Time: ${s.toISOString()}`),l&&(w+=`
Not Before: ${l.toISOString()}`),c&&(w+=`
Request ID: ${c}`),u){let p=`
Resources:`;for(const v of u){if(!v||typeof v!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${v}`);p+=`
- ${v}`}w+=p}return`${b}
${w}`}class pt extends Error{constructor({message:e,code:r,cause:n,name:s}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Td extends pt{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function z4({error:t,options:e}){var r,n,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new pt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new pt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new pt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new pt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new pt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new pt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new pt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new pt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(_N(o)){if(i.rp.id!==o)return new pt({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new pt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new pt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new pt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new pt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function W4({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new pt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new pt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(_N(n)){if(r.rpId!==n)return new pt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new pt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new pt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new pt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}var bN=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class q4{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const H4=new q4;function K4(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=bN(t,["challenge","user","excludeCredentials"]),i=na(e).buffer,o=Object.assign(Object.assign({},r),{id:na(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:na(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function G4(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=bN(t,["challenge","allowCredentials"]),s=na(e).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:na(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function Q4(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Ii(new Uint8Array(t.response.attestationObject)),clientDataJSON:Ii(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Y4(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Ii(new Uint8Array(s.authenticatorData)),clientDataJSON:Ii(new Uint8Array(s.clientDataJSON)),signature:Ii(new Uint8Array(s.signature)),userHandle:s.userHandle?Ii(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function _N(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function nx(){var t,e;return!!(Sr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function J4(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Td("Browser returned unexpected credential type",e)}:{data:null,error:new Td("Empty credential response",e)}}catch(e){return{data:null,error:z4({error:e,options:t})}}}async function Z4(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Td("Browser returned unexpected credential type",e)}:{data:null,error:new Td("Empty credential response",e)}}catch(e){return{data:null,error:W4({error:e,options:t})}}}const X4={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},eL={userVerification:"preferred",hints:["security-key"]};function Ad(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(e(o)){const l=n[i];e(l)?n[i]=Ad(l,o):n[i]=Ad(o)}else n[i]=o}return n}function tL(t,e){return Ad(X4,t,e||{})}function rL(t,e){return Ad(eL,t,e||{})}class nL{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:l};const c=s??H4.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=tL(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:f}=await J4({publicKey:u,signal:c});return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=rL(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:f}=await Z4(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return ae(o)?{data:null,error:o}:{data:null,error:new Pi("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}},i){if(!r)return{data:null,error:new ac("rpId is required for WebAuthn authentication")};try{if(!nx())return{data:null,error:new Pi("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return ae(o)?{data:null,error:o}:{data:null,error:new Pi("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s},i){if(!r)return{data:null,error:new ac("rpId is required for WebAuthn registration")};try{if(!nx())return{data:null,error:new Pi("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return ae(o)?{data:null,error:o}:{data:null,error:new Pi("Unexpected error in register",o)}}}}$4();const sL={url:XM,storageKey:e4,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:t4,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function sx(t,e,r){return await r()}const jo={};class lc{get jwks(){var e,r;return(r=(e=jo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){jo[this.storageKey]=Object.assign(Object.assign({},jo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=jo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){jo[this.storageKey]=Object.assign(Object.assign({},jo[this.storageKey]),{cachedAt:e})}constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=lc.nextInstanceID,lc.nextInstanceID+=1,this.instanceID>0&&Sr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},sL),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new M4({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=vN(s.fetch),this.lock=s.lock||sx,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Sr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=F4:this.lock=sx,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new nL(this)},this.persistSession?(s.storage?this.storage=s.storage:yN()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=rx(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=rx(this.memoryStorage)),Sr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${mN}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=p4(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Sr()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),a4(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ae(r)?{error:r}:{error:new Pi("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:tn}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(ae(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:d,password:f,options:h}=e;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await bo(this.storage,this.storageKey)),i=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:y},xform:tn})}else if("phone"in e){const{phone:d,password:f,options:h}=e;i=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:tn})}else throw new Nu("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(ae(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:l}=e;r=await me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:ex})}else if("phone"in e){const{phone:i,password:o,options:l}=e;r=await me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:ex})}else throw new Nu("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new wo}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(ae(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,i,o,l,c,u,d,f,h;let m,y;if("message"in e)m=e.message,y=e.signature;else{const{chain:x,wallet:b,statement:w,options:p}=e;let v;if(Sr())if(typeof b=="object")v=b;else{const A=window;if("ethereum"in A&&typeof A.ethereum=="object"&&"request"in A.ethereum&&typeof A.ethereum.request=="function")v=A.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=b}const _=new URL((r=p==null?void 0:p.url)!==null&&r!==void 0?r:window.location.href),S=await v.request({method:"eth_requestAccounts"}).then(A=>A).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const C=wN(S[0]);let j=(n=p==null?void 0:p.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!j){const A=await v.request({method:"eth_chainId"});j=U4(A)}const E={domain:_.host,address:C,statement:w,uri:_.href,version:"1",chainId:j,nonce:(s=p==null?void 0:p.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=p==null?void 0:p.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=p==null?void 0:p.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=p==null?void 0:p.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=p==null?void 0:p.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=p==null?void 0:p.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=V4(E),y=await v.request({method:"personal_sign",params:[B4(m),C]})}try{const{data:x,error:b}=await me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:y},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:tn});if(b)throw b;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new wo}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:b})}catch(x){if(ae(x))return{data:{user:null,session:null},error:x};throw x}}async signInWithSolana(e){var r,n,s,i,o,l,c,u,d,f,h,m;let y,x;if("message"in e)y=e.message,x=e.signature;else{const{chain:b,wallet:w,statement:p,options:v}=e;let _;if(Sr())if(typeof w=="object")_=w;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))_=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=w}const S=new URL((r=v==null?void 0:v.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const C=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),p?{statement:p}:null));let j;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")j=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)j=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)y=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),x=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(n=v==null?void 0:v.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=v==null?void 0:v.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((c=v==null?void 0:v.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((u=v==null?void 0:v.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((f=(d=v==null?void 0:v.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...v.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const C=await _.signMessage(new TextEncoder().encode(y),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=C}}try{const{data:b,error:w}=await me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Ii(x)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:tn});if(w)throw w;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new wo}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:w})}catch(b){if(ae(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(e){const r=await Si(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await me(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:tn});if(await ks(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new wo}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(ae(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,l=await me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:tn}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new wo}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(ae(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:l,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await bo(this.storage,this.storageKey));const{error:f}=await me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:d}=await me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Nu("You must provide either an email or phone number.")}catch(l){if(ae(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await me(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:tn});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(ae(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await bo(this.storage,this.storageKey)),await me(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:O4})}catch(i){if(ae(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Ts;const{error:s}=await me(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(ae(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await me(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:l}=await me(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Nu("You must provide either an email or phone number and a type")}catch(r){if(ae(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Si(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Mh:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await Si(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=$h()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ms}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ts}:await me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Ms})})}catch(r){if(ae(r))return o4(r)&&(await this._removeSession(),await ks(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Ts;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await bo(this.storage,this.storageKey));const{data:u,error:d}=await me(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Ms});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ts;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=Fh(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(ae(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:l}=r;if(l)throw l;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Ts;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ae(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Sr())throw new Cu("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Cu(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new K0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Cu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new K0("No code detected.");const{data:p,error:v}=await this._exchangeCodeForSession(e.code);if(v)throw v;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=e;if(!i||!l||!o||!u)throw new Cu("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=To&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const y=h-f;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,d);const{data:x,error:b}=await this._getUser(i);if(b)throw b;const w={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:e.type},error:null}}catch(n){if(ae(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Si(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(i4(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await ks(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=m4(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await bo(this.storage,this.storageKey,!0));try{return await me(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(ae(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,c,u,d;const{data:f,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await me(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Sr()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ae(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:l,token:c,access_token:u,nonce:d}=e,f=await me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:tn}),{data:h,error:m}=f;return m?{data:{user:null,session:null},error:m}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new wo}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),{data:h,error:m})}catch(s){if(ae(s))return{data:{user:null,session:null},error:s};throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await me(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await v4(async s=>(s>0&&await y4(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await me(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:tn})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Lh(i)&&Date.now()+o-n<To})}catch(n){if(this._debug(r,"error",n),ae(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Sr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Si(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Si(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Ao(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:$h()}else if(s&&!s.user&&!s.user){const o=await Si(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await ks(this.storage,this.storageKey+"-user"),await Ao(this.storage,this.storageKey,s)):s.user=$h()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Mh;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Mh}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Lh(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Ts;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Af;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Ts;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),ae(i)){const o={data:null,error:i};return Lh(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Ao(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Z0(s);await Ao(this.storage,this.storageKey,i)}else{const s=Z0(r);await Ao(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await ks(this.storage,this.storageKey),await ks(this.storage,this.storageKey+"-code-verifier"),await ks(this.storage,this.storageKey+"-user"),this.userStorage&&await ks(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Sr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),To);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/To);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${To}ms, refresh threshold is ${Cp} ticks`),s<=Cp&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof xN)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Sr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await bo(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await me(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:u}=await me(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Q4(e.webauthn.credential_response):Y4(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:c}=await me(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(r){if(ae(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const o=await me(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:K4(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:G4(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ae(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Fh(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(l=>l.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===e),n&&this.jwks_cached_at+n4>s)return n;const{data:i,error:o}=await me(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:m,error:y}=await this.getSession();if(y||!m.session)return{data:null,error:y};n=m.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=Fh(n);r!=null&&r.allowExpired||k4(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:s,signature:o},error:null}}const d=N4(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,f4(`${l}.${c}`)))throw new Tp("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}}}lc.nextInstanceID=0;const iL=lc;class oL extends iL{constructor(e){super(e)}}var aL=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class lL{constructor(e,r,n){var s,i,o;this.supabaseUrl=e,this.supabaseKey=r;const l=ZM(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:VM,realtime:WM,auth:Object.assign(Object.assign({},zM),{storageKey:c}),global:BM},d=JM(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=GM(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new sM(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new FM(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new MI(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return aL(this,void 0,void 0,function*(){var e,r;if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:o,flowType:l,lock:c,debug:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new oL({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:l,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new bM(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const cL=(t,e,r)=>new lL(t,e,r);function uL(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}uL()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const SN="https://umotigprfosrrjwpxlnp.supabase.co",Gu="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVtb3RpZ3ByZm9zcnJqd3B4bG5wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc1NjI2NjgsImV4cCI6MjA3MzEzODY2OH0.aDovd3HhJ2ItbknjwzBku6aAx2CIY270QL266_AOumk";console.log(" Supabase Client Initialization");console.log(" URL:",SN);console.log(" Key (first 20 chars):",(Gu==null?void 0:Gu.substring(0,20))+"...");const ke=cL(SN,Gu,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storage:window.localStorage,flowType:"pkce"}});/*! Capacitor: https://capacitorjs.com/ - MIT License */var Da;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(Da||(Da={}));class Bh extends Error{constructor(e,r,n){super(e),this.message=e,this.code=r,this.data=n}}const dL=t=>{var e,r;return t!=null&&t.androidBridge?"android":!((r=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||r===void 0)&&r.bridge?"ios":"web"},fL=t=>{const e=t.CapacitorCustomPlatform||null,r=t.Capacitor||{},n=r.Plugins=r.Plugins||{},s=()=>e!==null?e.name:dL(t),i=()=>s()!=="web",o=f=>{const h=u.get(f);return!!(h!=null&&h.platforms.has(s())||l(f))},l=f=>{var h;return(h=r.PluginHeaders)===null||h===void 0?void 0:h.find(m=>m.name===f)},c=f=>t.console.error(f),u=new Map,d=(f,h={})=>{const m=u.get(f);if(m)return console.warn(`Capacitor plugin "${f}" already registered. Cannot register plugins twice.`),m.proxy;const y=s(),x=l(f);let b;const w=async()=>(!b&&y in h?b=typeof h[y]=="function"?b=await h[y]():b=h[y]:e!==null&&!b&&"web"in h&&(b=typeof h.web=="function"?b=await h.web():b=h.web),b),p=(E,A)=>{var D,O;if(x){const I=x==null?void 0:x.methods.find($=>A===$.name);if(I)return I.rtype==="promise"?$=>r.nativePromise(f,A.toString(),$):($,H)=>r.nativeCallback(f,A.toString(),$,H);if(E)return(D=E[A])===null||D===void 0?void 0:D.bind(E)}else{if(E)return(O=E[A])===null||O===void 0?void 0:O.bind(E);throw new Bh(`"${f}" plugin is not implemented on ${y}`,Da.Unimplemented)}},v=E=>{let A;const D=(...O)=>{const I=w().then($=>{const H=p($,E);if(H){const M=H(...O);return A=M==null?void 0:M.remove,M}else throw new Bh(`"${f}.${E}()" is not implemented on ${y}`,Da.Unimplemented)});return E==="addListener"&&(I.remove=async()=>A()),I};return D.toString=()=>`${E.toString()}() { [capacitor code] }`,Object.defineProperty(D,"name",{value:E,writable:!1,configurable:!1}),D},_=v("addListener"),S=v("removeListener"),C=(E,A)=>{const D=_({eventName:E},A),O=async()=>{const $=await D;S({eventName:E,callbackId:$},A)},I=new Promise($=>D.then(()=>$({remove:O})));return I.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await O()},I},j=new Proxy({},{get(E,A){switch(A){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return x?C:_;case"removeListener":return S;default:return v(A)}}});return n[f]=j,u.set(f,{name:f,proxy:j,platforms:new Set([...Object.keys(h),...x?[y]:[]])}),j};return r.convertFileSrc||(r.convertFileSrc=f=>f),r.getPlatform=s,r.handleError=c,r.isNativePlatform=i,r.isPluginAvailable=o,r.registerPlugin=d,r.Exception=Bh,r.DEBUG=!!r.DEBUG,r.isLoggingEnabled=!!r.isLoggingEnabled,r},hL=t=>t.Capacitor=fL(t),cc=hL(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),jN=cc.registerPlugin;class kN{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,r){let n=!1;this.listeners[e]||(this.listeners[e]=[],n=!0),this.listeners[e].push(r);const i=this.windowListeners[e];i&&!i.registered&&this.addWindowListener(i),n&&this.sendRetainedArgumentsForEvent(e);const o=async()=>this.removeListener(e,r);return Promise.resolve({remove:o})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,r,n){const s=this.listeners[e];if(!s){if(n){let i=this.retainedEventArguments[e];i||(i=[]),i.push(r),this.retainedEventArguments[e]=i}return}s.forEach(i=>i(r))}hasListeners(e){var r;return!!(!((r=this.listeners[e])===null||r===void 0)&&r.length)}registerWindowListener(e,r){this.windowListeners[r]={registered:!1,windowEventName:e,pluginEventName:r,handler:n=>{this.notifyListeners(r,n)}}}unimplemented(e="not implemented"){return new cc.Exception(e,Da.Unimplemented)}unavailable(e="not available"){return new cc.Exception(e,Da.Unavailable)}async removeListener(e,r){const n=this.listeners[e];if(!n)return;const s=n.indexOf(r);this.listeners[e].splice(s,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const r=this.retainedEventArguments[e];r&&(delete this.retainedEventArguments[e],r.forEach(n=>{this.notifyListeners(e,n)}))}}const ix=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),ox=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class mL extends kN{async getCookies(){const e=document.cookie,r={};return e.split(";").forEach(n=>{if(n.length<=0)return;let[s,i]=n.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");s=ox(s).trim(),i=ox(i).trim(),r[s]=i}),r}async setCookie(e){try{const r=ix(e.key),n=ix(e.value),s=`; expires=${(e.expires||"").replace("expires=","")}`,i=(e.path||"/").replace("path=",""),o=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${r}=${n||""}${s}; path=${i}; ${o};`}catch(r){return Promise.reject(r)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(r){return Promise.reject(r)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const r of e)document.cookie=r.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}jN("CapacitorCookies",{web:()=>new mL});const pL=async t=>new Promise((e,r)=>{const n=new FileReader;n.onload=()=>{const s=n.result;e(s.indexOf(",")>=0?s.split(",")[1]:s)},n.onerror=s=>r(s),n.readAsDataURL(t)}),gL=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(s=>s.toLocaleLowerCase()).reduce((s,i,o)=>(s[i]=t[e[o]],s),{})},yL=(t,e=!0)=>t?Object.entries(t).reduce((n,s)=>{const[i,o]=s;let l,c;return Array.isArray(o)?(c="",o.forEach(u=>{l=e?encodeURIComponent(u):u,c+=`${i}=${l}&`}),c.slice(0,-1)):(l=e?encodeURIComponent(o):o,c=`${i}=${l}`),`${n}&${c}`},"").substr(1):null,vL=(t,e={})=>{const r=Object.assign({method:t.method||"GET",headers:t.headers},e),s=gL(t.headers)["content-type"]||"";if(typeof t.data=="string")r.body=t.data;else if(s.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[o,l]of Object.entries(t.data||{}))i.set(o,l);r.body=i.toString()}else if(s.includes("multipart/form-data")||t.data instanceof FormData){const i=new FormData;if(t.data instanceof FormData)t.data.forEach((l,c)=>{i.append(c,l)});else for(const l of Object.keys(t.data))i.append(l,t.data[l]);r.body=i;const o=new Headers(r.headers);o.delete("content-type"),r.headers=o}else(s.includes("application/json")||typeof t.data=="object")&&(r.body=JSON.stringify(t.data));return r};class xL extends kN{async request(e){const r=vL(e,e.webFetchExtra),n=yL(e.params,e.shouldEncodeUrlParams),s=n?`${e.url}?${n}`:e.url,i=await fetch(s,r),o=i.headers.get("content-type")||"";let{responseType:l="text"}=i.ok?e:{};o.includes("application/json")&&(l="json");let c,u;switch(l){case"arraybuffer":case"blob":u=await i.blob(),c=await pL(u);break;case"json":c=await i.json();break;case"document":case"text":default:c=await i.text()}const d={};return i.headers.forEach((f,h)=>{d[h]=f}),{data:c,headers:d,status:i.status,url:i.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}jN("CapacitorHttp",{web:()=>new xL});const NN=cc.isNativePlatform()?"https://bjj-jits-journal.onrender.com":"";async function CN(){var t;try{const{data:{session:e}}=await ke.auth.getSession();return((t=e==null?void 0:e.user)==null?void 0:t.id)||null}catch(e){return console.error("Failed to get Supabase user:",e),null}}const Wr=new pI({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1,queryFn:async({queryKey:t})=>{const e=await CN(),r={"Content-Type":"application/json"};let n=`${NN}${t[0]}`;if(e){const i=n.includes("?")?"&":"?";n+=`${i}supabaseId=${e}`,console.log(" Query with supabaseId")}else console.warn(" No supabaseId available for query");const s=await fetch(n,{headers:r});if(!s.ok)throw(s.status===401||s.status===403)&&(console.log(" Auth failed - may need to refresh"),sessionStorage.setItem("auth_failure","true")),new Error(`${s.status}: ${s.statusText}`);return s.json()}}}});async function Jr(t,e,r){const n=await CN(),i={method:t,headers:{"Content-Type":"application/json"}};r?i.body=JSON.stringify({...r,supabaseId:n}):n&&(i.body=JSON.stringify({supabaseId:n}));const o=`${NN}${e}`,l=await fetch(o,i);if(!l.ok){if(l.status===401||l.status===403)throw console.log(" Auth failed in API request"),new Error("Authentication required. Please refresh the page and try again.");let c=`${l.status}: ${l.statusText}`;try{c=(await l.json()).message||c}catch{const u=await l.text();c=`${l.status}: ${u}`}throw new Error(c)}return l}const wL=cc.isNativePlatform()?"https://bjj-jits-journal.onrender.com":"",EN=g.createContext(void 0),lr=()=>{const t=g.useContext(EN);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t};async function Ap(t,e,r,n=10){try{console.log(" Loading user data for supabaseId:",t,`(attempt ${11-n}/10)`);const s=await fetch(`${wL}/api/user/by-supabase-id/${t}`);if(console.log(" User endpoint response status:",s.status),s.ok){const o=await s.json();return console.log(" User data loaded successfully:",{id:o.id,email:o.email}),{id:o.id.toString(),email:o.email,firstName:o.first_name,lastName:o.last_name,subscriptionStatus:o.subscription_status||"free",subscriptionPlan:o.subscription_plan,role:o.role||"user",createdAt:o.created_at,supabaseId:o.supabase_uid}}if(s.status===404&&n>0)return console.log(" User not found yet, retrying in 1000ms..."),await new Promise(o=>setTimeout(o,1e3)),Ap(t,e,r,n-1);const i=await s.text();return console.error(" User not found in database for supabaseId:",t,"Response:",i),null}catch(s){return console.error(" Error in getUserFromSupabaseId:",s),null}}const bL=({children:t})=>{const[e,r]=g.useState(null),[n,s]=g.useState(null),[i,o]=g.useState(null),[l,c]=g.useState(!0),u=fe.useRef(null),d=fe.useRef(!1);g.useEffect(()=>{(async()=>{const{data:{session:b}}=await ke.auth.getSession();if(o(b),s((b==null?void 0:b.user)??null),b!=null&&b.user)try{const w=await Ap(b.user.id,b.user.email||"",b.user.user_metadata);w?(Wr.clear(),r(w),u.current=b.user.id,c(!1)):(await ke.auth.signOut(),r(null),o(null),s(null),c(!1))}catch{await ke.auth.signOut(),r(null),o(null),s(null),c(!1)}else c(!1)})().catch(b=>{console.error("Session check failed:",b),c(!1)});const{data:{subscription:x}}=ke.auth.onAuthStateChange(async(b,w)=>{if(console.log(" Auth state change:",b,"isSigningUp:",d.current),d.current){console.log(" Ignoring auth state change during signup");return}if(o(w),s((w==null?void 0:w.user)??null),w!=null&&w.user){if(b==="TOKEN_REFRESHED"||u.current===w.user.id){c(!1);return}c(!0);try{const p=await Ap(w.user.id,w.user.email||"",w.user.user_metadata);p?(Wr.clear(),r(p),u.current=w.user.id,c(!1)):(b!=="SIGNED_IN"?(console.log(" User data not found, signing out (event:",b,")"),await ke.auth.signOut(),r(null),o(null),s(null)):console.log(" Fresh sign-in detected, user data not ready yet. Keeping session active."),c(!1))}catch{b!=="SIGNED_IN"&&(await ke.auth.signOut(),r(null),o(null),s(null)),c(!1)}}else r(null),u.current=null,c(!1)});return()=>x.unsubscribe()},[]);const f=y=>{r(y)},h=async()=>{await ke.auth.signOut(),r(null),o(null),s(null),Wr.clear()},m=y=>{console.log(" Setting signup in progress:",y),d.current=y};return a.jsx(EN.Provider,{value:{user:e,supabaseUser:n,session:i,isLoading:l,login:f,logout:h,isAuthenticated:!!e,setSignupInProgress:m},children:t})},PN=g.createContext(void 0);function _L({children:t}){const[e,r]=g.useState(!0);g.useEffect(()=>{const o=localStorage.getItem("bjj_darkmode")!=="false";localStorage.getItem("bjj_darkmode")||localStorage.setItem("bjj_darkmode","true"),r(o),n(o)},[]);const n=o=>{o?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},s=o=>{r(o),localStorage.setItem("bjj_darkmode",o.toString()),n(o)},i=()=>{s(!e)};return a.jsx(PN.Provider,{value:{darkMode:e,toggleDarkMode:i,setDarkMode:s},children:t})}function SL(){const t=g.useContext(PN);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t}function jL(){const[t]=Ka();g.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"instant"}),document.body.scrollTop=0,document.documentElement.scrollTop=0},[t])}const kL=1,TN=4e3;let Vh=0;function NL(){return Vh=(Vh+1)%Number.MAX_SAFE_INTEGER,Vh.toString()}const zh=new Map,ax=t=>{if(zh.has(t))return;const e=setTimeout(()=>{zh.delete(t),$l({type:"REMOVE_TOAST",toastId:t})},TN);zh.set(t,e)},CL=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,kL)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?ax(r):t.toasts.forEach(n=>{ax(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},Qu=[];let Yu={toasts:[]};function $l(t){Yu=CL(Yu,t),Qu.forEach(e=>{e(Yu)})}function EL({duration:t=TN,...e}){const r=NL(),n=i=>$l({type:"UPDATE_TOAST",toast:{...i,id:r}}),s=()=>$l({type:"DISMISS_TOAST",toastId:r});return $l({type:"ADD_TOAST",toast:{...e,id:r,open:!0,onOpenChange:i=>{i||s()}}}),setTimeout(()=>{s()},t),{id:r,dismiss:s,update:n}}function It(){const[t,e]=g.useState(Yu);return g.useEffect(()=>(Qu.push(e),()=>{const r=Qu.indexOf(e);r>-1&&Qu.splice(r,1)}),[t]),{...t,toast:EL,dismiss:r=>$l({type:"DISMISS_TOAST",toastId:r})}}const Mi={async getAll(t){const{data:e,error:r}=await ke.from("classes").select("*").eq("user_id",t).order("date",{ascending:!1});if(r)throw r;return e||[]},async create(t,e){const r={date:e.date,time:e.time,duration:e.duration,class_type:e.classType,instructor:e.instructor||"",techniques_focused:e.techniquesFocused||"",rolling_partners:e.rollingPartners||[],your_submissions:e.yourSubmissions||0,partner_submissions:e.partnerSubmissions||0,cardio_rating:e.cardioRating||3,user_id:t};console.log("Class data being sent to Supabase:",JSON.stringify(r,null,2));const{data:n,error:s}=await ke.from("classes").insert(r).select().single();if(s)throw console.error("Class creation error:",s),console.error("Error details:",JSON.stringify(s,null,2)),s;return console.log("Class created successfully:",n),n},async update(t,e,r){const n={date:r.date,time:r.time,duration:r.duration,class_type:r.classType,instructor:r.instructor||"",techniques_focused:r.techniquesFocused||"",rolling_partners:r.rollingPartners||[],your_submissions:r.yourSubmissions||0,partner_submissions:r.partnerSubmissions||0,cardio_rating:r.cardioRating||3},{data:s,error:i}=await ke.from("classes").update(n).eq("id",t).eq("user_id",e).select().single();if(i)throw i;return s},async delete(t,e){const{error:r}=await ke.from("classes").delete().eq("id",t).eq("user_id",e);if(r)throw r;return{success:!0}}},Ti={async getAll(t){const{data:e,error:r}=await ke.from("notes").select("*").eq("user_id",t).order("created_at",{ascending:!1});if(r)throw r;return(e||[]).map(n=>({...n,userId:n.user_id,linkedClassId:n.linked_class_id,linkedVideoId:n.linked_video_id,isShared:n.is_shared,sharedWithUsers:n.shared_with_users,videoUrl:n.video_url,videoFileName:n.video_file_name,videoThumbnail:n.video_thumbnail,createdAt:n.created_at,updatedAt:n.updated_at}))},async getShared(){const{data:t,error:e}=await ke.from("notes").select(`
        *,
        users!inner(first_name, last_name, email)
      `).eq("is_shared",1).order("created_at",{ascending:!1});if(e)throw e;return t||[]},async create(t,e){console.log("Creating note with userId:",t,"noteData:",e);const r={title:e.title||"",content:e.content||"",tags:e.tags&&e.tags.length>0?e.tags:null,user_id:t};console.log("Inserting data:",r);const{data:n,error:s}=await ke.from("notes").insert(r).select().single();if(s)throw console.error("Note creation error:",s),console.error("Error details:",JSON.stringify(s,null,2)),s;return console.log("Note created successfully:",n),n},async update(t,e,r){const{data:n,error:s}=await ke.from("notes").update(r).eq("id",t).eq("user_id",e).select().single();if(s)throw s;return n},async delete(t,e){const{error:r}=await ke.from("notes").delete().eq("id",t).eq("user_id",e);if(r)throw r},async adminDelete(t){const{error:e}=await ke.from("notes").delete().eq("id",t);if(e)throw e},async toggleShare(t,e,r){const{data:n,error:s}=await ke.from("notes").update({is_shared:r?1:0}).eq("id",t).eq("user_id",e).select().single();if(s)throw s;return n}},Ls={async getCurrent(t){const{data:e,error:r}=await ke.from("belts").select("*").eq("user_id",t).order("promotion_date",{ascending:!1}).limit(1).single();if(r&&r.code!=="PGRST116")throw r;return e},async getAll(t){const{data:e,error:r}=await ke.from("belts").select("*").eq("user_id",t).order("promotion_date",{ascending:!1});if(r)throw r;return e||[]},async create(t,e){const{data:r,error:n}=await ke.from("belts").insert({belt:e.belt,stripes:e.stripes,promotion_date:e.promotionDate,instructor:e.instructor,notes:e.notes,user_id:t}).select().single();if(n)throw n;return r},async update(t,e,r){const{data:n,error:s}=await ke.from("belts").update({belt:r.belt,stripes:r.stripes,promotion_date:r.promotionDate,instructor:r.instructor,notes:r.notes}).eq("id",t).eq("user_id",e).select().single();if(s)throw s;return n},async delete(t,e){const{error:r}=await ke.from("belts").delete().eq("id",t).eq("user_id",e);if(r)throw r}},Wh={async getCurrent(t){const e=new Date,r=e.getUTCDay(),n=r===0?0:-r,s=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()+n,0,0,0,0)),i=s.toISOString().split("T")[0];console.log("getCurrent - Looking for week:",i);const{data:o,error:l}=await ke.from("weekly_commitments").select("*").eq("user_id",t).gte("week_start_date",i).lt("week_start_date",new Date(s.getTime()+24*60*60*1e3).toISOString().split("T")[0]).order("created_at",{ascending:!1}).limit(1).single();if(console.log("getCurrent - Found:",o,"Error:",l),l&&l.code!=="PGRST116")throw l;return o},async create(t,e){console.log("Creating weekly commitment with userId:",t,"data:",e);const{data:r,error:n}=await ke.from("weekly_commitments").insert({week_start_date:e.weekStartDate,target_classes:e.targetClasses,completed_classes:e.completedClasses||0,is_completed:e.isCompleted||0,user_id:t}).select().single();if(n)throw console.error("Weekly commitment creation error:",n),console.error("Error details:",JSON.stringify(n,null,2)),n;return console.log("Weekly commitment created successfully:",r),r},async update(t,e,r){console.log("Updating weekly commitment:",t,"userId:",e,"data:",r);const n={};r.weekStartDate!==void 0&&(n.week_start_date=r.weekStartDate),r.targetClasses!==void 0&&(n.target_classes=r.targetClasses),r.completedClasses!==void 0&&(n.completed_classes=r.completedClasses),r.isCompleted!==void 0&&(n.is_completed=r.isCompleted);const{data:s,error:i}=await ke.from("weekly_commitments").update(n).eq("id",t).eq("user_id",e).select().single();if(i)throw console.error("Weekly commitment update error:",i),console.error("Error details:",JSON.stringify(i,null,2)),i;return console.log("Weekly commitment updated successfully:",s),s}},lx={async getAll(t){const{data:e,error:r}=await ke.from("drawings").select("*").eq("user_id",t).order("created_at",{ascending:!1});if(r)throw r;return e||[]},async create(t,e){const{data:r,error:n}=await ke.from("drawings").insert({...e,user_id:t}).select().single();if(n)throw n;return r}};function PL(){const[t,e]=g.useState(!1),[r,n]=g.useState(3),{toast:s}=It(),i=xs(),{user:o}=lr();fe.useEffect(()=>{o&&console.log("WeeklyGoals user object:",{id:o.id,type:typeof o.id,email:o.email})},[o]);const{data:l,refetch:c}=lt({queryKey:["weeklyCommitments","current",o==null?void 0:o.id],queryFn:()=>Wh.getCurrent(o.id),enabled:!!(o!=null&&o.id),staleTime:0,refetchOnWindowFocus:!0,refetchOnMount:!0,refetchInterval:2e3,gcTime:0,retry:!1}),{data:u=[],refetch:d}=lt({queryKey:["classes",o==null?void 0:o.id],queryFn:()=>Mi.getAll(o.id),enabled:!!(o!=null&&o.id),staleTime:0,refetchOnWindowFocus:!0,refetchOnMount:!0,refetchInterval:3e3});fe.useEffect(()=>{c(),d()},[c,d]);const f=new Date,h=new Date(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()-f.getUTCDay()+1);h.setUTCHours(0,0,0,0);const m=Array.isArray(u)?u.filter(_=>new Date(_.date)>=h).length:0,y=Qe({mutationFn:async _=>{if(!(o!=null&&o.id))throw new Error("User not authenticated");return l&&l.id?await Wh.update(l.id,o.id,_):await Wh.create(o.id,_)},onSuccess:_=>{console.log("Weekly goal mutation success:",_),i.invalidateQueries({queryKey:["weeklyCommitments","current",o==null?void 0:o.id]}),i.invalidateQueries({queryKey:["classes",o==null?void 0:o.id]}),setTimeout(()=>{c(),d()},100),e(!1),s({title:"Success",description:`Weekly goal set to ${r} classes!`,duration:4e3})}}),x=_=>{if(_.preventDefault(),y.isPending)return;const S=new Date,C=S.getUTCDay(),j=C===0?0:-C,E=new Date(Date.UTC(S.getUTCFullYear(),S.getUTCMonth(),S.getUTCDate()+j,0,0,0,0));console.log("FRONTEND: Creating goal for week:",E.toISOString()),y.mutate({weekStartDate:E,targetClasses:r,completedClasses:m,isCompleted:m>=r?1:0})},b=(l==null?void 0:l.target_classes)||0,w=m,p=b>0?Math.min(w/b*100,100):0,v=Math.max(b-w,0);return a.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Weekly Goals"}),a.jsx("button",{onClick:()=>e(!t),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:l?"Update":"Set Goal"})]}),t&&a.jsxs("form",{onSubmit:x,className:"mb-4 p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"mb-3",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Classes this week: ",r]}),a.jsx("input",{type:"range",min:"1",max:"10",value:r,onChange:_=>n(parseInt(_.target.value)),className:"w-full"}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[a.jsx("span",{children:"1"}),a.jsx("span",{children:"5"}),a.jsx("span",{children:"10"})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{type:"submit",disabled:y.isPending,className:"flex-1 bg-blue-600 text-white py-2 px-3 rounded-lg text-sm hover:bg-blue-700 disabled:opacity-50",children:y.isPending?"Saving...":"Set Goal"}),a.jsx("button",{type:"button",onClick:()=>e(!1),className:"px-3 py-2 text-gray-600 hover:text-gray-800 text-sm",children:"Cancel"})]})]}),l?a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Progress this week"}),a.jsxs("span",{className:"text-sm font-medium text-gray-800",children:[w," / ",b," classes"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 mb-3",children:a.jsx("div",{className:`h-3 rounded-full transition-all duration-300 ${p>=100?"bg-green-500":p>=75?"bg-yellow-500":"bg-blue-500"}`,style:{width:`${p}%`}})}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("div",{className:`${p>=100?"text-green-600":"text-gray-600"}`,children:p>=100?a.jsx("span",{className:"font-medium",children:" Goal completed!"}):v===1?a.jsxs("span",{children:[v," more class to go!"]}):v>1?a.jsxs("span",{children:[v," more classes to go!"]}):a.jsx("span",{children:"Keep it up!"})}),a.jsxs("div",{className:"text-gray-500",children:[Math.round(p),"%"]})]}),p>=100&&a.jsxs("div",{className:"mt-3 p-3 bg-green-50 rounded-lg text-center",children:[a.jsx("div",{className:"text-green-800 font-medium text-sm",children:"Excellent work this week! "}),a.jsx("div",{className:"text-green-600 text-xs mt-1",children:"You've reached your training goal"})]})]}):a.jsxs("div",{className:"text-center py-4 text-gray-500",children:[a.jsx("p",{className:"text-sm",children:"No weekly goal set yet."}),a.jsx("p",{className:"text-xs",children:"Set a goal to track your progress!"})]})]})}/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TL=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),AN=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var AL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OL=g.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...l},c)=>g.createElement("svg",{ref:c,...AL,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:AN("lucide",s),...l},[...o.map(([u,d])=>g.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=(t,e)=>{const r=g.forwardRef(({className:n,...s},i)=>g.createElement(OL,{ref:i,iconNode:e,className:AN(`lucide-${TL(t)}`,n),...s}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Of=xe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=xe("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Od=xe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=xe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RL=xe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=xe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cy=xe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DL=xe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=xe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IL=xe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=xe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ML=xe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LL=xe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FL=xe("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $L=xe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UL=xe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rd=xe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uc=xe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BL=xe("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=xe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VL=xe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zL=xe("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WL=xe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Op=xe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rp=xe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=xe("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qL=xe("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HL=xe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=xe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KL=xe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GL=xe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dp=xe("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QL=xe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rf=xe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YL=xe("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JL=xe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZL=xe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dd=xe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=xe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=xe("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XL=xe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function eF(){const[t,e]=g.useState(!1),r=g.useRef(null),{user:n,logout:s}=lr(),{data:i=[]}=lt({queryKey:["classes",n==null?void 0:n.id],queryFn:async()=>n!=null&&n.id?await Mi.getAll(n.id):[],enabled:!!(n!=null&&n.id)}),{data:o}=lt({queryKey:["current-belt",n==null?void 0:n.id],queryFn:async()=>{if(!(n!=null&&n.id))return null;console.log("ProfileDropdown - Fetching belt for user ID:",n.id);const u=await Ls.getCurrent(n.id);return console.log("ProfileDropdown - Belt data received:",u),u},enabled:!!(n!=null&&n.id)});g.useEffect(()=>{const u=d=>{r.current&&!r.current.contains(d.target)&&e(!1)};return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[]);const l=u=>u?new Date(u).toLocaleDateString():"No promotions yet",c=()=>{if(!o)return"White Belt";const{belt:u,stripes:d}=o,f=u.charAt(0).toUpperCase()+u.slice(1),h=d>0?` (${d} stripe${d>1?"s":""})`:"";return`${f} Belt${h}`};return a.jsxs("div",{className:"relative",ref:r,children:[a.jsxs("button",{onClick:()=>e(!t),className:"flex items-center space-x-3 bg-white rounded-full p-2 shadow-md hover:shadow-lg transition-shadow duration-200 border border-gray-200",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-red-500 rounded-full flex items-center justify-center",children:a.jsx(Dd,{className:"w-4 h-4 text-white"})}),a.jsxs("div",{className:"hidden md:block text-left",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:(n==null?void 0:n.firstName)||"User"}),a.jsx("p",{className:"text-xs text-gray-500",children:c()})]}),a.jsx(cy,{className:`w-4 h-4 text-gray-500 transition-transform duration-200 ${t?"rotate-180":""}`})]}),t&&a.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-xl shadow-lg border border-gray-200 z-50",children:[a.jsx("div",{className:"p-4 border-b border-gray-100",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-red-500 rounded-full flex items-center justify-center",children:a.jsx(Dd,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("h3",{className:"font-semibold text-gray-900",children:[n==null?void 0:n.firstName," ",n==null?void 0:n.lastName]}),a.jsx("p",{className:"text-sm text-gray-600",children:n==null?void 0:n.email}),a.jsx("p",{className:"text-sm font-medium text-blue-600",children:c()})]})]})}),a.jsxs("div",{className:"p-4 border-b border-gray-100",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Your Progress"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(RL,{className:"w-4 h-4 text-blue-500"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Total Classes"})]}),a.jsx("span",{className:"text-sm font-semibold text-gray-900",children:i.length})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ul,{className:"w-4 h-4 text-yellow-500"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Last Promotion"})]}),a.jsx("span",{className:"text-sm font-semibold text-gray-900",children:l(o==null?void 0:o.promotion_date)})]})]})]}),a.jsxs("div",{className:"p-2",children:[a.jsx(nr,{href:"/settings",children:a.jsxs("button",{onClick:()=>e(!1),className:"w-full flex items-center space-x-3 px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:[a.jsx(GL,{className:"w-4 h-4"}),a.jsx("span",{children:"Settings"})]})}),a.jsx(nr,{href:"/belts",children:a.jsxs("button",{onClick:()=>e(!1),className:"w-full flex items-center space-x-3 px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:[a.jsx(Ul,{className:"w-4 h-4"}),a.jsx("span",{children:"Belt Progress"})]})}),a.jsxs("button",{onClick:()=>{s(),e(!1)},className:"w-full flex items-center space-x-3 px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[a.jsx(WL,{className:"w-4 h-4"}),a.jsx("span",{children:"Log Out"})]})]})]})]})}const tF=()=>{const t=[{quote:"The ground is my ocean, I'm the shark, and most people don't even know how to swim",author:"Rickson Gracie"},{quote:"A belt only covers two inches of your ass. You have to cover the rest",author:"Royce Gracie"},{quote:"Always assume that your opponent is going to be bigger, stronger and faster than you",author:"Helio Gracie"},{quote:"If you think, you are late. If you are late, you use strength. If you use strength, you tire. And if you tire, you die",author:"Saulo Ribeiro"}],[e]=g.useState(()=>t[Math.floor(Math.random()*t.length)]);return a.jsxs("div",{className:"text-center",children:[a.jsxs("h2",{className:"text-xl font-bold mb-3 leading-tight",children:['"',e.quote,'"']}),a.jsxs("p",{className:"text-blue-100 text-sm",children:["- ",e.author]})]})};function rF(){const{user:t}=lr(),{data:e,refetch:r}=lt({queryKey:["belts","current",t==null?void 0:t.id],queryFn:()=>Ls.getCurrent(t.id),enabled:!!(t!=null&&t.id),staleTime:0,refetchOnWindowFocus:!0,refetchOnMount:!0,refetchInterval:5e3});console.log("Current belt data:",e);const{data:n=[],refetch:s}=lt({queryKey:["classes",t==null?void 0:t.id],queryFn:()=>Mi.getAll(t.id),enabled:!!(t!=null&&t.id),staleTime:0,refetchOnWindowFocus:!0,refetchOnMount:!0,refetchInterval:5e3});fe.useEffect(()=>{r(),s()},[r,s]);const i=new Date,o=new Date(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()-i.getUTCDay()+1);o.setUTCHours(0,0,0,0);const l=Array.isArray(n)?n.filter(h=>new Date(h.date)>=o).length:0,c=Array.isArray(n)?n.length:0,u=Array.isArray(n)?n.reduce((h,m)=>h+(m.duration||0),0):0,d={classesThisWeek:l,totalClasses:c,totalMinutes:u},f=({belt:h,stripes:m})=>{const y=b=>({white:"bg-white border-2 border-gray-400",blue:"bg-blue-600",purple:"bg-purple-600",brown:"bg-amber-800",black:"bg-black"})[b]||"bg-gray-400",x=b=>({white:"bg-gray-800",blue:"bg-blue-800",purple:"bg-purple-800",brown:"bg-amber-900",black:"bg-gray-900"})[b]||"bg-gray-600";return a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:`${y(h)} w-20 h-5 rounded-sm shadow-md relative flex items-center justify-center`,children:[a.jsx("div",{className:`${x(h)} absolute left-0 top-0 bottom-0 w-1.5 rounded-l-sm`}),a.jsx("span",{className:`${h==="white"?"text-black":"text-white"} font-bold text-xs`,children:"BJJ"}),a.jsx("div",{className:"absolute right-1 top-1/2 transform -translate-y-1/2 flex gap-0.5",children:Array.from({length:m}).map((b,w)=>a.jsx("div",{className:"w-1 h-3 bg-gray-300 rounded-sm"},w))})]}),a.jsxs("div",{className:"text-xs font-medium capitalize text-gray-800 dark:text-white",children:[h," Belt ",m>0&&`(${m} stripe${m!==1?"s":""})`]})]})};return a.jsxs("div",{className:"p-6 max-w-md mx-auto min-h-screen bg-gray-50 dark:bg-gray-900",children:[a.jsx("div",{className:"flex justify-end mb-4",children:a.jsx(eF,{})}),a.jsx("div",{className:"mb-8 relative overflow-hidden rounded-3xl z-0 glow-pulse",children:a.jsxs("div",{className:"bg-gradient-to-r from-pink-500 via-purple-500 to-cyan-500 p-8 text-white",children:[a.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/20 rounded-full -translate-y-8 translate-x-8 bounce-fun"}),a.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-yellow-300/30 rounded-full translate-y-8 -translate-x-8 bounce-fun",style:{animationDelay:"1s"}}),a.jsx("div",{className:"absolute top-1/2 left-1/4 w-16 h-16 bg-green-300/20 rounded-full bounce-fun",style:{animationDelay:"0.5s"}}),a.jsx("div",{className:"relative z-10",children:a.jsx(tF,{})})]})}),a.jsx("div",{className:"mb-8",children:a.jsx(PL,{})}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-6",children:"Quick Actions "}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs(nr,{to:"/classes",className:"bg-gradient-to-br from-red-500 to-red-600 text-white p-6 rounded-2xl shadow-lg hover-scale transition-all duration-200 block",children:[a.jsx("div",{className:"text-2xl mb-2",children:""}),a.jsx("div",{className:"font-bold text-lg mb-1",children:"Log Class"}),a.jsx("div",{className:"text-sm opacity-90",children:"Record your training"})]}),a.jsxs(nr,{to:"/notes",className:"bg-gradient-to-br from-violet-500 to-violet-600 text-white p-6 rounded-2xl shadow-lg hover-scale transition-all duration-200 block",children:[a.jsx("div",{className:"text-2xl mb-2",children:""}),a.jsx("div",{className:"font-bold text-lg mb-1",children:"New Note"}),a.jsx("div",{className:"text-sm opacity-90",children:"Save techniques"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white p-6 rounded-2xl shadow-lg hover-scale transition-all duration-200",children:[a.jsx("div",{className:"text-3xl font-bold mb-2",children:d.classesThisWeek}),a.jsx("div",{className:"text-sm opacity-90",children:"Classes This Week"}),a.jsx("div",{className:"mt-2 text-2xl",children:""})]}),a.jsxs("div",{className:"bg-gradient-to-br from-emerald-500 to-emerald-600 text-white p-6 rounded-2xl shadow-lg hover-scale transition-all duration-200",children:[a.jsx("div",{className:"text-3xl font-bold mb-2",children:d.totalClasses}),a.jsx("div",{className:"text-sm opacity-90",children:"Total Classes"}),a.jsx("div",{className:"mt-2 text-2xl",children:""})]}),a.jsxs(nr,{to:"/belts",className:"bg-gradient-to-br from-purple-500 to-purple-600 text-white p-6 rounded-2xl shadow-lg hover-scale transition-all duration-200 block",children:[a.jsx("div",{className:"mb-2",children:e?a.jsx(f,{belt:e.belt,stripes:e.stripes}):a.jsx("div",{className:"text-sm text-purple-100",children:"No belt recorded"})}),a.jsx("div",{className:"text-sm opacity-90",children:"Current Belt"}),a.jsx("div",{className:"mt-2 text-2xl",children:""})]}),a.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 text-white p-6 rounded-2xl shadow-lg hover-scale transition-all duration-200",children:[a.jsxs("div",{className:"text-3xl font-bold mb-2",children:[d.totalMinutes,"min"]}),a.jsx("div",{className:"text-sm opacity-90",children:"Total Minutes"}),a.jsx("div",{className:"mt-2 text-2xl",children:""})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-md",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"Recent Activity"}),a.jsx("div",{className:"space-y-3",children:Array.isArray(n)&&n.length>0?n.slice(0,3).map(h=>a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-blue-600 dark:text-blue-400 text-sm",children:""})}),a.jsxs("div",{children:[a.jsxs("div",{className:"font-medium text-gray-800 dark:text-white",children:[h.classType," Class"]}),a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[new Date(h.date).toLocaleDateString(),"  ",h.duration,"min"]})]})]},h.id)):a.jsxs("div",{className:"text-center py-4 text-gray-500 dark:text-gray-400",children:[a.jsx("p",{children:"No recent activity"}),a.jsx("p",{className:"text-sm",children:"Start by logging your first class!"})]})})]})]})}const nF=["Joe@cleancutconstructions.com.au","joe833360@gmail.com","Bjjjitsjournal@gmail.com","bjjjitsjournal@gmail.com","admin@apexbjj.com.au"],DN=t=>t?nF.includes(t):!1,Df=(t,e,r)=>DN(t)||e==="premium"||e==="active"?!0:r?new Date(r)>new Date:!1,sF=(t,e,r)=>DN(t)?"Premium (Unlimited)":Df(t,e,r)?"Premium":"Free Tier",Ki={classes:10,notes:5};function iF(){const[t,e]=g.useState(!1),[r,n]=g.useState(null),[s,i]=g.useState(!1),[o,l]=g.useState(null),c=()=>new Intl.DateTimeFormat("en-CA",{timeZone:"Australia/Sydney",year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date),[u,d]=g.useState({date:c(),time:"18:00",duration:60,type:"Gi",instructor:"",notes:"",rollingPartners:"",yourSubmissions:0,partnerSubmissions:0,cardioRating:3}),{toast:f}=It(),h=xs(),{user:m}=lr(),y=Df(m==null?void 0:m.email,m==null?void 0:m.subscriptionStatus),{data:x=[],isLoading:b}=lt({queryKey:["classes",m==null?void 0:m.id],queryFn:async()=>m!=null&&m.id?await Mi.getAll(m.id):[],enabled:!!(m!=null&&m.id)}),w=Array.isArray(x)?x:[],p=Qe({mutationFn:async({classData:O,originalFormData:I})=>{if(!(m!=null&&m.id))throw new Error("User not authenticated");return{result:await Mi.create(m.id,O),originalFormData:I}},onSuccess:({originalFormData:O})=>{h.invalidateQueries({queryKey:["classes",m==null?void 0:m.id]}),h.invalidateQueries({queryKey:["weekly-commitment",m==null?void 0:m.id]}),h.invalidateQueries({queryKey:["current-belt",m==null?void 0:m.id]}),h.refetchQueries({queryKey:["classes",m==null?void 0:m.id]}),h.refetchQueries({queryKey:["weekly-commitment",m==null?void 0:m.id]});let I="Your training session has been recorded.";const $=[];if(O.instructor&&O.instructor.trim()&&$.push(`with ${O.instructor}`),O.notes&&O.notes.trim()){const H=O.notes.trim().length>30?O.notes.trim().substring(0,30)+"...":O.notes.trim();$.push(H)}$.length>0&&(I=`${O.type} class logged - ${$.join("  ")}`),f({title:"Class Logged!",description:I,duration:4e3}),S()},onError:O=>{f({title:"Error",description:"Failed to log class. Please try again.",variant:"destructive"})}}),v=Qe({mutationFn:async({classId:O,classData:I})=>{if(!(m!=null&&m.id))throw new Error("User not authenticated");return await Mi.update(O,m.id,I)},onSuccess:()=>{h.invalidateQueries({queryKey:["classes",m==null?void 0:m.id]}),f({title:"Class Updated!",description:"Your class has been updated successfully.",duration:4e3}),S()},onError:()=>{f({title:"Error",description:"Failed to update class. Please try again.",variant:"destructive"})}}),_=Qe({mutationFn:async O=>{if(!(m!=null&&m.id))throw new Error("User not authenticated");return await Mi.delete(O,m.id)},onSuccess:()=>{h.invalidateQueries({queryKey:["classes",m==null?void 0:m.id]}),h.invalidateQueries({queryKey:["weekly-commitment",m==null?void 0:m.id]}),f({title:"Class Deleted",description:"Your class has been removed.",duration:4e3}),i(!1),l(null)},onError:()=>{f({title:"Error",description:"Failed to delete class. Please try again.",variant:"destructive"})}}),S=()=>{e(!1),n(null),d({date:c(),time:"18:00",duration:60,type:"Gi",instructor:"",notes:"",rollingPartners:"",yourSubmissions:0,partnerSubmissions:0,cardioRating:3})},C=O=>{var I,$;n(O.id),d({date:O.date.split("T")[0],time:O.time||"18:00",duration:O.duration,type:O.classType||O.class_type,instructor:O.instructor||"",notes:O.techniquesFocused||O.techniques_focused||"",rollingPartners:((I=O.rollingPartners)==null?void 0:I.join(", "))||(($=O.rolling_partners)==null?void 0:$.join(", "))||"",yourSubmissions:O.yourSubmissions||O.your_submissions||0,partnerSubmissions:O.partnerSubmissions||O.partner_submissions||0,cardioRating:O.cardioRating||O.cardio_rating||3}),e(!0)},j=O=>{l(O),i(!0)},E=()=>{o&&_.mutate(o)},A=O=>{if(O.preventDefault(),!r&&!y&&Array.isArray(x)&&x.length>=Ki.classes){f({title:"Class Limit Reached",description:`Free tier is limited to ${Ki.classes} classes. Upgrade to Premium for unlimited class logging!`,variant:"destructive"});return}const I={date:u.date,time:u.time,duration:u.duration,classType:u.type,instructor:u.instructor,techniquesFocused:u.notes,rollingPartners:u.rollingPartners?u.rollingPartners.split(",").map($=>$.trim()).filter($=>$):[],yourSubmissions:u.yourSubmissions,partnerSubmissions:u.partnerSubmissions,cardioRating:u.cardioRating};r?v.mutate({classId:r,classData:I}):p.mutate({classData:I,originalFormData:{...u}})},D=O=>{const{name:I,value:$}=O.target;d(H=>({...H,[I]:["duration","yourSubmissions","partnerSubmissions","cardioRating"].includes(I)?parseInt($)||0:$}))};return t?a.jsxs("div",{className:"p-6 max-w-md mx-auto bg-background min-h-screen",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-foreground",children:r?"Edit Class":"Log Class"}),a.jsx("button",{onClick:S,className:"text-muted-foreground hover:text-foreground",children:""})]}),a.jsxs("form",{onSubmit:A,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Date"}),a.jsx("input",{type:"date",name:"date",value:u.date,onChange:D,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-black",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Time"}),a.jsx("input",{type:"time",name:"time",value:u.time,onChange:D,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-black",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Duration (minutes)"}),a.jsx("input",{type:"number",name:"duration",value:u.duration,onChange:D,min:"30",max:"240",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-black",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),a.jsxs("select",{name:"type",value:u.type,onChange:D,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-black",children:[a.jsx("option",{value:"Gi",children:"Gi"}),a.jsx("option",{value:"No Gi",children:"No Gi"}),a.jsx("option",{value:"Open Mat",children:"Open Mat"}),a.jsx("option",{value:"Competition",children:"Competition"}),a.jsx("option",{value:"Drilling",children:"Drilling"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Instructor"}),a.jsx("input",{type:"text",name:"instructor",value:u.instructor,onChange:D,placeholder:"Enter instructor name",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-black placeholder-gray-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),a.jsx("textarea",{name:"notes",value:u.notes,onChange:D,rows:3,placeholder:"What did you work on today?",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-black placeholder-gray-500"})]}),a.jsxs("div",{className:"border-t pt-4 mt-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-3",children:"Rolling Session"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rolling Partners"}),a.jsx("input",{type:"text",name:"rollingPartners",value:u.rollingPartners,onChange:D,placeholder:"Who did you roll with? (comma separated)",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-black placeholder-gray-500"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Submissions"}),a.jsx("input",{type:"number",name:"yourSubmissions",value:u.yourSubmissions,onChange:D,min:"0",max:"50",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-black"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Partner Submissions"}),a.jsx("input",{type:"number",name:"partnerSubmissions",value:u.partnerSubmissions,onChange:D,min:"0",max:"50",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-black"})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"How did your cardio feel? (1-5)"}),a.jsxs("select",{name:"cardioRating",value:u.cardioRating,onChange:D,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-black",children:[a.jsx("option",{value:1,children:"1 - Exhausted"}),a.jsx("option",{value:2,children:"2 - Tired"}),a.jsx("option",{value:3,children:"3 - Average"}),a.jsx("option",{value:4,children:"4 - Good"}),a.jsx("option",{value:5,children:"5 - Excellent"})]})]})]}),a.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-blue-500 to-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:from-blue-600 hover:to-blue-700 transition-all duration-200",children:r?"Update Class":"Log Class"})]})]}):a.jsxs("div",{className:"p-6 max-w-md mx-auto bg-background min-h-screen",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Classes"}),a.jsx("button",{onClick:()=>e(!0),className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-4 py-2 rounded-lg font-medium hover:from-blue-600 hover:to-purple-700 transition-all duration-200",children:"+ New Class"})]}),a.jsx("div",{className:"space-y-3",children:w.map((O,I)=>a.jsxs("div",{className:"bg-gradient-to-r from-slate-50 to-gray-50 dark:from-slate-800/50 dark:to-gray-800/50 border border-slate-200 dark:border-slate-700 p-4 rounded-lg shadow-sm hover-scale transition-all duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-semibold",children:O.classType}),a.jsx("span",{className:"text-gray-400",children:""}),a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[O.duration,"min"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[new Date(O.date).toLocaleDateString(),O.time&&`  ${O.time}`]}),a.jsx("button",{onClick:()=>C(O),className:"p-1.5 text-blue-600 dark:text-blue-400 hover:bg-blue-100 dark:hover:bg-blue-900/30 rounded transition-colors","data-testid":`button-edit-class-${O.id}`,children:""}),a.jsx("button",{onClick:()=>j(O.id),className:"p-1.5 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/30 rounded transition-colors","data-testid":`button-delete-class-${O.id}`,children:""})]})]}),O.instructor&&a.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300 mb-2",children:[a.jsx("strong",{children:"Instructor:"})," ",O.instructor]}),O.techniquesFocused&&a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:[a.jsx("strong",{children:"Notes:"})," ",O.techniquesFocused]}),O.rollingPartners&&O.rollingPartners.length>0&&a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:[a.jsx("strong",{children:"Rolling Partners:"})," ",O.rollingPartners.join(", ")]}),(O.yourSubmissions>0||O.partnerSubmissions>0||O.cardioRating)&&a.jsxs("div",{className:"flex gap-4 text-sm text-gray-600 dark:text-gray-400",children:[(O.yourSubmissions>0||O.partnerSubmissions>0)&&a.jsxs("span",{children:[a.jsx("strong",{children:"Subs:"})," You ",O.yourSubmissions||0," - ",O.partnerSubmissions||0," Partners"]}),O.cardioRating&&a.jsxs("span",{children:[a.jsx("strong",{children:"Cardio:"})," ",O.cardioRating,"/5",O.cardioRating===1&&" ",O.cardioRating===2&&" ",O.cardioRating===3&&" ",O.cardioRating===4&&" ",O.cardioRating===5&&" "]})]})]},O.id))}),s&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-sm w-full",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2",children:"Delete Class?"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Are you sure you want to delete this class? This action cannot be undone."}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>{i(!1),l(null)},className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors","data-testid":"button-cancel-delete",children:"Cancel"}),a.jsx("button",{onClick:E,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors","data-testid":"button-confirm-delete",children:"Delete"})]})]})})]})}function oF({noteId:t,existingVideo:e,onVideoUploaded:r}){const[n,s]=g.useState(!1),[i,o]=g.useState(0),l=g.useRef(null),c=g.useRef(null),{toast:u}=It(),d=xs(),{user:f}=lr(),h=Qe({mutationFn:async({file:v,thumbnail:_})=>{const S=v.name.split(".").pop(),j=`note-videos/${`${t}-${Date.now()}.${S}`}`;o(30);const{data:E,error:A}=await ke.storage.from("videos").upload(j,v,{cacheControl:"3600",upsert:!1});if(A)throw new Error(A.message);o(60);const{data:{publicUrl:D}}=ke.storage.from("videos").getPublicUrl(j);o(80);const O=await Jr("POST",`/api/notes/${t}/upload-video`,{videoUrl:D,fileName:v.name,thumbnail:_,userId:f==null?void 0:f.id});return o(100),O},onSuccess:()=>{setTimeout(()=>{s(!1),o(0)},500),d.invalidateQueries({queryKey:["notes"]}),u({title:"Video uploaded successfully!",description:"Your video has been attached to the note"}),r==null||r()},onError:v=>{s(!1),o(0),console.error("Video upload error:",v),u({title:"Upload failed",description:v.message||"Failed to upload video. Please try again.",variant:"destructive"})}}),m=Qe({mutationFn:async()=>await Jr("DELETE",`/api/notes/${t}/video?userId=${f==null?void 0:f.id}`),onSuccess:()=>{d.invalidateQueries({queryKey:["notes"]}),u({title:"Video removed",description:"Video has been removed from the note"}),r==null||r()},onError:v=>{u({title:"Remove failed",description:"Failed to remove video. Please try again.",variant:"destructive"})}}),y=v=>{var C;const _=(C=v.target.files)==null?void 0:C[0];if(!_)return;if(!_.type.startsWith("video/")){u({title:"Invalid file type",description:"Please select a video file",variant:"destructive"});return}const S=5*1024*1024*1024;if(_.size>S){u({title:"File too large",description:"Video must be less than 5GB",variant:"destructive"});return}x(_)},x=async v=>{s(!0),o(10);try{const _=await b(v);o(20),h.mutate({file:v,thumbnail:_})}catch(_){console.error("Upload error:",_),s(!1),o(0),u({title:"Upload failed",description:"Failed to process video file",variant:"destructive"})}},b=v=>new Promise(_=>{const S=document.createElement("video");S.crossOrigin="anonymous",S.onloadeddata=()=>{S.currentTime=1},S.onseeked=()=>{const C=document.createElement("canvas"),j=C.getContext("2d");C.width=S.videoWidth,C.height=S.videoHeight,j==null||j.drawImage(S,0,0);const E=C.toDataURL("image/jpeg",.8);_(E)},S.onerror=()=>_(""),S.src=URL.createObjectURL(v)}),w=()=>{m.mutate()},p=()=>{var v;(v=l.current)==null||v.click()};return e?a.jsxs("div",{className:"mt-4 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(hx,{className:"w-5 h-5 text-blue-600"}),a.jsx("span",{className:"font-medium text-gray-800",children:"Attached Video"})]}),a.jsx("button",{onClick:w,disabled:m.isPending,className:"text-red-600 hover:text-red-700 p-1",children:a.jsx(Rf,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"relative",children:[a.jsx("video",{ref:c,src:e.videoUrl,controls:!0,className:"w-full rounded-lg shadow-sm",style:{maxHeight:"300px"},children:"Your browser does not support the video tag."}),a.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:[" ",e.videoFileName]})]})]}):a.jsxs("div",{className:"mt-4",children:[a.jsx("input",{ref:l,type:"file",accept:"video/*",onChange:y,className:"hidden"}),n?a.jsx("div",{className:"p-6 border-2 border-blue-300 border-dashed rounded-lg bg-blue-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx(hx,{className:"w-8 h-8 text-blue-600 mx-auto mb-3 animate-pulse"}),a.jsx("p",{className:"text-blue-800 font-medium mb-2",children:i<50?"Reading video file...":i<60?"Generating thumbnail...":i<100?"Uploading to server...":"Finalizing..."}),a.jsx("div",{className:"w-full bg-blue-200 rounded-full h-3 mb-2",children:a.jsx("div",{className:"bg-blue-600 h-3 rounded-full transition-all duration-500 ease-out",style:{width:`${i}%`}})}),a.jsxs("p",{className:"text-sm text-blue-600 font-medium",children:[Math.round(i),"% complete"]}),a.jsx("p",{className:"text-xs text-blue-500 mt-1",children:"Please wait, do not close this page"})]})}):a.jsx("div",{className:"w-full",children:a.jsx("button",{onClick:p,className:"w-full p-6 border-2 border-gray-300 border-dashed rounded-lg hover:border-blue-400 hover:bg-blue-50 transition-colors group",disabled:n,children:a.jsxs("div",{className:"text-center",children:[a.jsx(JL,{className:"w-8 h-8 text-gray-400 group-hover:text-blue-600 mx-auto mb-3"}),a.jsx("span",{className:"text-lg text-gray-600 group-hover:text-blue-600 font-medium",children:"Upload Video from Gallery"}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Select a video file from your device"})]})})}),a.jsx("p",{className:"text-xs text-gray-500 mt-3 text-center",children:"Supported formats: MP4, MOV, AVI  Maximum file size: 5GB"})]})}function mx(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function If(...t){return e=>{let r=!1;const n=t.map(s=>{const i=mx(s,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():mx(t[s],null)}}}}function Me(...t){return g.useCallback(If(...t),t)}function oi(t){const e=aF(t),r=g.forwardRef((n,s)=>{const{children:i,...o}=n,l=g.Children.toArray(i),c=l.find(cF);if(c){const u=c.props.children,d=l.map(f=>f===c?g.Children.count(u)>1?g.Children.only(null):g.isValidElement(u)?u.props.children:null:f);return a.jsx(e,{...o,ref:s,children:g.isValidElement(u)?g.cloneElement(u,void 0,d):null})}return a.jsx(e,{...o,ref:s,children:i})});return r.displayName=`${t}.Slot`,r}var IN=oi("Slot");function aF(t){const e=g.forwardRef((r,n)=>{const{children:s,...i}=r;if(g.isValidElement(s)){const o=dF(s),l=uF(i,s.props);return s.type!==g.Fragment&&(l.ref=n?If(n,o):o),g.cloneElement(s,l)}return g.Children.count(s)>1?g.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var MN=Symbol("radix.slottable");function lF(t){const e=({children:r})=>a.jsx(a.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=MN,e}function cF(t){return g.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===MN}function uF(t,e){const r={...e};for(const n in e){const s=t[n],i=e[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{i(...l),s(...l)}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...t,...r}}function dF(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function LN(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=LN(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function FN(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=LN(t))&&(n&&(n+=" "),n+=e);return n}const px=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,gx=FN,$N=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return gx(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const h=px(d)||px(f);return s[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(y=>{let[x,b]=y;return Array.isArray(b)?b.includes({...i,...l}[x]):{...i,...l}[x]===b})?[...u,f,h]:u},[]);return gx(t,o,c,r==null?void 0:r.class,r==null?void 0:r.className)},uy="-",fF=t=>{const e=mF(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const l=o.split(uy);return l[0]===""&&l.length!==1&&l.shift(),UN(l,e)||hF(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},UN=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),s=n?UN(t.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(uy);return(o=e.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},yx=/^\[(.+)\]$/,hF=t=>{if(yx.test(t)){const e=yx.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},mF=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return gF(Object.entries(t.classGroups),r).forEach(([i,o])=>{Ip(o,n,i,e)}),n},Ip=(t,e,r,n)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:vx(e,s);i.classGroupId=r;return}if(typeof s=="function"){if(pF(s)){Ip(s(n),e,r,n);return}e.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{Ip(o,vx(e,i),r,n)})})},vx=(t,e)=>{let r=t;return e.split(uy).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},pF=t=>t.isThemeGetter,gF=(t,e)=>e?t.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[e+o,l])):i);return[r,s]}):t,yF=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},BN="!",vF=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,s=e[0],i=e.length,o=l=>{const c=[];let u=0,d=0,f;for(let b=0;b<l.length;b++){let w=l[b];if(u===0){if(w===s&&(n||l.slice(b,b+i)===e)){c.push(l.slice(d,b)),d=b+i;continue}if(w==="/"){f=b;continue}}w==="["?u++:w==="]"&&u--}const h=c.length===0?l:l.substring(d),m=h.startsWith(BN),y=m?h.substring(1):h,x=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:x}};return r?l=>r({className:l,parseClassName:o}):o},xF=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},wF=t=>({cache:yF(t.cacheSize),parseClassName:vF(t),...fF(t)}),bF=/\s+/,_F=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(bF);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let y=!!m,x=n(y?h.substring(0,m):h);if(!x){if(!y){l=u+(l.length>0?" "+l:l);continue}if(x=n(h),!x){l=u+(l.length>0?" "+l:l);continue}y=!1}const b=xF(d).join(":"),w=f?b+BN:b,p=w+x;if(i.includes(p))continue;i.push(p);const v=s(x,y);for(let _=0;_<v.length;++_){const S=v[_];i.push(w+S)}l=u+(l.length>0?" "+l:l)}return l};function SF(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=VN(e))&&(n&&(n+=" "),n+=r);return n}const VN=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=VN(t[n]))&&(r&&(r+=" "),r+=e);return r};function jF(t,...e){let r,n,s,i=o;function o(c){const u=e.reduce((d,f)=>f(d),t());return r=wF(u),n=r.cache.get,s=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=_F(c,r);return s(c,d),d}return function(){return i(SF.apply(null,arguments))}}const Ke=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},zN=/^\[(?:([a-z-]+):)?(.+)\]$/i,kF=/^\d+\/\d+$/,NF=new Set(["px","full","screen"]),CF=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,EF=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,PF=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,TF=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,AF=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Kn=t=>sa(t)||NF.has(t)||kF.test(t),Ns=t=>Ja(t,"length",$F),sa=t=>!!t&&!Number.isNaN(Number(t)),qh=t=>Ja(t,"number",sa),fl=t=>!!t&&Number.isInteger(Number(t)),OF=t=>t.endsWith("%")&&sa(t.slice(0,-1)),ve=t=>zN.test(t),Cs=t=>CF.test(t),RF=new Set(["length","size","percentage"]),DF=t=>Ja(t,RF,WN),IF=t=>Ja(t,"position",WN),MF=new Set(["image","url"]),LF=t=>Ja(t,MF,BF),FF=t=>Ja(t,"",UF),hl=()=>!0,Ja=(t,e,r)=>{const n=zN.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},$F=t=>EF.test(t)&&!PF.test(t),WN=()=>!1,UF=t=>TF.test(t),BF=t=>AF.test(t),VF=()=>{const t=Ke("colors"),e=Ke("spacing"),r=Ke("blur"),n=Ke("brightness"),s=Ke("borderColor"),i=Ke("borderRadius"),o=Ke("borderSpacing"),l=Ke("borderWidth"),c=Ke("contrast"),u=Ke("grayscale"),d=Ke("hueRotate"),f=Ke("invert"),h=Ke("gap"),m=Ke("gradientColorStops"),y=Ke("gradientColorStopPositions"),x=Ke("inset"),b=Ke("margin"),w=Ke("opacity"),p=Ke("padding"),v=Ke("saturate"),_=Ke("scale"),S=Ke("sepia"),C=Ke("skew"),j=Ke("space"),E=Ke("translate"),A=()=>["auto","contain","none"],D=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",ve,e],I=()=>[ve,e],$=()=>["",Kn,Ns],H=()=>["auto",sa,ve],M=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],q=()=>["solid","dashed","dotted","double","none"],U=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],P=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",ve],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ne=()=>[sa,ve];return{cacheSize:500,separator:":",theme:{colors:[hl],spacing:[Kn,Ns],blur:["none","",Cs,ve],brightness:ne(),borderColor:[t],borderRadius:["none","","full",Cs,ve],borderSpacing:I(),borderWidth:$(),contrast:ne(),grayscale:L(),hueRotate:ne(),invert:L(),gap:I(),gradientColorStops:[t],gradientColorStopPositions:[OF,Ns],inset:O(),margin:O(),opacity:ne(),padding:I(),saturate:ne(),scale:ne(),sepia:L(),skew:ne(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",ve]}],container:["container"],columns:[{columns:[Cs]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...M(),ve]}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",fl,ve]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ve]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",fl,ve]}],"grid-cols":[{"grid-cols":[hl]}],"col-start-end":[{col:["auto",{span:["full",fl,ve]},ve]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[hl]}],"row-start-end":[{row:["auto",{span:[fl,ve]},ve]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ve]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ve]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...P()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...P(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...P(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ve,e]}],"min-w":[{"min-w":[ve,e,"min","max","fit"]}],"max-w":[{"max-w":[ve,e,"none","full","min","max","fit","prose",{screen:[Cs]},Cs]}],h:[{h:[ve,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ve,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ve,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ve,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Cs,Ns]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",qh]}],"font-family":[{font:[hl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ve]}],"line-clamp":[{"line-clamp":["none",sa,qh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Kn,ve]}],"list-image":[{"list-image":["none",ve]}],"list-style-type":[{list:["none","disc","decimal",ve]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Kn,Ns]}],"underline-offset":[{"underline-offset":["auto",Kn,ve]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...M(),IF]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",DF]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},LF]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...q(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:q()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...q()]}],"outline-offset":[{"outline-offset":[Kn,ve]}],"outline-w":[{outline:[Kn,Ns]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Kn,Ns]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Cs,FF]}],"shadow-color":[{shadow:[hl]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...U(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":U()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Cs,ve]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[v]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ve]}],duration:[{duration:ne()}],ease:[{ease:["linear","in","out","in-out",ve]}],delay:[{delay:ne()}],animate:[{animate:["none","spin","ping","pulse","bounce",ve]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[fl,ve]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ve]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ve]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ve]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Kn,Ns,qh]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},zF=jF(VF);function he(...t){return zF(FN(t))}const dc=$N("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),We=g.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...s},i)=>{const o=n?IN:"button";return a.jsx(o,{className:he(dc({variant:e,size:r,className:t})),ref:i,...s})});We.displayName="Button";function re(t,e,{checkForDefaultPrevented:r=!0}={}){return function(s){if(t==null||t(s),r===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function WF(t,e){const r=g.createContext(e),n=i=>{const{children:o,...l}=i,c=g.useMemo(()=>l,Object.values(l));return a.jsx(r.Provider,{value:c,children:o})};n.displayName=t+"Provider";function s(i){const o=g.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[n,s]}function ws(t,e=[]){let r=[];function n(i,o){const l=g.createContext(o),c=r.length;r=[...r,o];const u=f=>{var w;const{scope:h,children:m,...y}=f,x=((w=h==null?void 0:h[t])==null?void 0:w[c])||l,b=g.useMemo(()=>y,Object.values(y));return a.jsx(x.Provider,{value:b,children:m})};u.displayName=i+"Provider";function d(f,h){var x;const m=((x=h==null?void 0:h[t])==null?void 0:x[c])||l,y=g.useContext(m);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>g.createContext(o));return function(l){const c=(l==null?void 0:l[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[n,qF(s,...e)]}function qF(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function Zr(t){const e=g.useRef(t);return g.useEffect(()=>{e.current=t}),g.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function Ia({prop:t,defaultProp:e,onChange:r=()=>{}}){const[n,s]=HF({defaultProp:e,onChange:r}),i=t!==void 0,o=i?t:n,l=Zr(r),c=g.useCallback(u=>{if(i){const f=typeof u=="function"?u(t):u;f!==t&&l(f)}else s(u)},[i,t,s,l]);return[o,c]}function HF({defaultProp:t,onChange:e}){const r=g.useState(t),[n]=r,s=g.useRef(n),i=Zr(e);return g.useEffect(()=>{s.current!==n&&(i(n),s.current=n)},[n,s,i]),r}var KF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ne=KF.reduce((t,e)=>{const r=oi(`Primitive.${e}`),n=g.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function qN(t,e){t&&Ha.flushSync(()=>t.dispatchEvent(e))}function dy(t){const e=t+"CollectionProvider",[r,n]=ws(e),[s,i]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:b,children:w}=x,p=fe.useRef(null),v=fe.useRef(new Map).current;return a.jsx(s,{scope:b,itemMap:v,collectionRef:p,children:w})};o.displayName=e;const l=t+"CollectionSlot",c=oi(l),u=fe.forwardRef((x,b)=>{const{scope:w,children:p}=x,v=i(l,w),_=Me(b,v.collectionRef);return a.jsx(c,{ref:_,children:p})});u.displayName=l;const d=t+"CollectionItemSlot",f="data-radix-collection-item",h=oi(d),m=fe.forwardRef((x,b)=>{const{scope:w,children:p,...v}=x,_=fe.useRef(null),S=Me(b,_),C=i(d,w);return fe.useEffect(()=>(C.itemMap.set(_,{ref:_,...v}),()=>void C.itemMap.delete(_))),a.jsx(h,{[f]:"",ref:S,children:p})});m.displayName=d;function y(x){const b=i(t+"CollectionConsumer",x);return fe.useCallback(()=>{const p=b.collectionRef.current;if(!p)return[];const v=Array.from(p.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((C,j)=>v.indexOf(C.ref.current)-v.indexOf(j.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},y,n]}var GF=g.createContext(void 0);function fy(t){const e=g.useContext(GF);return t||e||"ltr"}function QF(t,e=globalThis==null?void 0:globalThis.document){const r=Zr(t);g.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var YF="DismissableLayer",Mp="dismissableLayer.update",JF="dismissableLayer.pointerDownOutside",ZF="dismissableLayer.focusOutside",xx,HN=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),zc=g.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=t,u=g.useContext(HN),[d,f]=g.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=g.useState({}),y=Me(e,j=>f(j)),x=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=x.indexOf(b),p=d?x.indexOf(d):-1,v=u.layersWithOutsidePointerEventsDisabled.size>0,_=p>=w,S=t3(j=>{const E=j.target,A=[...u.branches].some(D=>D.contains(E));!_||A||(s==null||s(j),o==null||o(j),j.defaultPrevented||l==null||l())},h),C=r3(j=>{const E=j.target;[...u.branches].some(D=>D.contains(E))||(i==null||i(j),o==null||o(j),j.defaultPrevented||l==null||l())},h);return QF(j=>{p===u.layers.size-1&&(n==null||n(j),!j.defaultPrevented&&l&&(j.preventDefault(),l()))},h),g.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(xx=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),wx(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=xx)}},[d,h,r,u]),g.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),wx())},[d,u]),g.useEffect(()=>{const j=()=>m({});return document.addEventListener(Mp,j),()=>document.removeEventListener(Mp,j)},[]),a.jsx(Ne.div,{...c,ref:y,style:{pointerEvents:v?_?"auto":"none":void 0,...t.style},onFocusCapture:re(t.onFocusCapture,C.onFocusCapture),onBlurCapture:re(t.onBlurCapture,C.onBlurCapture),onPointerDownCapture:re(t.onPointerDownCapture,S.onPointerDownCapture)})});zc.displayName=YF;var XF="DismissableLayerBranch",e3=g.forwardRef((t,e)=>{const r=g.useContext(HN),n=g.useRef(null),s=Me(e,n);return g.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),a.jsx(Ne.div,{...t,ref:s})});e3.displayName=XF;function t3(t,e=globalThis==null?void 0:globalThis.document){const r=Zr(t),n=g.useRef(!1),s=g.useRef(()=>{});return g.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){KN(JF,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function r3(t,e=globalThis==null?void 0:globalThis.document){const r=Zr(t),n=g.useRef(!1);return g.useEffect(()=>{const s=i=>{i.target&&!n.current&&KN(ZF,r,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function wx(){const t=new CustomEvent(Mp);document.dispatchEvent(t)}function KN(t,e,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?qN(s,i):s.dispatchEvent(i)}var Hh=0;function Mf(){g.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??bx()),document.body.insertAdjacentElement("beforeend",t[1]??bx()),Hh++,()=>{Hh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Hh--}},[])}function bx(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Kh="focusScope.autoFocusOnMount",Gh="focusScope.autoFocusOnUnmount",_x={bubbles:!1,cancelable:!0},n3="FocusScope",Wc=g.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[l,c]=g.useState(null),u=Zr(s),d=Zr(i),f=g.useRef(null),h=Me(e,x=>c(x)),m=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(n){let x=function(v){if(m.paused||!l)return;const _=v.target;l.contains(_)?f.current=_:As(f.current,{select:!0})},b=function(v){if(m.paused||!l)return;const _=v.relatedTarget;_!==null&&(l.contains(_)||As(f.current,{select:!0}))},w=function(v){if(document.activeElement===document.body)for(const S of v)S.removedNodes.length>0&&As(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",b);const p=new MutationObserver(w);return l&&p.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",b),p.disconnect()}}},[n,l,m.paused]),g.useEffect(()=>{if(l){jx.add(m);const x=document.activeElement;if(!l.contains(x)){const w=new CustomEvent(Kh,_x);l.addEventListener(Kh,u),l.dispatchEvent(w),w.defaultPrevented||(s3(c3(GN(l)),{select:!0}),document.activeElement===x&&As(l))}return()=>{l.removeEventListener(Kh,u),setTimeout(()=>{const w=new CustomEvent(Gh,_x);l.addEventListener(Gh,d),l.dispatchEvent(w),w.defaultPrevented||As(x??document.body,{select:!0}),l.removeEventListener(Gh,d),jx.remove(m)},0)}}},[l,u,d,m]);const y=g.useCallback(x=>{if(!r&&!n||m.paused)return;const b=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,w=document.activeElement;if(b&&w){const p=x.currentTarget,[v,_]=i3(p);v&&_?!x.shiftKey&&w===_?(x.preventDefault(),r&&As(v,{select:!0})):x.shiftKey&&w===v&&(x.preventDefault(),r&&As(_,{select:!0})):w===p&&x.preventDefault()}},[r,n,m.paused]);return a.jsx(Ne.div,{tabIndex:-1,...o,ref:h,onKeyDown:y})});Wc.displayName=n3;function s3(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(As(n,{select:e}),document.activeElement!==r)return}function i3(t){const e=GN(t),r=Sx(e,t),n=Sx(e.reverse(),t);return[r,n]}function GN(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Sx(t,e){for(const r of t)if(!o3(r,{upTo:e}))return r}function o3(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function a3(t){return t instanceof HTMLInputElement&&"select"in t}function As(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&a3(t)&&e&&t.select()}}var jx=l3();function l3(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=kx(t,e),t.unshift(e)},remove(e){var r;t=kx(t,e),(r=t[0])==null||r.resume()}}}function kx(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function c3(t){return t.filter(e=>e.tagName!=="A")}var sr=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},u3=j1[" useId ".trim().toString()]||(()=>{}),d3=0;function Fn(t){const[e,r]=g.useState(u3());return sr(()=>{r(n=>n??String(d3++))},[t]),e?`radix-${e}`:""}const f3=["top","right","bottom","left"],ai=Math.min,Cr=Math.max,Id=Math.round,Eu=Math.floor,$n=t=>({x:t,y:t}),h3={left:"right",right:"left",bottom:"top",top:"bottom"},m3={start:"end",end:"start"};function Lp(t,e,r){return Cr(t,ai(e,r))}function fs(t,e){return typeof t=="function"?t(e):t}function hs(t){return t.split("-")[0]}function Za(t){return t.split("-")[1]}function hy(t){return t==="x"?"y":"x"}function my(t){return t==="y"?"height":"width"}function li(t){return["top","bottom"].includes(hs(t))?"y":"x"}function py(t){return hy(li(t))}function p3(t,e,r){r===void 0&&(r=!1);const n=Za(t),s=py(t),i=my(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Md(o)),[o,Md(o)]}function g3(t){const e=Md(t);return[Fp(t),e,Fp(e)]}function Fp(t){return t.replace(/start|end/g,e=>m3[e])}function y3(t,e,r){const n=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return r?e?s:n:e?n:s;case"left":case"right":return e?i:o;default:return[]}}function v3(t,e,r,n){const s=Za(t);let i=y3(hs(t),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Fp)))),i}function Md(t){return t.replace(/left|right|bottom|top/g,e=>h3[e])}function x3(t){return{top:0,right:0,bottom:0,left:0,...t}}function QN(t){return typeof t!="number"?x3(t):{top:t,right:t,bottom:t,left:t}}function Ld(t){const{x:e,y:r,width:n,height:s}=t;return{width:n,height:s,top:r,left:e,right:e+n,bottom:r+s,x:e,y:r}}function Nx(t,e,r){let{reference:n,floating:s}=t;const i=li(e),o=py(e),l=my(o),c=hs(e),u=i==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,h=n[l]/2-s[l]/2;let m;switch(c){case"top":m={x:d,y:n.y-s.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-s.width,y:f};break;default:m={x:n.x,y:n.y}}switch(Za(e)){case"start":m[o]-=h*(r&&u?-1:1);break;case"end":m[o]+=h*(r&&u?-1:1);break}return m}const w3=async(t,e,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:f}=Nx(u,n,c),h=n,m={},y=0;for(let x=0;x<l.length;x++){const{name:b,fn:w}=l[x],{x:p,y:v,data:_,reset:S}=await w({x:d,y:f,initialPlacement:n,placement:h,strategy:s,middlewareData:m,rects:u,platform:o,elements:{reference:t,floating:e}});d=p??d,f=v??f,m={...m,[b]:{...m[b],..._}},S&&y<=50&&(y++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(u=S.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):S.rects),{x:d,y:f}=Nx(u,h,c)),x=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:m}};async function fc(t,e){var r;e===void 0&&(e={});const{x:n,y:s,platform:i,rects:o,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=fs(e,t),y=QN(m),b=l[h?f==="floating"?"reference":"floating":f],w=Ld(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(b)))==null||r?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),p=f==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,v=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),_=await(i.isElement==null?void 0:i.isElement(v))?await(i.getScale==null?void 0:i.getScale(v))||{x:1,y:1}:{x:1,y:1},S=Ld(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:p,offsetParent:v,strategy:c}):p);return{top:(w.top-S.top+y.top)/_.y,bottom:(S.bottom-w.bottom+y.bottom)/_.y,left:(w.left-S.left+y.left)/_.x,right:(S.right-w.right+y.right)/_.x}}const b3=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:s,rects:i,platform:o,elements:l,middlewareData:c}=e,{element:u,padding:d=0}=fs(t,e)||{};if(u==null)return{};const f=QN(d),h={x:r,y:n},m=py(s),y=my(m),x=await o.getDimensions(u),b=m==="y",w=b?"top":"left",p=b?"bottom":"right",v=b?"clientHeight":"clientWidth",_=i.reference[y]+i.reference[m]-h[m]-i.floating[y],S=h[m]-i.reference[m],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let j=C?C[v]:0;(!j||!await(o.isElement==null?void 0:o.isElement(C)))&&(j=l.floating[v]||i.floating[y]);const E=_/2-S/2,A=j/2-x[y]/2-1,D=ai(f[w],A),O=ai(f[p],A),I=D,$=j-x[y]-O,H=j/2-x[y]/2+E,M=Lp(I,H,$),q=!c.arrow&&Za(s)!=null&&H!==M&&i.reference[y]/2-(H<I?D:O)-x[y]/2<0,U=q?H<I?H-I:H-$:0;return{[m]:h[m]+U,data:{[m]:M,centerOffset:H-M-U,...q&&{alignmentOffset:U}},reset:q}}}),_3=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:x=!0,...b}=fs(t,e);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const w=hs(s),p=li(l),v=hs(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=h||(v||!x?[Md(l)]:g3(l)),C=y!=="none";!h&&C&&S.push(...v3(l,x,y,_));const j=[l,...S],E=await fc(e,b),A=[];let D=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&A.push(E[w]),f){const H=p3(s,o,_);A.push(E[H[0]],E[H[1]])}if(D=[...D,{placement:s,overflows:A}],!A.every(H=>H<=0)){var O,I;const H=(((O=i.flip)==null?void 0:O.index)||0)+1,M=j[H];if(M)return{data:{index:H,overflows:D},reset:{placement:M}};let q=(I=D.filter(U=>U.overflows[0]<=0).sort((U,P)=>U.overflows[1]-P.overflows[1])[0])==null?void 0:I.placement;if(!q)switch(m){case"bestFit":{var $;const U=($=D.filter(P=>{if(C){const L=li(P.placement);return L===p||L==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(L=>L>0).reduce((L,K)=>L+K,0)]).sort((P,L)=>P[1]-L[1])[0])==null?void 0:$[0];U&&(q=U);break}case"initialPlacement":q=l;break}if(s!==q)return{reset:{placement:q}}}return{}}}};function Cx(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Ex(t){return f3.some(e=>t[e]>=0)}const S3=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...s}=fs(t,e);switch(n){case"referenceHidden":{const i=await fc(e,{...s,elementContext:"reference"}),o=Cx(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Ex(o)}}}case"escaped":{const i=await fc(e,{...s,altBoundary:!0}),o=Cx(i,r.floating);return{data:{escapedOffsets:o,escaped:Ex(o)}}}default:return{}}}}};async function j3(t,e){const{placement:r,platform:n,elements:s}=t,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=hs(r),l=Za(r),c=li(r)==="y",u=["left","top"].includes(o)?-1:1,d=i&&c?-1:1,f=fs(e,t);let{mainAxis:h,crossAxis:m,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof y=="number"&&(m=l==="end"?y*-1:y),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const k3=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:s,y:i,placement:o,middlewareData:l}=e,c=await j3(e,t);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},N3=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:b=>{let{x:w,y:p}=b;return{x:w,y:p}}},...c}=fs(t,e),u={x:r,y:n},d=await fc(e,c),f=li(hs(s)),h=hy(f);let m=u[h],y=u[f];if(i){const b=h==="y"?"top":"left",w=h==="y"?"bottom":"right",p=m+d[b],v=m-d[w];m=Lp(p,m,v)}if(o){const b=f==="y"?"top":"left",w=f==="y"?"bottom":"right",p=y+d[b],v=y-d[w];y=Lp(p,y,v)}const x=l.fn({...e,[h]:m,[f]:y});return{...x,data:{x:x.x-r,y:x.y-n,enabled:{[h]:i,[f]:o}}}}}},C3=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:s,rects:i,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=fs(t,e),d={x:r,y:n},f=li(s),h=hy(f);let m=d[h],y=d[f];const x=fs(l,e),b=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const v=h==="y"?"height":"width",_=i.reference[h]-i.floating[v]+b.mainAxis,S=i.reference[h]+i.reference[v]-b.mainAxis;m<_?m=_:m>S&&(m=S)}if(u){var w,p;const v=h==="y"?"width":"height",_=["top","left"].includes(hs(s)),S=i.reference[f]-i.floating[v]+(_&&((w=o.offset)==null?void 0:w[f])||0)+(_?0:b.crossAxis),C=i.reference[f]+i.reference[v]+(_?0:((p=o.offset)==null?void 0:p[f])||0)-(_?b.crossAxis:0);y<S?y=S:y>C&&(y=C)}return{[h]:m,[f]:y}}}},E3=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:s,rects:i,platform:o,elements:l}=e,{apply:c=()=>{},...u}=fs(t,e),d=await fc(e,u),f=hs(s),h=Za(s),m=li(s)==="y",{width:y,height:x}=i.floating;let b,w;f==="top"||f==="bottom"?(b=f,w=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(w=f,b=h==="end"?"top":"bottom");const p=x-d.top-d.bottom,v=y-d.left-d.right,_=ai(x-d[b],p),S=ai(y-d[w],v),C=!e.middlewareData.shift;let j=_,E=S;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(E=v),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(j=p),C&&!h){const D=Cr(d.left,0),O=Cr(d.right,0),I=Cr(d.top,0),$=Cr(d.bottom,0);m?E=y-2*(D!==0||O!==0?D+O:Cr(d.left,d.right)):j=x-2*(I!==0||$!==0?I+$:Cr(d.top,d.bottom))}await c({...e,availableWidth:E,availableHeight:j});const A=await o.getDimensions(l.floating);return y!==A.width||x!==A.height?{reset:{rects:!0}}:{}}}};function Lf(){return typeof window<"u"}function Xa(t){return YN(t)?(t.nodeName||"").toLowerCase():"#document"}function Rr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function qn(t){var e;return(e=(YN(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function YN(t){return Lf()?t instanceof Node||t instanceof Rr(t).Node:!1}function xn(t){return Lf()?t instanceof Element||t instanceof Rr(t).Element:!1}function Bn(t){return Lf()?t instanceof HTMLElement||t instanceof Rr(t).HTMLElement:!1}function Px(t){return!Lf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Rr(t).ShadowRoot}function qc(t){const{overflow:e,overflowX:r,overflowY:n,display:s}=wn(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(s)}function P3(t){return["table","td","th"].includes(Xa(t))}function Ff(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function gy(t){const e=yy(),r=xn(t)?wn(t):t;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function T3(t){let e=ci(t);for(;Bn(e)&&!Ma(e);){if(gy(e))return e;if(Ff(e))return null;e=ci(e)}return null}function yy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ma(t){return["html","body","#document"].includes(Xa(t))}function wn(t){return Rr(t).getComputedStyle(t)}function $f(t){return xn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ci(t){if(Xa(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Px(t)&&t.host||qn(t);return Px(e)?e.host:e}function JN(t){const e=ci(t);return Ma(e)?t.ownerDocument?t.ownerDocument.body:t.body:Bn(e)&&qc(e)?e:JN(e)}function hc(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const s=JN(t),i=s===((n=t.ownerDocument)==null?void 0:n.body),o=Rr(s);if(i){const l=$p(o);return e.concat(o,o.visualViewport||[],qc(s)?s:[],l&&r?hc(l):[])}return e.concat(s,hc(s,[],r))}function $p(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function ZN(t){const e=wn(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=Bn(t),i=s?t.offsetWidth:r,o=s?t.offsetHeight:n,l=Id(r)!==i||Id(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function vy(t){return xn(t)?t:t.contextElement}function ia(t){const e=vy(t);if(!Bn(e))return $n(1);const r=e.getBoundingClientRect(),{width:n,height:s,$:i}=ZN(e);let o=(i?Id(r.width):r.width)/n,l=(i?Id(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const A3=$n(0);function XN(t){const e=Rr(t);return!yy()||!e.visualViewport?A3:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function O3(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Rr(t)?!1:e}function ro(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const s=t.getBoundingClientRect(),i=vy(t);let o=$n(1);e&&(n?xn(n)&&(o=ia(n)):o=ia(t));const l=O3(i,r,n)?XN(i):$n(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const h=Rr(i),m=n&&xn(n)?Rr(n):n;let y=h,x=$p(y);for(;x&&n&&m!==y;){const b=ia(x),w=x.getBoundingClientRect(),p=wn(x),v=w.left+(x.clientLeft+parseFloat(p.paddingLeft))*b.x,_=w.top+(x.clientTop+parseFloat(p.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,f*=b.y,c+=v,u+=_,y=Rr(x),x=$p(y)}}return Ld({width:d,height:f,x:c,y:u})}function xy(t,e){const r=$f(t).scrollLeft;return e?e.left+r:ro(qn(t)).left+r}function eC(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),s=n.left+e.scrollLeft-(r?0:xy(t,n)),i=n.top+e.scrollTop;return{x:s,y:i}}function R3(t){let{elements:e,rect:r,offsetParent:n,strategy:s}=t;const i=s==="fixed",o=qn(n),l=e?Ff(e.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=$n(1);const d=$n(0),f=Bn(n);if((f||!f&&!i)&&((Xa(n)!=="body"||qc(o))&&(c=$f(n)),Bn(n))){const m=ro(n);u=ia(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const h=o&&!f&&!i?eC(o,c,!0):$n(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function D3(t){return Array.from(t.getClientRects())}function I3(t){const e=qn(t),r=$f(t),n=t.ownerDocument.body,s=Cr(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),i=Cr(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+xy(t);const l=-r.scrollTop;return wn(n).direction==="rtl"&&(o+=Cr(e.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:l}}function M3(t,e){const r=Rr(t),n=qn(t),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;const u=yy();(!u||u&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:l,y:c}}function L3(t,e){const r=ro(t,!0,e==="fixed"),n=r.top+t.clientTop,s=r.left+t.clientLeft,i=Bn(t)?ia(t):$n(1),o=t.clientWidth*i.x,l=t.clientHeight*i.y,c=s*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function Tx(t,e,r){let n;if(e==="viewport")n=M3(t,r);else if(e==="document")n=I3(qn(t));else if(xn(e))n=L3(e,r);else{const s=XN(t);n={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Ld(n)}function tC(t,e){const r=ci(t);return r===e||!xn(r)||Ma(r)?!1:wn(r).position==="fixed"||tC(r,e)}function F3(t,e){const r=e.get(t);if(r)return r;let n=hc(t,[],!1).filter(l=>xn(l)&&Xa(l)!=="body"),s=null;const i=wn(t).position==="fixed";let o=i?ci(t):t;for(;xn(o)&&!Ma(o);){const l=wn(o),c=gy(o);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||qc(o)&&!c&&tC(t,o))?n=n.filter(d=>d!==o):s=l,o=ci(o)}return e.set(t,n),n}function $3(t){let{element:e,boundary:r,rootBoundary:n,strategy:s}=t;const o=[...r==="clippingAncestors"?Ff(e)?[]:F3(e,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=Tx(e,d,s);return u.top=Cr(f.top,u.top),u.right=ai(f.right,u.right),u.bottom=ai(f.bottom,u.bottom),u.left=Cr(f.left,u.left),u},Tx(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function U3(t){const{width:e,height:r}=ZN(t);return{width:e,height:r}}function B3(t,e,r){const n=Bn(e),s=qn(e),i=r==="fixed",o=ro(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const c=$n(0);if(n||!n&&!i)if((Xa(e)!=="body"||qc(s))&&(l=$f(e)),n){const h=ro(e,!0,i,e);c.x=h.x+e.clientLeft,c.y=h.y+e.clientTop}else s&&(c.x=xy(s));const u=s&&!n&&!i?eC(s,l):$n(0),d=o.left+l.scrollLeft-c.x-u.x,f=o.top+l.scrollTop-c.y-u.y;return{x:d,y:f,width:o.width,height:o.height}}function Qh(t){return wn(t).position==="static"}function Ax(t,e){if(!Bn(t)||wn(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return qn(t)===r&&(r=r.ownerDocument.body),r}function rC(t,e){const r=Rr(t);if(Ff(t))return r;if(!Bn(t)){let s=ci(t);for(;s&&!Ma(s);){if(xn(s)&&!Qh(s))return s;s=ci(s)}return r}let n=Ax(t,e);for(;n&&P3(n)&&Qh(n);)n=Ax(n,e);return n&&Ma(n)&&Qh(n)&&!gy(n)?r:n||T3(t)||r}const V3=async function(t){const e=this.getOffsetParent||rC,r=this.getDimensions,n=await r(t.floating);return{reference:B3(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function z3(t){return wn(t).direction==="rtl"}const W3={convertOffsetParentRelativeRectToViewportRelativeRect:R3,getDocumentElement:qn,getClippingRect:$3,getOffsetParent:rC,getElementRects:V3,getClientRects:D3,getDimensions:U3,getScale:ia,isElement:xn,isRTL:z3};function nC(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function q3(t,e){let r=null,n;const s=qn(t);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=t.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(l||e(),!h||!m)return;const y=Eu(f),x=Eu(s.clientWidth-(d+h)),b=Eu(s.clientHeight-(f+m)),w=Eu(d),v={rootMargin:-y+"px "+-x+"px "+-b+"px "+-w+"px",threshold:Cr(0,ai(1,c))||1};let _=!0;function S(C){const j=C[0].intersectionRatio;if(j!==c){if(!_)return o();j?o(!1,j):n=setTimeout(()=>{o(!1,1e-7)},1e3)}j===1&&!nC(u,t.getBoundingClientRect())&&o(),_=!1}try{r=new IntersectionObserver(S,{...v,root:s.ownerDocument})}catch{r=new IntersectionObserver(S,v)}r.observe(t)}return o(!0),i}function H3(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=vy(t),d=s||i?[...u?hc(u):[],...hc(e)]:[];d.forEach(w=>{s&&w.addEventListener("scroll",r,{passive:!0}),i&&w.addEventListener("resize",r)});const f=u&&l?q3(u,r):null;let h=-1,m=null;o&&(m=new ResizeObserver(w=>{let[p]=w;p&&p.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var v;(v=m)==null||v.observe(e)})),r()}),u&&!c&&m.observe(u),m.observe(e));let y,x=c?ro(t):null;c&&b();function b(){const w=ro(t);x&&!nC(x,w)&&r(),x=w,y=requestAnimationFrame(b)}return r(),()=>{var w;d.forEach(p=>{s&&p.removeEventListener("scroll",r),i&&p.removeEventListener("resize",r)}),f==null||f(),(w=m)==null||w.disconnect(),m=null,c&&cancelAnimationFrame(y)}}const K3=k3,G3=N3,Q3=_3,Y3=E3,J3=S3,Ox=b3,Z3=C3,X3=(t,e,r)=>{const n=new Map,s={platform:W3,...r},i={...s.platform,_c:n};return w3(t,e,{...s,platform:i})};var Ju=typeof document<"u"?g.useLayoutEffect:g.useEffect;function Fd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Fd(t[n],e[n]))return!1;return!0}if(s=Object.keys(t),r=s.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&t.$$typeof)&&!Fd(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function sC(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Rx(t,e){const r=sC(t);return Math.round(e*r)/r}function Yh(t){const e=g.useRef(t);return Ju(()=>{e.current=t}),e}function e$(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[d,f]=g.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[h,m]=g.useState(n);Fd(h,n)||m(n);const[y,x]=g.useState(null),[b,w]=g.useState(null),p=g.useCallback(P=>{P!==C.current&&(C.current=P,x(P))},[]),v=g.useCallback(P=>{P!==j.current&&(j.current=P,w(P))},[]),_=i||y,S=o||b,C=g.useRef(null),j=g.useRef(null),E=g.useRef(d),A=c!=null,D=Yh(c),O=Yh(s),I=Yh(u),$=g.useCallback(()=>{if(!C.current||!j.current)return;const P={placement:e,strategy:r,middleware:h};O.current&&(P.platform=O.current),X3(C.current,j.current,P).then(L=>{const K={...L,isPositioned:I.current!==!1};H.current&&!Fd(E.current,K)&&(E.current=K,Ha.flushSync(()=>{f(K)}))})},[h,e,r,O,I]);Ju(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(P=>({...P,isPositioned:!1})))},[u]);const H=g.useRef(!1);Ju(()=>(H.current=!0,()=>{H.current=!1}),[]),Ju(()=>{if(_&&(C.current=_),S&&(j.current=S),_&&S){if(D.current)return D.current(_,S,$);$()}},[_,S,$,D,A]);const M=g.useMemo(()=>({reference:C,floating:j,setReference:p,setFloating:v}),[p,v]),q=g.useMemo(()=>({reference:_,floating:S}),[_,S]),U=g.useMemo(()=>{const P={position:r,left:0,top:0};if(!q.floating)return P;const L=Rx(q.floating,d.x),K=Rx(q.floating,d.y);return l?{...P,transform:"translate("+L+"px, "+K+"px)",...sC(q.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:L,top:K}},[r,l,q.floating,d.x,d.y]);return g.useMemo(()=>({...d,update:$,refs:M,elements:q,floatingStyles:U}),[d,$,M,q,U])}const t$=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:s}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?Ox({element:n.current,padding:s}).fn(r):{}:n?Ox({element:n,padding:s}).fn(r):{}}}},r$=(t,e)=>({...K3(t),options:[t,e]}),n$=(t,e)=>({...G3(t),options:[t,e]}),s$=(t,e)=>({...Z3(t),options:[t,e]}),i$=(t,e)=>({...Q3(t),options:[t,e]}),o$=(t,e)=>({...Y3(t),options:[t,e]}),a$=(t,e)=>({...J3(t),options:[t,e]}),l$=(t,e)=>({...t$(t),options:[t,e]});var c$="Arrow",iC=g.forwardRef((t,e)=>{const{children:r,width:n=10,height:s=5,...i}=t;return a.jsx(Ne.svg,{...i,ref:e,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});iC.displayName=c$;var u$=iC;function d$(t){const[e,r]=g.useState(void 0);return sr(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=t.offsetWidth,l=t.offsetHeight;r({width:o,height:l})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var wy="Popper",[oC,el]=ws(wy),[f$,aC]=oC(wy),lC=t=>{const{__scopePopper:e,children:r}=t,[n,s]=g.useState(null);return a.jsx(f$,{scope:e,anchor:n,onAnchorChange:s,children:r})};lC.displayName=wy;var cC="PopperAnchor",uC=g.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...s}=t,i=aC(cC,r),o=g.useRef(null),l=Me(e,o);return g.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:a.jsx(Ne.div,{...s,ref:l})});uC.displayName=cC;var by="PopperContent",[h$,m$]=oC(by),dC=g.forwardRef((t,e)=>{var ie,Le,Fe,Oe,Re,Ie;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:y,...x}=t,b=aC(by,r),[w,p]=g.useState(null),v=Me(e,Ht=>p(Ht)),[_,S]=g.useState(null),C=d$(_),j=(C==null?void 0:C.width)??0,E=(C==null?void 0:C.height)??0,A=n+(i!=="center"?"-"+i:""),D=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},O=Array.isArray(u)?u:[u],I=O.length>0,$={padding:D,boundary:O.filter(g$),altBoundary:I},{refs:H,floatingStyles:M,placement:q,isPositioned:U,middlewareData:P}=e$({strategy:"fixed",placement:A,whileElementsMounted:(...Ht)=>H3(...Ht,{animationFrame:m==="always"}),elements:{reference:b.anchor},middleware:[r$({mainAxis:s+E,alignmentAxis:o}),c&&n$({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?s$():void 0,...$}),c&&i$({...$}),o$({...$,apply:({elements:Ht,rects:_r,availableWidth:bi,availableHeight:_s})=>{const{width:Ss,height:th}=_r.reference,yo=Ht.floating.style;yo.setProperty("--radix-popper-available-width",`${bi}px`),yo.setProperty("--radix-popper-available-height",`${_s}px`),yo.setProperty("--radix-popper-anchor-width",`${Ss}px`),yo.setProperty("--radix-popper-anchor-height",`${th}px`)}}),_&&l$({element:_,padding:l}),y$({arrowWidth:j,arrowHeight:E}),h&&a$({strategy:"referenceHidden",...$})]}),[L,K]=mC(q),ne=Zr(y);sr(()=>{U&&(ne==null||ne())},[U,ne]);const je=(ie=P.arrow)==null?void 0:ie.x,Pt=(Le=P.arrow)==null?void 0:Le.y,it=((Fe=P.arrow)==null?void 0:Fe.centerOffset)!==0,[Mt,Xe]=g.useState();return sr(()=>{w&&Xe(window.getComputedStyle(w).zIndex)},[w]),a.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...M,transform:U?M.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Mt,"--radix-popper-transform-origin":[(Oe=P.transformOrigin)==null?void 0:Oe.x,(Re=P.transformOrigin)==null?void 0:Re.y].join(" "),...((Ie=P.hide)==null?void 0:Ie.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:a.jsx(h$,{scope:r,placedSide:L,onArrowChange:S,arrowX:je,arrowY:Pt,shouldHideArrow:it,children:a.jsx(Ne.div,{"data-side":L,"data-align":K,...x,ref:v,style:{...x.style,animation:U?void 0:"none"}})})})});dC.displayName=by;var fC="PopperArrow",p$={top:"bottom",right:"left",bottom:"top",left:"right"},hC=g.forwardRef(function(e,r){const{__scopePopper:n,...s}=e,i=m$(fC,n),o=p$[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(u$,{...s,ref:r,style:{...s.style,display:"block"}})})});hC.displayName=fC;function g$(t){return t!==null}var y$=t=>({name:"transformOrigin",options:t,fn(e){var b,w,p;const{placement:r,rects:n,middlewareData:s}=e,o=((b=s.arrow)==null?void 0:b.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,d]=mC(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((w=s.arrow)==null?void 0:w.x)??0)+l/2,m=(((p=s.arrow)==null?void 0:p.y)??0)+c/2;let y="",x="";return u==="bottom"?(y=o?f:`${h}px`,x=`${-c}px`):u==="top"?(y=o?f:`${h}px`,x=`${n.floating.height+c}px`):u==="right"?(y=`${-c}px`,x=o?f:`${m}px`):u==="left"&&(y=`${n.floating.width+c}px`,x=o?f:`${m}px`),{data:{x:y,y:x}}}});function mC(t){const[e,r="center"]=t.split("-");return[e,r]}var _y=lC,Uf=uC,Sy=dC,jy=hC,v$="Portal",Hc=g.forwardRef((t,e)=>{var l;const{container:r,...n}=t,[s,i]=g.useState(!1);sr(()=>i(!0),[]);const o=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?jD.createPortal(a.jsx(Ne.div,{...n,ref:e}),o):null});Hc.displayName=v$;function x$(t,e){return g.useReducer((r,n)=>e[r][n]??r,t)}var Hn=t=>{const{present:e,children:r}=t,n=w$(e),s=typeof r=="function"?r({present:n.isPresent}):g.Children.only(r),i=Me(n.ref,b$(s));return typeof r=="function"||n.isPresent?g.cloneElement(s,{ref:i}):null};Hn.displayName="Presence";function w$(t){const[e,r]=g.useState(),n=g.useRef({}),s=g.useRef(t),i=g.useRef("none"),o=t?"mounted":"unmounted",[l,c]=x$(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const u=Pu(n.current);i.current=l==="mounted"?u:"none"},[l]),sr(()=>{const u=n.current,d=s.current;if(d!==t){const h=i.current,m=Pu(u);t?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),sr(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=m=>{const x=Pu(n.current).includes(m.animationName);if(m.target===e&&x&&(c("ANIMATION_END"),!s.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},h=m=>{m.target===e&&(i.current=Pu(n.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:g.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function Pu(t){return(t==null?void 0:t.animationName)||"none"}function b$(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Jh="rovingFocusGroup.onEntryFocus",_$={bubbles:!1,cancelable:!0},Bf="RovingFocusGroup",[Up,pC,S$]=dy(Bf),[j$,gC]=ws(Bf,[S$]),[k$,N$]=j$(Bf),yC=g.forwardRef((t,e)=>a.jsx(Up.Provider,{scope:t.__scopeRovingFocusGroup,children:a.jsx(Up.Slot,{scope:t.__scopeRovingFocusGroup,children:a.jsx(C$,{...t,ref:e})})}));yC.displayName=Bf;var C$=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=t,h=g.useRef(null),m=Me(e,h),y=fy(i),[x=null,b]=Ia({prop:o,defaultProp:l,onChange:c}),[w,p]=g.useState(!1),v=Zr(u),_=pC(r),S=g.useRef(!1),[C,j]=g.useState(0);return g.useEffect(()=>{const E=h.current;if(E)return E.addEventListener(Jh,v),()=>E.removeEventListener(Jh,v)},[v]),a.jsx(k$,{scope:r,orientation:n,dir:y,loop:s,currentTabStopId:x,onItemFocus:g.useCallback(E=>b(E),[b]),onItemShiftTab:g.useCallback(()=>p(!0),[]),onFocusableItemAdd:g.useCallback(()=>j(E=>E+1),[]),onFocusableItemRemove:g.useCallback(()=>j(E=>E-1),[]),children:a.jsx(Ne.div,{tabIndex:w||C===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...t.style},onMouseDown:re(t.onMouseDown,()=>{S.current=!0}),onFocus:re(t.onFocus,E=>{const A=!S.current;if(E.target===E.currentTarget&&A&&!w){const D=new CustomEvent(Jh,_$);if(E.currentTarget.dispatchEvent(D),!D.defaultPrevented){const O=_().filter(q=>q.focusable),I=O.find(q=>q.active),$=O.find(q=>q.id===x),M=[I,$,...O].filter(Boolean).map(q=>q.ref.current);wC(M,d)}}S.current=!1}),onBlur:re(t.onBlur,()=>p(!1))})})}),vC="RovingFocusGroupItem",xC=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,...o}=t,l=Fn(),c=i||l,u=N$(vC,r),d=u.currentTabStopId===c,f=pC(r),{onFocusableItemAdd:h,onFocusableItemRemove:m}=u;return g.useEffect(()=>{if(n)return h(),()=>m()},[n,h,m]),a.jsx(Up.ItemSlot,{scope:r,id:c,focusable:n,active:s,children:a.jsx(Ne.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:re(t.onMouseDown,y=>{n?u.onItemFocus(c):y.preventDefault()}),onFocus:re(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:re(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){u.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const x=T$(y,u.orientation,u.dir);if(x!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let w=f().filter(p=>p.focusable).map(p=>p.ref.current);if(x==="last")w.reverse();else if(x==="prev"||x==="next"){x==="prev"&&w.reverse();const p=w.indexOf(y.currentTarget);w=u.loop?A$(w,p+1):w.slice(p+1)}setTimeout(()=>wC(w))}})})})});xC.displayName=vC;var E$={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function P$(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function T$(t,e,r){const n=P$(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return E$[n]}function wC(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function A$(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var O$=yC,R$=xC,D$=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},ko=new WeakMap,Tu=new WeakMap,Au={},Zh=0,bC=function(t){return t&&(t.host||bC(t.parentNode))},I$=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=bC(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},M$=function(t,e,r,n){var s=I$(e,Array.isArray(t)?t:[t]);Au[r]||(Au[r]=new WeakMap);var i=Au[r],o=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var m=h.getAttribute(n),y=m!==null&&m!=="false",x=(ko.get(h)||0)+1,b=(i.get(h)||0)+1;ko.set(h,x),i.set(h,b),o.push(h),x===1&&y&&Tu.set(h,!0),b===1&&h.setAttribute(r,"true"),y||h.setAttribute(n,"true")}catch(w){console.error("aria-hidden: cannot operate on ",h,w)}})};return d(e),l.clear(),Zh++,function(){o.forEach(function(f){var h=ko.get(f)-1,m=i.get(f)-1;ko.set(f,h),i.set(f,m),h||(Tu.has(f)||f.removeAttribute(n),Tu.delete(f)),m||f.removeAttribute(r)}),Zh--,Zh||(ko=new WeakMap,ko=new WeakMap,Tu=new WeakMap,Au={})}},Vf=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),s=D$(t);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),M$(n,s,r,"aria-hidden")):function(){return null}},Rn=function(){return Rn=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Rn.apply(this,arguments)};function _C(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function L$(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}var Zu="right-scroll-bar-position",Xu="width-before-scroll-bar",F$="with-scroll-bars-hidden",$$="--removed-body-scroll-bar-size";function Xh(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function U$(t,e){var r=g.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=e,r.facade}var B$=typeof window<"u"?g.useLayoutEffect:g.useEffect,Dx=new WeakMap;function V$(t,e){var r=U$(null,function(n){return t.forEach(function(s){return Xh(s,n)})});return B$(function(){var n=Dx.get(r);if(n){var s=new Set(n),i=new Set(t),o=r.current;s.forEach(function(l){i.has(l)||Xh(l,null)}),i.forEach(function(l){s.has(l)||Xh(l,o)})}Dx.set(r,t)},[t]),r}function z$(t){return t}function W$(t,e){e===void 0&&(e=z$);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(i){var o=e(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return s}function q$(t){t===void 0&&(t={});var e=W$(null);return e.options=Rn({async:!0,ssr:!1},t),e}var SC=function(t){var e=t.sideCar,r=_C(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return g.createElement(n,Rn({},r))};SC.isSideCarExport=!0;function H$(t,e){return t.useMedium(e),SC}var jC=q$(),em=function(){},zf=g.forwardRef(function(t,e){var r=g.useRef(null),n=g.useState({onScrollCapture:em,onWheelCapture:em,onTouchMoveCapture:em}),s=n[0],i=n[1],o=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,h=t.sideCar,m=t.noIsolation,y=t.inert,x=t.allowPinchZoom,b=t.as,w=b===void 0?"div":b,p=t.gapMode,v=_C(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,S=V$([r,e]),C=Rn(Rn({},v),s);return g.createElement(g.Fragment,null,d&&g.createElement(_,{sideCar:jC,removeScrollBar:u,shards:f,noIsolation:m,inert:y,setCallbacks:i,allowPinchZoom:!!x,lockRef:r,gapMode:p}),o?g.cloneElement(g.Children.only(l),Rn(Rn({},C),{ref:S})):g.createElement(w,Rn({},C,{className:c,ref:S}),l))});zf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};zf.classNames={fullWidth:Xu,zeroRight:Zu};var K$=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function G$(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=K$();return e&&t.setAttribute("nonce",e),t}function Q$(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Y$(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var J$=function(){var t=0,e=null;return{add:function(r){t==0&&(e=G$())&&(Q$(e,r),Y$(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Z$=function(){var t=J$();return function(e,r){g.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},kC=function(){var t=Z$(),e=function(r){var n=r.styles,s=r.dynamic;return t(n,s),null};return e},X$={left:0,top:0,right:0,gap:0},tm=function(t){return parseInt(t||"",10)||0},e6=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[tm(r),tm(n),tm(s)]},t6=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return X$;var e=e6(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},r6=kC(),oa="data-scroll-locked",n6=function(t,e,r,n){var s=t.left,i=t.top,o=t.right,l=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(F$,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(oa,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Zu,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Xu,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Zu," .").concat(Zu,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Xu," .").concat(Xu,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(oa,`] {
    `).concat($$,": ").concat(l,`px;
  }
`)},Ix=function(){var t=parseInt(document.body.getAttribute(oa)||"0",10);return isFinite(t)?t:0},s6=function(){g.useEffect(function(){return document.body.setAttribute(oa,(Ix()+1).toString()),function(){var t=Ix()-1;t<=0?document.body.removeAttribute(oa):document.body.setAttribute(oa,t.toString())}},[])},i6=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,s=n===void 0?"margin":n;s6();var i=g.useMemo(function(){return t6(s)},[s]);return g.createElement(r6,{styles:n6(i,!e,s,r?"":"!important")})},Bp=!1;if(typeof window<"u")try{var Ou=Object.defineProperty({},"passive",{get:function(){return Bp=!0,!0}});window.addEventListener("test",Ou,Ou),window.removeEventListener("test",Ou,Ou)}catch{Bp=!1}var No=Bp?{passive:!1}:!1,o6=function(t){return t.tagName==="TEXTAREA"},NC=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!o6(t)&&r[e]==="visible")},a6=function(t){return NC(t,"overflowY")},l6=function(t){return NC(t,"overflowX")},Mx=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=CC(t,n);if(s){var i=EC(t,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},c6=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},u6=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},CC=function(t,e){return t==="v"?a6(e):l6(e)},EC=function(t,e){return t==="v"?c6(e):u6(e)},d6=function(t,e){return t==="h"&&e==="rtl"?-1:1},f6=function(t,e,r,n,s){var i=d6(t,window.getComputedStyle(e).direction),o=i*n,l=r.target,c=e.contains(l),u=!1,d=o>0,f=0,h=0;do{var m=EC(t,l),y=m[0],x=m[1],b=m[2],w=x-b-i*y;(y||w)&&CC(t,l)&&(f+=w,h+=y),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(u=!0),u},Ru=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Lx=function(t){return[t.deltaX,t.deltaY]},Fx=function(t){return t&&"current"in t?t.current:t},h6=function(t,e){return t[0]===e[0]&&t[1]===e[1]},m6=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},p6=0,Co=[];function g6(t){var e=g.useRef([]),r=g.useRef([0,0]),n=g.useRef(),s=g.useState(p6++)[0],i=g.useState(kC)[0],o=g.useRef(t);g.useEffect(function(){o.current=t},[t]),g.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var x=L$([t.lockRef.current],(t.shards||[]).map(Fx),!0).filter(Boolean);return x.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=g.useCallback(function(x,b){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var w=Ru(x),p=r.current,v="deltaX"in x?x.deltaX:p[0]-w[0],_="deltaY"in x?x.deltaY:p[1]-w[1],S,C=x.target,j=Math.abs(v)>Math.abs(_)?"h":"v";if("touches"in x&&j==="h"&&C.type==="range")return!1;var E=Mx(j,C);if(!E)return!0;if(E?S=j:(S=j==="v"?"h":"v",E=Mx(j,C)),!E)return!1;if(!n.current&&"changedTouches"in x&&(v||_)&&(n.current=S),!S)return!0;var A=n.current||S;return f6(A,b,x,A==="h"?v:_,!0)},[]),c=g.useCallback(function(x){var b=x;if(!(!Co.length||Co[Co.length-1]!==i)){var w="deltaY"in b?Lx(b):Ru(b),p=e.current.filter(function(S){return S.name===b.type&&(S.target===b.target||b.target===S.shadowParent)&&h6(S.delta,w)})[0];if(p&&p.should){b.cancelable&&b.preventDefault();return}if(!p){var v=(o.current.shards||[]).map(Fx).filter(Boolean).filter(function(S){return S.contains(b.target)}),_=v.length>0?l(b,v[0]):!o.current.noIsolation;_&&b.cancelable&&b.preventDefault()}}},[]),u=g.useCallback(function(x,b,w,p){var v={name:x,delta:b,target:w,should:p,shadowParent:y6(w)};e.current.push(v),setTimeout(function(){e.current=e.current.filter(function(_){return _!==v})},1)},[]),d=g.useCallback(function(x){r.current=Ru(x),n.current=void 0},[]),f=g.useCallback(function(x){u(x.type,Lx(x),x.target,l(x,t.lockRef.current))},[]),h=g.useCallback(function(x){u(x.type,Ru(x),x.target,l(x,t.lockRef.current))},[]);g.useEffect(function(){return Co.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,No),document.addEventListener("touchmove",c,No),document.addEventListener("touchstart",d,No),function(){Co=Co.filter(function(x){return x!==i}),document.removeEventListener("wheel",c,No),document.removeEventListener("touchmove",c,No),document.removeEventListener("touchstart",d,No)}},[]);var m=t.removeScrollBar,y=t.inert;return g.createElement(g.Fragment,null,y?g.createElement(i,{styles:m6(s)}):null,m?g.createElement(i6,{gapMode:t.gapMode}):null)}function y6(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const v6=H$(jC,g6);var Kc=g.forwardRef(function(t,e){return g.createElement(zf,Rn({},t,{ref:e,sideCar:v6}))});Kc.classNames=zf.classNames;var Vp=["Enter"," "],x6=["ArrowDown","PageUp","Home"],PC=["ArrowUp","PageDown","End"],w6=[...x6,...PC],b6={ltr:[...Vp,"ArrowRight"],rtl:[...Vp,"ArrowLeft"]},_6={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Gc="Menu",[mc,S6,j6]=dy(Gc),[po,TC]=ws(Gc,[j6,el,gC]),Wf=el(),AC=gC(),[k6,go]=po(Gc),[N6,Qc]=po(Gc),OC=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:s,onOpenChange:i,modal:o=!0}=t,l=Wf(e),[c,u]=g.useState(null),d=g.useRef(!1),f=Zr(i),h=fy(s);return g.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),a.jsx(_y,{...l,children:a.jsx(k6,{scope:e,open:r,onOpenChange:f,content:c,onContentChange:u,children:a.jsx(N6,{scope:e,onClose:g.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:n})})})};OC.displayName=Gc;var C6="MenuAnchor",ky=g.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,s=Wf(r);return a.jsx(Uf,{...s,...n,ref:e})});ky.displayName=C6;var Ny="MenuPortal",[E6,RC]=po(Ny,{forceMount:void 0}),DC=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:s}=t,i=go(Ny,e);return a.jsx(E6,{scope:e,forceMount:r,children:a.jsx(Hn,{present:r||i.open,children:a.jsx(Hc,{asChild:!0,container:s,children:n})})})};DC.displayName=Ny;var Kr="MenuContent",[P6,Cy]=po(Kr),IC=g.forwardRef((t,e)=>{const r=RC(Kr,t.__scopeMenu),{forceMount:n=r.forceMount,...s}=t,i=go(Kr,t.__scopeMenu),o=Qc(Kr,t.__scopeMenu);return a.jsx(mc.Provider,{scope:t.__scopeMenu,children:a.jsx(Hn,{present:n||i.open,children:a.jsx(mc.Slot,{scope:t.__scopeMenu,children:o.modal?a.jsx(T6,{...s,ref:e}):a.jsx(A6,{...s,ref:e})})})})}),T6=g.forwardRef((t,e)=>{const r=go(Kr,t.__scopeMenu),n=g.useRef(null),s=Me(e,n);return g.useEffect(()=>{const i=n.current;if(i)return Vf(i)},[]),a.jsx(Ey,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:re(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),A6=g.forwardRef((t,e)=>{const r=go(Kr,t.__scopeMenu);return a.jsx(Ey,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),O6=oi("MenuContent.ScrollLock"),Ey=g.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:y,...x}=t,b=go(Kr,r),w=Qc(Kr,r),p=Wf(r),v=AC(r),_=S6(r),[S,C]=g.useState(null),j=g.useRef(null),E=Me(e,j,b.onContentChange),A=g.useRef(0),D=g.useRef(""),O=g.useRef(0),I=g.useRef(null),$=g.useRef("right"),H=g.useRef(0),M=y?Kc:g.Fragment,q=y?{as:O6,allowPinchZoom:!0}:void 0,U=L=>{var ie,Le;const K=D.current+L,ne=_().filter(Fe=>!Fe.disabled),je=document.activeElement,Pt=(ie=ne.find(Fe=>Fe.ref.current===je))==null?void 0:ie.textValue,it=ne.map(Fe=>Fe.textValue),Mt=W6(it,K,Pt),Xe=(Le=ne.find(Fe=>Fe.textValue===Mt))==null?void 0:Le.ref.current;(function Fe(Oe){D.current=Oe,window.clearTimeout(A.current),Oe!==""&&(A.current=window.setTimeout(()=>Fe(""),1e3))})(K),Xe&&setTimeout(()=>Xe.focus())};g.useEffect(()=>()=>window.clearTimeout(A.current),[]),Mf();const P=g.useCallback(L=>{var ne,je;return $.current===((ne=I.current)==null?void 0:ne.side)&&H6(L,(je=I.current)==null?void 0:je.area)},[]);return a.jsx(P6,{scope:r,searchRef:D,onItemEnter:g.useCallback(L=>{P(L)&&L.preventDefault()},[P]),onItemLeave:g.useCallback(L=>{var K;P(L)||((K=j.current)==null||K.focus(),C(null))},[P]),onTriggerLeave:g.useCallback(L=>{P(L)&&L.preventDefault()},[P]),pointerGraceTimerRef:O,onPointerGraceIntentChange:g.useCallback(L=>{I.current=L},[]),children:a.jsx(M,{...q,children:a.jsx(Wc,{asChild:!0,trapped:s,onMountAutoFocus:re(i,L=>{var K;L.preventDefault(),(K=j.current)==null||K.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:a.jsx(zc,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:a.jsx(O$,{asChild:!0,...v,dir:w.dir,orientation:"vertical",loop:n,currentTabStopId:S,onCurrentTabStopIdChange:C,onEntryFocus:re(c,L=>{w.isUsingKeyboardRef.current||L.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(Sy,{role:"menu","aria-orientation":"vertical","data-state":JC(b.open),"data-radix-menu-content":"",dir:w.dir,...p,...x,ref:E,style:{outline:"none",...x.style},onKeyDown:re(x.onKeyDown,L=>{const ne=L.target.closest("[data-radix-menu-content]")===L.currentTarget,je=L.ctrlKey||L.altKey||L.metaKey,Pt=L.key.length===1;ne&&(L.key==="Tab"&&L.preventDefault(),!je&&Pt&&U(L.key));const it=j.current;if(L.target!==it||!w6.includes(L.key))return;L.preventDefault();const Xe=_().filter(ie=>!ie.disabled).map(ie=>ie.ref.current);PC.includes(L.key)&&Xe.reverse(),V6(Xe)}),onBlur:re(t.onBlur,L=>{L.currentTarget.contains(L.target)||(window.clearTimeout(A.current),D.current="")}),onPointerMove:re(t.onPointerMove,pc(L=>{const K=L.target,ne=H.current!==L.clientX;if(L.currentTarget.contains(K)&&ne){const je=L.clientX>H.current?"right":"left";$.current=je,H.current=L.clientX}}))})})})})})})});IC.displayName=Kr;var R6="MenuGroup",Py=g.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return a.jsx(Ne.div,{role:"group",...n,ref:e})});Py.displayName=R6;var D6="MenuLabel",MC=g.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return a.jsx(Ne.div,{...n,ref:e})});MC.displayName=D6;var $d="MenuItem",$x="menu.itemSelect",qf=g.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...s}=t,i=g.useRef(null),o=Qc($d,t.__scopeMenu),l=Cy($d,t.__scopeMenu),c=Me(e,i),u=g.useRef(!1),d=()=>{const f=i.current;if(!r&&f){const h=new CustomEvent($x,{bubbles:!0,cancelable:!0});f.addEventListener($x,m=>n==null?void 0:n(m),{once:!0}),qN(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return a.jsx(LC,{...s,ref:c,disabled:r,onClick:re(t.onClick,d),onPointerDown:f=>{var h;(h=t.onPointerDown)==null||h.call(t,f),u.current=!0},onPointerUp:re(t.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:re(t.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||Vp.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});qf.displayName=$d;var LC=g.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...i}=t,o=Cy($d,r),l=AC(r),c=g.useRef(null),u=Me(e,c),[d,f]=g.useState(!1),[h,m]=g.useState("");return g.useEffect(()=>{const y=c.current;y&&m((y.textContent??"").trim())},[i.children]),a.jsx(mc.ItemSlot,{scope:r,disabled:n,textValue:s??h,children:a.jsx(R$,{asChild:!0,...l,focusable:!n,children:a.jsx(Ne.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:re(t.onPointerMove,pc(y=>{n?o.onItemLeave(y):(o.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:re(t.onPointerLeave,pc(y=>o.onItemLeave(y))),onFocus:re(t.onFocus,()=>f(!0)),onBlur:re(t.onBlur,()=>f(!1))})})})}),I6="MenuCheckboxItem",FC=g.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...s}=t;return a.jsx(zC,{scope:t.__scopeMenu,checked:r,children:a.jsx(qf,{role:"menuitemcheckbox","aria-checked":Ud(r)?"mixed":r,...s,ref:e,"data-state":Ay(r),onSelect:re(s.onSelect,()=>n==null?void 0:n(Ud(r)?!0:!r),{checkForDefaultPrevented:!1})})})});FC.displayName=I6;var $C="MenuRadioGroup",[M6,L6]=po($C,{value:void 0,onValueChange:()=>{}}),UC=g.forwardRef((t,e)=>{const{value:r,onValueChange:n,...s}=t,i=Zr(n);return a.jsx(M6,{scope:t.__scopeMenu,value:r,onValueChange:i,children:a.jsx(Py,{...s,ref:e})})});UC.displayName=$C;var BC="MenuRadioItem",VC=g.forwardRef((t,e)=>{const{value:r,...n}=t,s=L6(BC,t.__scopeMenu),i=r===s.value;return a.jsx(zC,{scope:t.__scopeMenu,checked:i,children:a.jsx(qf,{role:"menuitemradio","aria-checked":i,...n,ref:e,"data-state":Ay(i),onSelect:re(n.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,r)},{checkForDefaultPrevented:!1})})})});VC.displayName=BC;var Ty="MenuItemIndicator",[zC,F6]=po(Ty,{checked:!1}),WC=g.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...s}=t,i=F6(Ty,r);return a.jsx(Hn,{present:n||Ud(i.checked)||i.checked===!0,children:a.jsx(Ne.span,{...s,ref:e,"data-state":Ay(i.checked)})})});WC.displayName=Ty;var $6="MenuSeparator",qC=g.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return a.jsx(Ne.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});qC.displayName=$6;var U6="MenuArrow",HC=g.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,s=Wf(r);return a.jsx(jy,{...s,...n,ref:e})});HC.displayName=U6;var B6="MenuSub",[dq,KC]=po(B6),kl="MenuSubTrigger",GC=g.forwardRef((t,e)=>{const r=go(kl,t.__scopeMenu),n=Qc(kl,t.__scopeMenu),s=KC(kl,t.__scopeMenu),i=Cy(kl,t.__scopeMenu),o=g.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:t.__scopeMenu},d=g.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return g.useEffect(()=>d,[d]),g.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),a.jsx(ky,{asChild:!0,...u,children:a.jsx(LC,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":JC(r.open),...t,ref:If(e,s.onTriggerChange),onClick:f=>{var h;(h=t.onClick)==null||h.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:re(t.onPointerMove,pc(f=>{i.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:re(t.onPointerLeave,pc(f=>{var m,y;d();const h=(m=r.content)==null?void 0:m.getBoundingClientRect();if(h){const x=(y=r.content)==null?void 0:y.dataset.side,b=x==="right",w=b?-5:5,p=h[b?"left":"right"],v=h[b?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+w,y:f.clientY},{x:p,y:h.top},{x:v,y:h.top},{x:v,y:h.bottom},{x:p,y:h.bottom}],side:x}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:re(t.onKeyDown,f=>{var m;const h=i.searchRef.current!=="";t.disabled||h&&f.key===" "||b6[n.dir].includes(f.key)&&(r.onOpenChange(!0),(m=r.content)==null||m.focus(),f.preventDefault())})})})});GC.displayName=kl;var QC="MenuSubContent",YC=g.forwardRef((t,e)=>{const r=RC(Kr,t.__scopeMenu),{forceMount:n=r.forceMount,...s}=t,i=go(Kr,t.__scopeMenu),o=Qc(Kr,t.__scopeMenu),l=KC(QC,t.__scopeMenu),c=g.useRef(null),u=Me(e,c);return a.jsx(mc.Provider,{scope:t.__scopeMenu,children:a.jsx(Hn,{present:n||i.open,children:a.jsx(mc.Slot,{scope:t.__scopeMenu,children:a.jsx(Ey,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:re(t.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:re(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:re(t.onKeyDown,d=>{var m;const f=d.currentTarget.contains(d.target),h=_6[o.dir].includes(d.key);f&&h&&(i.onOpenChange(!1),(m=l.trigger)==null||m.focus(),d.preventDefault())})})})})})});YC.displayName=QC;function JC(t){return t?"open":"closed"}function Ud(t){return t==="indeterminate"}function Ay(t){return Ud(t)?"indeterminate":t?"checked":"unchecked"}function V6(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function z6(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function W6(t,e,r){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=r?t.indexOf(r):-1;let o=z6(t,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function q6(t,e){const{x:r,y:n}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const l=e[i].x,c=e[i].y,u=e[o].x,d=e[o].y;c>n!=d>n&&r<(u-l)*(n-c)/(d-c)+l&&(s=!s)}return s}function H6(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return q6(r,e)}function pc(t){return e=>e.pointerType==="mouse"?t(e):void 0}var K6=OC,G6=ky,Q6=DC,Y6=IC,J6=Py,Z6=MC,X6=qf,e5=FC,t5=UC,r5=VC,n5=WC,s5=qC,i5=HC,o5=GC,a5=YC,Oy="DropdownMenu",[l5,fq]=ws(Oy,[TC]),cr=TC(),[c5,ZC]=l5(Oy),XC=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:s,defaultOpen:i,onOpenChange:o,modal:l=!0}=t,c=cr(e),u=g.useRef(null),[d=!1,f]=Ia({prop:s,defaultProp:i,onChange:o});return a.jsx(c5,{scope:e,triggerId:Fn(),triggerRef:u,contentId:Fn(),open:d,onOpenChange:f,onOpenToggle:g.useCallback(()=>f(h=>!h),[f]),modal:l,children:a.jsx(K6,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};XC.displayName=Oy;var eE="DropdownMenuTrigger",tE=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=t,i=ZC(eE,r),o=cr(r);return a.jsx(G6,{asChild:!0,...o,children:a.jsx(Ne.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:If(e,i.triggerRef),onPointerDown:re(t.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:re(t.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});tE.displayName=eE;var u5="DropdownMenuPortal",rE=t=>{const{__scopeDropdownMenu:e,...r}=t,n=cr(e);return a.jsx(Q6,{...n,...r})};rE.displayName=u5;var nE="DropdownMenuContent",sE=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=ZC(nE,r),i=cr(r),o=g.useRef(!1);return a.jsx(Y6,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...n,ref:e,onCloseAutoFocus:re(t.onCloseAutoFocus,l=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:re(t.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});sE.displayName=nE;var d5="DropdownMenuGroup",f5=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=cr(r);return a.jsx(J6,{...s,...n,ref:e})});f5.displayName=d5;var h5="DropdownMenuLabel",iE=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=cr(r);return a.jsx(Z6,{...s,...n,ref:e})});iE.displayName=h5;var m5="DropdownMenuItem",oE=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=cr(r);return a.jsx(X6,{...s,...n,ref:e})});oE.displayName=m5;var p5="DropdownMenuCheckboxItem",aE=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=cr(r);return a.jsx(e5,{...s,...n,ref:e})});aE.displayName=p5;var g5="DropdownMenuRadioGroup",y5=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=cr(r);return a.jsx(t5,{...s,...n,ref:e})});y5.displayName=g5;var v5="DropdownMenuRadioItem",lE=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=cr(r);return a.jsx(r5,{...s,...n,ref:e})});lE.displayName=v5;var x5="DropdownMenuItemIndicator",cE=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=cr(r);return a.jsx(n5,{...s,...n,ref:e})});cE.displayName=x5;var w5="DropdownMenuSeparator",uE=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=cr(r);return a.jsx(s5,{...s,...n,ref:e})});uE.displayName=w5;var b5="DropdownMenuArrow",_5=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=cr(r);return a.jsx(i5,{...s,...n,ref:e})});_5.displayName=b5;var S5="DropdownMenuSubTrigger",dE=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=cr(r);return a.jsx(o5,{...s,...n,ref:e})});dE.displayName=S5;var j5="DropdownMenuSubContent",fE=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=cr(r);return a.jsx(a5,{...s,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});fE.displayName=j5;var k5=XC,N5=tE,C5=rE,hE=sE,mE=iE,pE=oE,gE=aE,yE=lE,vE=cE,xE=uE,wE=dE,bE=fE;const _E=k5,SE=N5,E5=g.forwardRef(({className:t,inset:e,children:r,...n},s)=>a.jsxs(wE,{ref:s,className:he("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...n,children:[r,a.jsx(ON,{className:"ml-auto"})]}));E5.displayName=wE.displayName;const P5=g.forwardRef(({className:t,...e},r)=>a.jsx(bE,{ref:r,className:he("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...e}));P5.displayName=bE.displayName;const Ry=g.forwardRef(({className:t,sideOffset:e=4,...r},n)=>a.jsx(C5,{children:a.jsx(hE,{ref:n,sideOffset:e,className:he("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...r})}));Ry.displayName=hE.displayName;const aa=g.forwardRef(({className:t,inset:e,...r},n)=>a.jsx(pE,{ref:n,className:he("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r}));aa.displayName=pE.displayName;const T5=g.forwardRef(({className:t,children:e,checked:r,...n},s)=>a.jsxs(gE,{ref:s,className:he("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:r,...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(vE,{children:a.jsx(cn,{className:"h-4 w-4"})})}),e]}));T5.displayName=gE.displayName;const A5=g.forwardRef(({className:t,children:e,...r},n)=>a.jsxs(yE,{ref:n,className:he("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(vE,{children:a.jsx(ML,{className:"h-2 w-2 fill-current"})})}),e]}));A5.displayName=yE.displayName;const O5=g.forwardRef(({className:t,inset:e,...r},n)=>a.jsx(mE,{ref:n,className:he("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...r}));O5.displayName=mE.displayName;const R5=g.forwardRef(({className:t,...e},r)=>a.jsx(xE,{ref:r,className:he("-mx-1 my-1 h-px bg-muted",t),...e}));R5.displayName=xE.displayName;function D5({note:t,userBelt:e,userStripes:r}){const n=g.useRef(null),{toast:s}=It(),[i,o]=g.useState(!1);g.useEffect(()=>{o(!!navigator.share)},[]);const l=async()=>new Promise(h=>{const m=n.current;if(!m)return;const y=m.getContext("2d");if(!y)return;m.width=1080,m.height=1080;const x=y.createLinearGradient(0,0,0,1080);x.addColorStop(0,"#1e3a8a"),x.addColorStop(1,"#0f172a"),y.fillStyle=x,y.fillRect(0,0,1080,1080),y.globalAlpha=.05;for(let A=0;A<1080;A+=30)y.strokeStyle="#ffffff",y.lineWidth=1,y.beginPath(),y.moveTo(0,A),y.lineTo(1080,A),y.stroke();if(y.globalAlpha=1,y.fillStyle="rgba(220, 38, 38, 0.9)",y.fillRect(0,0,1080,180),y.fillStyle="#ffffff",y.font="bold 56px Arial, sans-serif",y.textAlign="center",y.fillText("BJJ JITS JOURNAL",540,70),y.font="32px Arial, sans-serif",y.fillStyle="#fecaca",y.fillText("Training Notes & Progress",540,130),e){const D={white:"#f8fafc",blue:"#3b82f6",purple:"#a855f7",brown:"#92400e",black:"#0f172a"};if(y.fillStyle=D[e.toLowerCase()]||"#6b7280",y.fillRect(80,250,180,60),y.fillStyle="#ffffff",y.font="bold 28px Arial",y.textAlign="left",y.fillText(e.toUpperCase(),100,290),r&&r>0){y.fillStyle="#fbbf24";for(let O=0;O<Math.min(r,4);O++)y.fillRect(280+O*25,265,15,30)}}y.fillStyle="#ffffff",y.font="bold 48px Arial, sans-serif",y.textAlign="center";const b=950,w=t.title.split(" ");let p="",v=e?400:300;for(const A of w){const D=p+A+" ";y.measureText(D).width>b&&p!==""?(y.fillText(p,540,v),p=A+" ",v+=60):p=D}y.fillText(p,540,v);const _=t.content.substring(0,150)+(t.content.length>150?"...":"");y.font="32px Arial, sans-serif",y.fillStyle="#cbd5e1";const S=_.split(" ");p="",v+=100;let C=0;const j=4;for(const A of S){if(C>=j)break;const D=p+A+" ";y.measureText(D).width>b&&p!==""?(y.fillText(p,540,v),p=A+" ",v+=45,C++):p=D}C<j&&p!==""&&y.fillText(p,540,v);const E=new Date(t.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});y.fillStyle="#94a3b8",y.font="28px Arial, sans-serif",y.textAlign="center",y.fillText(E,540,980),y.fillStyle="#dc2626",y.fillRect(0,1020,1080,60),y.fillStyle="#ffffff",y.font="bold 32px Arial",y.fillText("Track Your Journey  Share Your Progress",540,1060),m.toBlob(A=>{A&&h(A)},"image/png")}),c=async()=>{try{const h=await l(),m=new File([h],"bjj-journal-note.png",{type:"image/png"});navigator.canShare&&navigator.canShare({files:[m]})?(await navigator.share({files:[m],title:`BJJ Training Note: ${t.title}`,text:`${t.title}

${t.content.substring(0,100)}...`}),s({title:"Shared!",description:"Your note has been shared successfully."})):u()}catch(h){h.name!=="AbortError"&&(console.error("Share failed:",h),s({title:"Share cancelled",description:"You can download the image instead."}))}},u=async()=>{const h=await l(),m=URL.createObjectURL(h),y=document.createElement("a");y.href=m,y.download=`bjj-journal-${t.title.replace(/\s+/g,"-").toLowerCase()}.png`,y.click(),URL.revokeObjectURL(m),s({title:"Downloaded!",description:"Image saved to your device."})},d=()=>{const h=`${t.title}

Tracking my BJJ journey with Jits Journal! `,m=window.location.origin,y=`https://twitter.com/intent/tweet?text=${encodeURIComponent(h)}&url=${encodeURIComponent(m)}`;window.open(y,"_blank","width=600,height=400")},f=()=>{const h=window.location.origin,m=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(h)}`;window.open(m,"_blank","width=600,height=400")};return a.jsxs(a.Fragment,{children:[a.jsx("canvas",{ref:n,style:{display:"none"}}),i?a.jsxs(We,{onClick:c,variant:"outline",size:"sm",className:"gap-2","data-testid":"button-share-note",children:[a.jsx(Dp,{className:"w-4 h-4"}),"Share to Social Media"]}):a.jsxs(_E,{children:[a.jsx(SE,{asChild:!0,children:a.jsxs(We,{variant:"outline",size:"sm",className:"gap-2","data-testid":"button-share-note",children:[a.jsx(Dp,{className:"w-4 h-4"}),"Share to Social Media"]})}),a.jsxs(Ry,{align:"end",children:[a.jsxs(aa,{onClick:d,"data-testid":"button-share-twitter",children:[a.jsx(YL,{className:"w-4 h-4 mr-2"}),"Share on Twitter"]}),a.jsxs(aa,{onClick:f,"data-testid":"button-share-facebook",children:[a.jsx(BL,{className:"w-4 h-4 mr-2"}),"Share on Facebook"]}),a.jsxs(aa,{onClick:u,"data-testid":"button-download-image",children:[a.jsx($L,{className:"w-4 h-4 mr-2"}),"Download Image"]})]})]})]})}function I5(){const[t,e]=g.useState(!1),[r,n]=g.useState(null),[s,i]=g.useState(""),[o,l]=g.useState({title:"",content:"",tags:""}),{toast:c}=It(),u=xs(),{user:d}=lr(),[,f]=Ka(),h=Df(d==null?void 0:d.email,d==null?void 0:d.subscriptionStatus),{data:m=[],isLoading:y,refetch:x}=lt({queryKey:["notes",d==null?void 0:d.id],queryFn:()=>Ti.getAll(d.id),enabled:!!(d!=null&&d.id),staleTime:3e4,refetchOnWindowFocus:!0,refetchOnMount:!0}),{data:b}=lt({queryKey:["belts","current",d==null?void 0:d.id],queryFn:()=>Ls.getCurrent(d.id),enabled:!!(d!=null&&d.id),staleTime:6e4}),{data:w}=lt({queryKey:["/api/my-gym"]});fe.useEffect(()=>{x()},[x]);const p=Qe({mutationFn:async({noteId:M,isShared:q})=>{if(!(d!=null&&d.id))throw new Error("User not authenticated");return await Ti.toggleShare(M.toString(),d.id,!q)},onSuccess:()=>{u.invalidateQueries({queryKey:["notes",d==null?void 0:d.id]}),c({title:"Success",description:"Note sharing updated successfully"})},onError:M=>{c({title:"Error",description:"Failed to update note sharing",variant:"destructive"})}}),v=Qe({mutationFn:async M=>await Jr("POST",`/api/notes/${M}/share-to-gym`,{}),onSuccess:()=>{u.invalidateQueries({queryKey:["notes",d==null?void 0:d.id]}),u.invalidateQueries({queryKey:["/api/gym-notes"]}),c({title:"Success",description:"Note shared to your gym!"})},onError:M=>{c({title:"Error",description:M.message||"Failed to share note to gym",variant:"destructive"})}}),_=Qe({mutationFn:async M=>await Jr("POST",`/api/notes/${M}/unshare-from-gym`,{}),onSuccess:()=>{u.invalidateQueries({queryKey:["notes",d==null?void 0:d.id]}),u.invalidateQueries({queryKey:["/api/gym-notes"]}),c({title:"Success",description:"Note removed from gym"})},onError:M=>{c({title:"Error",description:M.message||"Failed to remove note from gym",variant:"destructive"})}}),S=m.filter(M=>{if(!s.trim())return!0;const q=s.toLowerCase(),U=(M.title||"").toLowerCase(),P=(M.content||"").toLowerCase(),L=Array.isArray(M.tags)?M.tags.join(" ").toLowerCase():"";return U.includes(q)||P.includes(q)||L.includes(q)}),C=Qe({mutationFn:async M=>{if(!(d!=null&&d.id))throw new Error("User not authenticated");return await Ti.create(d.id,M)},onSuccess:()=>{u.invalidateQueries({queryKey:["notes",d==null?void 0:d.id]}),u.refetchQueries({queryKey:["notes",d==null?void 0:d.id]}),x(),c({title:"Note Saved!",description:"Your technique note has been saved."}),e(!1),n(null),l({title:"",content:"",tags:""})},onError:M=>{c({title:"Error",description:"Failed to save note. Please try again.",variant:"destructive"})}}),j=Qe({mutationFn:async({noteId:M,noteData:q})=>{if(!(d!=null&&d.id))throw new Error("User not authenticated");return await Ti.update(M.toString(),d.id,q)},onSuccess:()=>{u.invalidateQueries({queryKey:["notes",d==null?void 0:d.id]}),u.refetchQueries({queryKey:["notes",d==null?void 0:d.id]}),x(),c({title:"Note Updated!",description:"Your note has been updated successfully."}),e(!1),n(null),l({title:"",content:"",tags:""})},onError:M=>{c({title:"Error",description:"Failed to update note. Please try again.",variant:"destructive"})}}),E=Qe({mutationFn:async M=>{if(!(d!=null&&d.id))throw new Error("User not authenticated");return await Ti.delete(M.toString(),d.id)},onSuccess:()=>{u.invalidateQueries({queryKey:["notes",d==null?void 0:d.id]}),u.refetchQueries({queryKey:["notes",d==null?void 0:d.id]}),x(),c({title:"Note Deleted!",description:"Your note has been deleted successfully."})},onError:M=>{c({title:"Error",description:"Failed to delete note. Please try again.",variant:"destructive"})}}),A=M=>{if(M.preventDefault(),C.isPending||j.isPending||!o.title.trim())return;if(!r&&!h&&Array.isArray(m)&&m.length>=Ki.notes){c({title:"Note Limit Reached",description:`Free tier is limited to ${Ki.notes} notes. Upgrade to Premium for unlimited notes!`,variant:"destructive"});return}const q={title:o.title,content:o.content||"",tags:o.tags?o.tags.split(",").map(U=>U.trim()).filter(U=>U.length>0):[]};r?j.mutate({noteId:r.id,noteData:q}):C.mutate(q)},D=M=>{const{name:q,value:U}=M.target;l(P=>({...P,[q]:U}))},O=async(M,q)=>{try{await p.mutateAsync({noteId:M,isShared:q===1})}catch{}},I=M=>{n(M),l({title:M.title||"",content:M.content||"",tags:Array.isArray(M.tags)?M.tags.join(", "):""}),e(!0)},$=M=>{window.confirm("Are you sure you want to delete this note? This action cannot be undone.")&&E.mutate(M)},H=()=>{e(!1),n(null),l({title:"",content:"",tags:""})};return t?a.jsxs("div",{className:"p-6 max-w-md mx-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r?"Edit Note":"New Note"}),a.jsx("button",{onClick:H,className:"text-gray-500 hover:text-gray-700",children:""})]}),a.jsxs("form",{onSubmit:A,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-1",children:"Title"}),a.jsx("input",{type:"text",name:"title",value:o.title,onChange:D,placeholder:"Enter note title",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 text-gray-900",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-1",children:"Content"}),a.jsx("textarea",{name:"content",value:o.content,onChange:D,rows:6,placeholder:"Describe the technique, key points, setup, etc. (optional)",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 text-gray-900"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-1",children:"Tags (separated by commas)"}),a.jsx("input",{type:"text",name:"tags",value:o.tags,onChange:D,placeholder:"e.g., guard, armbar, fundamentals",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 text-gray-900"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{type:"button",onClick:H,className:"flex-1 bg-gray-300 text-gray-700 py-3 px-4 rounded-lg font-medium hover:bg-gray-400 transition-colors",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:C.isPending||j.isPending,className:"flex-1 bg-green-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:C.isPending||j.isPending?"Saving...":r?"Update Note":"Save Note"})]})]})]}):a.jsxs("div",{className:"p-6 max-w-md mx-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Notes"}),a.jsx("button",{onClick:()=>e(!0),className:"bg-green-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-green-700 transition-colors",children:"+ New Note"})]}),!h&&a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("span",{className:"text-yellow-600",children:""}),a.jsx("span",{className:"font-medium text-yellow-800",children:"Free Tier Limit"})]}),a.jsxs("p",{className:"text-sm text-yellow-700",children:["You have ",Array.isArray(m)?m.length:0," out of ",Ki.notes," free notes. Upgrade to Premium for unlimited notes and sharing!"]}),a.jsx("button",{onClick:()=>f("/subscribe"),className:"mt-2 text-sm text-yellow-800 font-medium hover:text-yellow-900",children:"Upgrade Now "})]}),h&&a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("span",{className:"text-green-600",children:""}),a.jsx("span",{className:"font-medium text-green-800",children:"Premium Access"})]}),a.jsx("p",{className:"text-sm text-green-700",children:"You have unlimited notes with sharing capabilities. Keep adding your knowledge!"})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("input",{type:"text",value:s,onChange:M=>i(M.target.value),placeholder:"Search notes by title, content, or tags...",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 text-black"}),s&&a.jsxs("div",{className:"mt-2 text-sm text-black",children:["Found ",S.length," note",S.length!==1?"s":"",' matching "',s,'"']})]}),y?a.jsx("div",{className:"space-y-4",children:[1,2,3].map(M=>a.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-md animate-pulse",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),a.jsx("div",{className:"h-3 bg-gray-200 rounded mb-3"}),a.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]},M))}):Array.isArray(m)&&m.length>0?S.length>0?a.jsx("div",{className:"space-y-4",children:S.map(M=>a.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-md",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"font-semibold text-black",children:M.title}),a.jsxs("div",{className:"flex items-center gap-2",children:[M.isShared===1&&a.jsxs("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded flex items-center gap-1",children:[a.jsx(ux,{className:"w-3 h-3"}),"Community"]}),M.gymId&&a.jsxs("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded flex items-center gap-1",children:[a.jsx(ns,{className:"w-3 h-3"}),"Gym"]}),a.jsx("button",{onClick:()=>I(M),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",title:"Edit note",children:"Edit"}),a.jsx("button",{onClick:()=>$(M.id),className:"text-red-600 hover:text-red-800 text-sm font-medium",title:"Delete note",children:"Delete"}),a.jsxs(_E,{children:[a.jsx(SE,{asChild:!0,children:a.jsxs("button",{className:"text-green-600 hover:text-green-800 text-sm font-medium flex items-center gap-1","data-testid":`button-share-menu-${M.id}`,children:[a.jsx(Dp,{className:"w-4 h-4"}),"Share"]})}),a.jsxs(Ry,{align:"end",children:[a.jsxs(aa,{onClick:()=>O(M.id,M.isShared||0),"data-testid":`button-share-community-${M.id}`,children:[a.jsx(ux,{className:"w-4 h-4 mr-2"}),M.isShared===1?"Remove from Community":"Share to Community"]}),w&&w.role==="admin"&&a.jsxs(aa,{onClick:()=>M.gymId?_.mutate(M.id):v.mutate(M.id),"data-testid":`button-share-gym-${M.id}`,children:[a.jsx(ns,{className:"w-4 h-4 mr-2"}),M.gymId?"Remove from Gym":"Share to My Gym"]})]})]})]})]}),a.jsx("div",{className:"mb-3",children:a.jsx(D5,{note:{id:M.id,title:M.title,content:M.content||"",createdAt:M.createdAt||M.date},userBelt:b==null?void 0:b.belt,userStripes:b==null?void 0:b.stripes})}),a.jsx("p",{className:"text-black text-sm mb-3",children:M.content}),a.jsx(oF,{noteId:M.id,existingVideo:M.videoUrl?{videoUrl:M.videoUrl,videoFileName:M.videoFileName,videoThumbnail:M.videoThumbnail}:null,onVideoUploaded:()=>{u.invalidateQueries({queryKey:["notes",d==null?void 0:d.id]})}}),a.jsxs("div",{className:"flex items-center justify-between mt-4",children:[a.jsx("div",{className:"flex flex-wrap gap-1",children:Array.isArray(M.tags)&&M.tags.map((q,U)=>a.jsx("span",{className:"text-xs bg-gray-100 text-black px-2 py-1 rounded",children:q},U))}),a.jsx("span",{className:"text-xs text-black",children:new Date(M.createdAt||M.date).toLocaleDateString()})]})]},M.id))}):a.jsxs("div",{className:"text-center py-8 text-black",children:[a.jsxs("p",{children:['No notes found matching "',s,'"']}),a.jsx("p",{className:"text-sm",children:"Try a different search term or clear the search."}),a.jsx("button",{onClick:()=>i(""),className:"mt-2 text-blue-600 hover:text-blue-800 text-sm",children:"Clear search"})]}):a.jsxs("div",{className:"text-center py-8 text-black",children:[a.jsx("p",{children:"No notes yet."}),a.jsx("p",{className:"text-sm",children:"Create your first technique note!"})]})]})}function M5(){const[t,e]=g.useState(""),[r,n]=g.useState(!1),s=[{name:"Guard",query:"BJJ guard techniques"},{name:"Submissions",query:"BJJ submissions armbars chokes"},{name:"Sweeps",query:"BJJ sweeps from guard"},{name:"Escapes",query:"BJJ escapes defense"},{name:"Takedowns",query:"BJJ takedowns wrestling"},{name:"Passing",query:"BJJ guard passing"},{name:"Mount",query:"BJJ mount position attacks"},{name:"Side Control",query:"BJJ side control techniques"},{name:"Back Control",query:"BJJ back control rear naked choke"},{name:"Leg Locks",query:"BJJ leg locks heel hooks"},{name:"Gi Techniques",query:"BJJ gi techniques grips"},{name:"No-Gi",query:"BJJ no gi techniques"}],i=l=>{n(!0);const u=`https://www.youtube.com/results?search_query=${encodeURIComponent((l||t)+" BJJ brazilian jiu jitsu")}`;window.open(u,"_blank"),n(!1)},o=l=>{i(l)};return a.jsxs("div",{className:"p-6 max-w-md mx-auto",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx(qL,{className:"text-red-600",size:28}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"BJJ Videos"})]}),a.jsxs("div",{className:"relative mb-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx(fx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",placeholder:"Search BJJ techniques...",value:t,onChange:l=>e(l.target.value),onKeyPress:l=>l.key==="Enter"&&i(t),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent text-black dark:text-white bg-white dark:bg-gray-800"})]}),a.jsxs("button",{onClick:()=>i(t),disabled:r||!t.trim(),className:"w-full mt-3 bg-red-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2",children:[a.jsx(fx,{size:20}),r?"Searching...":"Search on YouTube"]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Quick Categories"}),a.jsx("div",{className:"grid grid-cols-2 gap-3",children:s.map(l=>a.jsx("button",{onClick:()=>o(l.query),className:"bg-white border border-gray-200 rounded-lg p-4 text-left hover:bg-gray-50 hover:border-red-300 transition-colors shadow-sm",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-medium text-black",children:l.name}),a.jsx(UL,{size:16,className:"text-gray-400"})]})},l.name))})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),a.jsx("span",{className:"font-medium text-black",children:"YouTube Search"})]}),a.jsx("p",{className:"text-sm text-black",children:"Search results will open in YouTube where you can find the best BJJ instructional videos from top practitioners and academies."})]})]})}var Dy="Dialog",[jE,kE]=ws(Dy),[L5,jn]=jE(Dy),NE=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,l=g.useRef(null),c=g.useRef(null),[u=!1,d]=Ia({prop:n,defaultProp:s,onChange:i});return a.jsx(L5,{scope:e,triggerRef:l,contentRef:c,contentId:Fn(),titleId:Fn(),descriptionId:Fn(),open:u,onOpenChange:d,onOpenToggle:g.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};NE.displayName=Dy;var CE="DialogTrigger",EE=g.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=jn(CE,r),i=Me(e,s.triggerRef);return a.jsx(Ne.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Ly(s.open),...n,ref:i,onClick:re(t.onClick,s.onOpenToggle)})});EE.displayName=CE;var Iy="DialogPortal",[F5,PE]=jE(Iy,{forceMount:void 0}),TE=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:s}=t,i=jn(Iy,e);return a.jsx(F5,{scope:e,forceMount:r,children:g.Children.map(n,o=>a.jsx(Hn,{present:r||i.open,children:a.jsx(Hc,{asChild:!0,container:s,children:o})}))})};TE.displayName=Iy;var Bd="DialogOverlay",AE=g.forwardRef((t,e)=>{const r=PE(Bd,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,i=jn(Bd,t.__scopeDialog);return i.modal?a.jsx(Hn,{present:n||i.open,children:a.jsx(U5,{...s,ref:e})}):null});AE.displayName=Bd;var $5=oi("DialogOverlay.RemoveScroll"),U5=g.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=jn(Bd,r);return a.jsx(Kc,{as:$5,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(Ne.div,{"data-state":Ly(s.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),no="DialogContent",OE=g.forwardRef((t,e)=>{const r=PE(no,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,i=jn(no,t.__scopeDialog);return a.jsx(Hn,{present:n||i.open,children:i.modal?a.jsx(B5,{...s,ref:e}):a.jsx(V5,{...s,ref:e})})});OE.displayName=no;var B5=g.forwardRef((t,e)=>{const r=jn(no,t.__scopeDialog),n=g.useRef(null),s=Me(e,r.contentRef,n);return g.useEffect(()=>{const i=n.current;if(i)return Vf(i)},[]),a.jsx(RE,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:re(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:re(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:re(t.onFocusOutside,i=>i.preventDefault())})}),V5=g.forwardRef((t,e)=>{const r=jn(no,t.__scopeDialog),n=g.useRef(!1),s=g.useRef(!1);return a.jsx(RE,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),RE=g.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,l=jn(no,r),c=g.useRef(null),u=Me(e,c);return Mf(),a.jsxs(a.Fragment,{children:[a.jsx(Wc,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(zc,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Ly(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(W5,{titleId:l.titleId}),a.jsx(H5,{contentRef:c,descriptionId:l.descriptionId})]})]})}),My="DialogTitle",DE=g.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=jn(My,r);return a.jsx(Ne.h2,{id:s.titleId,...n,ref:e})});DE.displayName=My;var IE="DialogDescription",ME=g.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=jn(IE,r);return a.jsx(Ne.p,{id:s.descriptionId,...n,ref:e})});ME.displayName=IE;var LE="DialogClose",FE=g.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=jn(LE,r);return a.jsx(Ne.button,{type:"button",...n,ref:e,onClick:re(t.onClick,()=>s.onOpenChange(!1))})});FE.displayName=LE;function Ly(t){return t?"open":"closed"}var $E="DialogTitleWarning",[z5,UE]=WF($E,{contentName:no,titleName:My,docsSlug:"dialog"}),W5=({titleId:t})=>{const e=UE($E),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return g.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},q5="DialogDescriptionWarning",H5=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${UE(q5).contentName}}.`;return g.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},K5=NE,G5=EE,Q5=TE,Y5=AE,J5=OE,Z5=DE,X5=ME,BE=FE,VE="AlertDialog",[eU,hq]=ws(VE,[kE]),bs=kE(),zE=t=>{const{__scopeAlertDialog:e,...r}=t,n=bs(e);return a.jsx(K5,{...n,...r,modal:!0})};zE.displayName=VE;var tU="AlertDialogTrigger",WE=g.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=bs(r);return a.jsx(G5,{...s,...n,ref:e})});WE.displayName=tU;var rU="AlertDialogPortal",qE=t=>{const{__scopeAlertDialog:e,...r}=t,n=bs(e);return a.jsx(Q5,{...n,...r})};qE.displayName=rU;var nU="AlertDialogOverlay",HE=g.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=bs(r);return a.jsx(Y5,{...s,...n,ref:e})});HE.displayName=nU;var la="AlertDialogContent",[sU,iU]=eU(la),oU=lF("AlertDialogContent"),KE=g.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...s}=t,i=bs(r),o=g.useRef(null),l=Me(e,o),c=g.useRef(null);return a.jsx(z5,{contentName:la,titleName:GE,docsSlug:"alert-dialog",children:a.jsx(sU,{scope:r,cancelRef:c,children:a.jsxs(J5,{role:"alertdialog",...i,...s,ref:l,onOpenAutoFocus:re(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[a.jsx(oU,{children:n}),a.jsx(lU,{contentRef:o})]})})})});KE.displayName=la;var GE="AlertDialogTitle",QE=g.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=bs(r);return a.jsx(Z5,{...s,...n,ref:e})});QE.displayName=GE;var YE="AlertDialogDescription",JE=g.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=bs(r);return a.jsx(X5,{...s,...n,ref:e})});JE.displayName=YE;var aU="AlertDialogAction",ZE=g.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=bs(r);return a.jsx(BE,{...s,...n,ref:e})});ZE.displayName=aU;var XE="AlertDialogCancel",eP=g.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:s}=iU(XE,r),i=bs(r),o=Me(e,s);return a.jsx(BE,{...i,...n,ref:o})});eP.displayName=XE;var lU=({contentRef:t})=>{const e=`\`${la}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${la}\` by passing a \`${YE}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${la}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return g.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},cU=zE,uU=WE,dU=qE,tP=HE,rP=KE,nP=ZE,sP=eP,iP=QE,oP=JE;const fU=cU,hU=uU,mU=dU,aP=g.forwardRef(({className:t,...e},r)=>a.jsx(tP,{className:he("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));aP.displayName=tP.displayName;const lP=g.forwardRef(({className:t,...e},r)=>a.jsxs(mU,{children:[a.jsx(aP,{}),a.jsx(rP,{ref:r,className:he("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));lP.displayName=rP.displayName;const cP=({className:t,...e})=>a.jsx("div",{className:he("flex flex-col space-y-2 text-center sm:text-left",t),...e});cP.displayName="AlertDialogHeader";const uP=({className:t,...e})=>a.jsx("div",{className:he("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});uP.displayName="AlertDialogFooter";const dP=g.forwardRef(({className:t,...e},r)=>a.jsx(iP,{ref:r,className:he("text-lg font-semibold",t),...e}));dP.displayName=iP.displayName;const fP=g.forwardRef(({className:t,...e},r)=>a.jsx(oP,{ref:r,className:he("text-sm text-muted-foreground",t),...e}));fP.displayName=oP.displayName;const hP=g.forwardRef(({className:t,...e},r)=>a.jsx(nP,{ref:r,className:he(dc(),t),...e}));hP.displayName=nP.displayName;const mP=g.forwardRef(({className:t,...e},r)=>a.jsx(sP,{ref:r,className:he(dc({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));mP.displayName=sP.displayName;function pU(){const[t,e]=g.useState(!1),[r,n]=g.useState(!0),[s,i]=g.useState(!0),[o,l]=g.useState(""),c="1.0.33",{darkMode:u,setDarkMode:d}=SL(),{user:f}=lr(),{toast:h}=It(),[,m]=Ka(),y=Df(f==null?void 0:f.email,f==null?void 0:f.subscriptionStatus,f==null?void 0:f.subscriptionExpiresAt),x=sF(f==null?void 0:f.email,f==null?void 0:f.subscriptionStatus,f==null?void 0:f.subscriptionExpiresAt);g.useEffect(()=>{const A=localStorage.getItem("bjj_autosync")!=="false",D=localStorage.getItem("bjj_notifications")!=="false";localStorage.getItem("bjj_autosync")||localStorage.setItem("bjj_autosync","true"),n(A),i(D)},[]);const b=()=>{const A=!r;n(A),localStorage.setItem("bjj_autosync",A.toString())},w=()=>{d(!u)},p=()=>{const A=!s;i(A),localStorage.setItem("bjj_notifications",A.toString())};lt({queryKey:["/api/user-stats"]});const{data:v}=lt({queryKey:["/api/classes"]}),{data:_}=lt({queryKey:["/api/notes"]}),{data:S}=lt({queryKey:["/api/my-gym"]}),C=Qe({mutationFn:async A=>await Jr("POST","/api/gyms/join",{code:A}),onSuccess:()=>{Wr.invalidateQueries({queryKey:["/api/my-gym"]}),h({title:"Success!",description:"You've joined the gym!"}),l("")},onError:A=>{h({title:"Error",description:A.message||"Failed to join gym",variant:"destructive"})}}),j=()=>{if(!o.trim()){h({title:"Error",description:"Please enter a gym code",variant:"destructive"});return}C.mutate(o.trim().toUpperCase())},E=Qe({mutationFn:async()=>await Jr("DELETE","/api/user/delete-account"),onSuccess:()=>{h({title:"Account Deleted",description:"Your account and all data have been permanently deleted."}),localStorage.clear(),sessionStorage.clear(),setTimeout(()=>{window.location.href="/"},2e3)},onError:A=>{h({title:"Error",description:A.message||"Failed to delete account",variant:"destructive"})}});return a.jsxs("div",{className:"p-6 max-w-md mx-auto dark:bg-gray-900 min-h-screen",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-6",children:"Settings"}),t&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 max-w-md w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-800 dark:text-white",children:"Upgrade to Premium"}),a.jsx("button",{onClick:()=>e(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:""})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"text-center",children:a.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg p-4 mb-4",children:[a.jsx("h4",{className:"text-lg font-bold",children:"Premium Plan"}),a.jsx("p",{className:"text-sm opacity-90",children:"Unlock unlimited potential"})]})}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-green-500",children:""}),a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Unlimited class logging"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-green-500",children:""}),a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Unlimited notes with sharing"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-green-500",children:""}),a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Advanced video library"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-green-500",children:""}),a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Cloud backup & sync"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-green-500",children:""}),a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Priority support"})]})]}),a.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:[a.jsx("h5",{className:"font-semibold text-gray-800 dark:text-white mb-2",children:"How to Subscribe:"}),a.jsxs("ol",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[a.jsx("li",{children:"1. Visit your device's app store"}),a.jsx("li",{children:'2. Search for "Jits Journal"'}),a.jsx("li",{children:"3. Select premium subscription"}),a.jsx("li",{children:"4. Complete purchase through app store"})]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("button",{onClick:()=>e(!1),className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 px-6 rounded-lg hover:from-blue-700 hover:to-purple-700 transition-colors font-medium",children:"Got it!"}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"Subscriptions are managed through your app store"})]})]})]})}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-md mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"Account"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Plan"}),a.jsx("span",{className:`text-sm px-2 py-1 rounded ${y?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:x})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Classes Logged"}),a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[Array.isArray(v)?v.length:0," classes"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Notes Created"}),a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[Array.isArray(_)?_.length:0," notes"]})]}),!y&&a.jsx("button",{onClick:()=>m("/subscribe"),className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"Upgrade to Premium"})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-md mb-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4 flex items-center gap-2",children:[a.jsx(Od,{className:"w-5 h-5"}),"Gym Community"]}),a.jsxs("div",{className:"space-y-4",children:[S?a.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(ns,{className:"w-5 h-5 text-blue-600"}),a.jsx("span",{className:"font-semibold text-gray-800 dark:text-white",children:S.name})]}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Code: ",a.jsx("span",{className:"font-mono font-bold",children:S.code})]}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-2",children:"You're a member of this gym community"})]}):a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:"Join a gym community to share notes with your training partners"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",placeholder:"Enter gym code...",value:o,onChange:A=>l(A.target.value.toUpperCase()),onKeyPress:A=>A.key==="Enter"&&j(),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-800 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent","data-testid":"input-gym-code"}),a.jsx("button",{onClick:j,disabled:C.isPending||!o.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed","data-testid":"button-join-gym",children:C.isPending?"Joining...":"Join"})]})]}),(f==null?void 0:f.role)==="admin"&&a.jsxs("button",{onClick:()=>m("/admin"),className:"w-full bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 transition-colors flex items-center justify-center gap-2","data-testid":"button-admin-panel",children:[a.jsx(Od,{className:"w-4 h-4"}),"Manage Gyms (Admin)"]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-md mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"App Settings"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Notifications"}),a.jsx("button",{onClick:p,className:`w-12 h-6 rounded-full relative transition-colors ${s?"bg-green-500":"bg-gray-300 dark:bg-gray-600"}`,children:a.jsx("div",{className:`w-5 h-5 bg-white rounded-full absolute top-0.5 transition-transform ${s?"right-0.5":"left-0.5"}`})})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Auto-sync"}),a.jsx("button",{onClick:b,className:`w-12 h-6 rounded-full relative transition-colors ${r?"bg-green-500":"bg-gray-300 dark:bg-gray-600"}`,children:a.jsx("div",{className:`w-5 h-5 bg-white rounded-full absolute top-0.5 transition-transform ${r?"right-0.5":"left-0.5"}`})})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Dark Mode"}),a.jsx("button",{onClick:w,className:`w-12 h-6 rounded-full relative transition-colors ${u?"bg-green-500":"bg-gray-300 dark:bg-gray-600"}`,children:a.jsx("div",{className:`w-5 h-5 bg-white rounded-full absolute top-0.5 transition-transform ${u?"right-0.5":"left-0.5"}`})})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-md mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"Subscription"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-700",children:"Current Plan"}),a.jsx("span",{className:`text-sm px-2 py-1 rounded ${y?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:x})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Classes Limit"}),a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[Array.isArray(v)?v.length:0," / ",y?"Unlimited":Ki.classes]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Notes Limit"}),a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[Array.isArray(_)?_.length:0," / ",y?"Unlimited":Ki.notes]})]}),!y&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>m("/subscribe"),className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-2 px-4 rounded-lg hover:from-blue-700 hover:to-purple-700 transition-colors",children:"View Plans & Subscribe"}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:"Secure payments via Stripe"})]}),y&&a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(cn,{className:"w-4 h-4 text-green-600"}),a.jsx("span",{className:"text-sm font-medium text-green-800",children:"Premium Active"})]}),a.jsx("p",{className:"text-xs text-green-700 mt-1",children:"You have unlimited access to all features"})]})]})]}),a.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-6 shadow-md mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"Premium Features"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(cn,{className:"w-4 h-4 text-green-600"}),a.jsx("span",{className:"text-gray-700",children:"Unlimited class logging"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(cn,{className:"w-4 h-4 text-green-600"}),a.jsx("span",{className:"text-gray-700",children:"Unlimited notes with sharing"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(cn,{className:"w-4 h-4 text-green-600"}),a.jsx("span",{className:"text-gray-700",children:"Advanced video library"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(cn,{className:"w-4 h-4 text-green-600"}),a.jsx("span",{className:"text-gray-700",children:"Cloud backup & sync"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(cn,{className:"w-4 h-4 text-green-600"}),a.jsx("span",{className:"text-gray-700",children:"Advanced progress analytics"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(cn,{className:"w-4 h-4 text-green-600"}),a.jsx("span",{className:"text-gray-700",children:"Priority support"})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-md mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"Legal & Privacy"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(nr,{href:"/privacy",children:a.jsxs("button",{"data-testid":"button-privacy-policy",className:"w-full text-left text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-white py-2 flex items-center justify-between",children:[a.jsx("span",{children:"Privacy Policy"}),a.jsx("span",{className:"text-gray-400",children:""})]})}),a.jsx(nr,{href:"/terms",children:a.jsxs("button",{"data-testid":"button-terms-of-service",className:"w-full text-left text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-white py-2 flex items-center justify-between",children:[a.jsx("span",{children:"Terms of Service"}),a.jsx("span",{className:"text-gray-400",children:""})]})})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-md mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"Danger Zone"}),a.jsxs(fU,{children:[a.jsx(hU,{asChild:!0,children:a.jsxs("button",{"data-testid":"button-delete-account",className:"w-full bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/30 py-3 px-4 rounded-lg flex items-center justify-center gap-2 font-medium transition-colors",children:[a.jsx(Rf,{className:"w-4 h-4"}),"Delete Account & All Data"]})}),a.jsxs(lP,{className:"bg-white dark:bg-gray-800",children:[a.jsxs(cP,{children:[a.jsx(dP,{className:"text-gray-900 dark:text-white",children:"Are you absolutely sure?"}),a.jsxs(fP,{className:"text-gray-600 dark:text-gray-400",children:["This action cannot be undone. This will permanently delete your account and remove all your data from our servers, including:",a.jsxs("ul",{className:"mt-2 list-disc list-inside space-y-1",children:[a.jsx("li",{children:"All training classes and sessions"}),a.jsx("li",{children:"All notes and technique breakdowns"}),a.jsx("li",{children:"Belt progression history"}),a.jsx("li",{children:"Competition game plans"}),a.jsx("li",{children:"Gym memberships"})]})]})]}),a.jsxs(uP,{children:[a.jsx(mP,{className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white",children:"Cancel"}),a.jsx(hP,{onClick:()=>E.mutate(),disabled:E.isPending,className:"bg-red-600 hover:bg-red-700 text-white",children:E.isPending?"Deleting...":"Yes, delete everything"})]})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-md mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"Support & Feedback"}),a.jsx("div",{className:"space-y-3",children:a.jsxs("button",{onClick:()=>window.location.href="/contact",className:"w-full text-left text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-white py-2 flex items-center justify-between",children:[a.jsx("span",{children:"Contact Support"}),a.jsx("span",{className:"text-gray-400",children:""})]})})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-md",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"App Info"}),a.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Version"}),a.jsx("span",{children:c})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Build"}),a.jsx("span",{children:"2025.01.05"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Developer"}),a.jsx("span",{children:"Jits Journal Team"})]})]})]})]})}const Xt=g.forwardRef(({className:t,type:e,...r},n)=>a.jsx("input",{type:e,className:he("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...r}));Xt.displayName="Input";const Nt=g.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:he("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Nt.displayName="Card";const Pr=g.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:he("flex flex-col space-y-1.5 p-6",t),...e}));Pr.displayName="CardHeader";const Tr=g.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:he("text-2xl font-semibold leading-none tracking-tight",t),...e}));Tr.displayName="CardTitle";const so=g.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:he("text-sm text-muted-foreground",t),...e}));so.displayName="CardDescription";const tr=g.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:he("p-6 pt-0",t),...e}));tr.displayName="CardContent";const gU=g.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:he("flex items-center p-6 pt-0",t),...e}));gU.displayName="CardFooter";const Fy=g.forwardRef(({className:t,...e},r)=>a.jsx("textarea",{className:he("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...e}));Fy.displayName="Textarea";function Ux(t,[e,r]){return Math.min(r,Math.max(e,t))}function yU(t){const e=g.useRef({value:t,previous:t});return g.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var vU="VisuallyHidden",pP=g.forwardRef((t,e)=>a.jsx(Ne.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));pP.displayName=vU;var xU=[" ","Enter","ArrowUp","ArrowDown"],wU=[" ","Enter"],Yc="Select",[Hf,Kf,bU]=dy(Yc),[tl,mq]=ws(Yc,[bU,el]),Gf=el(),[_U,vi]=tl(Yc),[SU,jU]=tl(Yc),gP=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:y}=t,x=Gf(e),[b,w]=g.useState(null),[p,v]=g.useState(null),[_,S]=g.useState(!1),C=fy(u),[j=!1,E]=Ia({prop:n,defaultProp:s,onChange:i}),[A,D]=Ia({prop:o,defaultProp:l,onChange:c}),O=g.useRef(null),I=b?y||!!b.closest("form"):!0,[$,H]=g.useState(new Set),M=Array.from($).map(q=>q.props.value).join(";");return a.jsx(_y,{...x,children:a.jsxs(_U,{required:m,scope:e,trigger:b,onTriggerChange:w,valueNode:p,onValueNodeChange:v,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:Fn(),value:A,onValueChange:D,open:j,onOpenChange:E,dir:C,triggerPointerDownPosRef:O,disabled:h,children:[a.jsx(Hf.Provider,{scope:e,children:a.jsx(SU,{scope:t.__scopeSelect,onNativeOptionAdd:g.useCallback(q=>{H(U=>new Set(U).add(q))},[]),onNativeOptionRemove:g.useCallback(q=>{H(U=>{const P=new Set(U);return P.delete(q),P})},[]),children:r})}),I?a.jsxs(BP,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:A,onChange:q=>D(q.target.value),disabled:h,form:y,children:[A===void 0?a.jsx("option",{value:""}):null,Array.from($)]},M):null]})})};gP.displayName=Yc;var yP="SelectTrigger",vP=g.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...s}=t,i=Gf(r),o=vi(yP,r),l=o.disabled||n,c=Me(e,o.onTriggerChange),u=Kf(r),d=g.useRef("touch"),[f,h,m]=VP(x=>{const b=u().filter(v=>!v.disabled),w=b.find(v=>v.value===o.value),p=zP(b,x,w);p!==void 0&&o.onValueChange(p.value)}),y=x=>{l||(o.onOpenChange(!0),m()),x&&(o.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return a.jsx(Uf,{asChild:!0,...i,children:a.jsx(Ne.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":UP(o.value)?"":void 0,...s,ref:c,onClick:re(s.onClick,x=>{x.currentTarget.focus(),d.current!=="mouse"&&y(x)}),onPointerDown:re(s.onPointerDown,x=>{d.current=x.pointerType;const b=x.target;b.hasPointerCapture(x.pointerId)&&b.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(y(x),x.preventDefault())}),onKeyDown:re(s.onKeyDown,x=>{const b=f.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&h(x.key),!(b&&x.key===" ")&&xU.includes(x.key)&&(y(),x.preventDefault())})})})});vP.displayName=yP;var xP="SelectValue",wP=g.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:o="",...l}=t,c=vi(xP,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=Me(e,c.onValueNodeChange);return sr(()=>{u(d)},[u,d]),a.jsx(Ne.span,{...l,ref:f,style:{pointerEvents:"none"},children:UP(c.value)?a.jsx(a.Fragment,{children:o}):i})});wP.displayName=xP;var kU="SelectIcon",bP=g.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...s}=t;return a.jsx(Ne.span,{"aria-hidden":!0,...s,ref:e,children:n||""})});bP.displayName=kU;var NU="SelectPortal",_P=t=>a.jsx(Hc,{asChild:!0,...t});_P.displayName=NU;var io="SelectContent",SP=g.forwardRef((t,e)=>{const r=vi(io,t.__scopeSelect),[n,s]=g.useState();if(sr(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?Ha.createPortal(a.jsx(jP,{scope:t.__scopeSelect,children:a.jsx(Hf.Slot,{scope:t.__scopeSelect,children:a.jsx("div",{children:t.children})})}),i):null}return a.jsx(kP,{...t,ref:e})});SP.displayName=io;var nn=10,[jP,xi]=tl(io),CU="SelectContentImpl",EU=oi("SelectContent.RemoveScroll"),kP=g.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:y,hideWhenDetached:x,avoidCollisions:b,...w}=t,p=vi(io,r),[v,_]=g.useState(null),[S,C]=g.useState(null),j=Me(e,ie=>_(ie)),[E,A]=g.useState(null),[D,O]=g.useState(null),I=Kf(r),[$,H]=g.useState(!1),M=g.useRef(!1);g.useEffect(()=>{if(v)return Vf(v)},[v]),Mf();const q=g.useCallback(ie=>{const[Le,...Fe]=I().map(Ie=>Ie.ref.current),[Oe]=Fe.slice(-1),Re=document.activeElement;for(const Ie of ie)if(Ie===Re||(Ie==null||Ie.scrollIntoView({block:"nearest"}),Ie===Le&&S&&(S.scrollTop=0),Ie===Oe&&S&&(S.scrollTop=S.scrollHeight),Ie==null||Ie.focus(),document.activeElement!==Re))return},[I,S]),U=g.useCallback(()=>q([E,v]),[q,E,v]);g.useEffect(()=>{$&&U()},[$,U]);const{onOpenChange:P,triggerPointerDownPosRef:L}=p;g.useEffect(()=>{if(v){let ie={x:0,y:0};const Le=Oe=>{var Re,Ie;ie={x:Math.abs(Math.round(Oe.pageX)-(((Re=L.current)==null?void 0:Re.x)??0)),y:Math.abs(Math.round(Oe.pageY)-(((Ie=L.current)==null?void 0:Ie.y)??0))}},Fe=Oe=>{ie.x<=10&&ie.y<=10?Oe.preventDefault():v.contains(Oe.target)||P(!1),document.removeEventListener("pointermove",Le),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",Le),document.addEventListener("pointerup",Fe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Le),document.removeEventListener("pointerup",Fe,{capture:!0})}}},[v,P,L]),g.useEffect(()=>{const ie=()=>P(!1);return window.addEventListener("blur",ie),window.addEventListener("resize",ie),()=>{window.removeEventListener("blur",ie),window.removeEventListener("resize",ie)}},[P]);const[K,ne]=VP(ie=>{const Le=I().filter(Re=>!Re.disabled),Fe=Le.find(Re=>Re.ref.current===document.activeElement),Oe=zP(Le,ie,Fe);Oe&&setTimeout(()=>Oe.ref.current.focus())}),je=g.useCallback((ie,Le,Fe)=>{const Oe=!M.current&&!Fe;(p.value!==void 0&&p.value===Le||Oe)&&(A(ie),Oe&&(M.current=!0))},[p.value]),Pt=g.useCallback(()=>v==null?void 0:v.focus(),[v]),it=g.useCallback((ie,Le,Fe)=>{const Oe=!M.current&&!Fe;(p.value!==void 0&&p.value===Le||Oe)&&O(ie)},[p.value]),Mt=n==="popper"?zp:NP,Xe=Mt===zp?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:y,hideWhenDetached:x,avoidCollisions:b}:{};return a.jsx(jP,{scope:r,content:v,viewport:S,onViewportChange:C,itemRefCallback:je,selectedItem:E,onItemLeave:Pt,itemTextRefCallback:it,focusSelectedItem:U,selectedItemText:D,position:n,isPositioned:$,searchRef:K,children:a.jsx(Kc,{as:EU,allowPinchZoom:!0,children:a.jsx(Wc,{asChild:!0,trapped:p.open,onMountAutoFocus:ie=>{ie.preventDefault()},onUnmountAutoFocus:re(s,ie=>{var Le;(Le=p.trigger)==null||Le.focus({preventScroll:!0}),ie.preventDefault()}),children:a.jsx(zc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ie=>ie.preventDefault(),onDismiss:()=>p.onOpenChange(!1),children:a.jsx(Mt,{role:"listbox",id:p.contentId,"data-state":p.open?"open":"closed",dir:p.dir,onContextMenu:ie=>ie.preventDefault(),...w,...Xe,onPlaced:()=>H(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:re(w.onKeyDown,ie=>{const Le=ie.ctrlKey||ie.altKey||ie.metaKey;if(ie.key==="Tab"&&ie.preventDefault(),!Le&&ie.key.length===1&&ne(ie.key),["ArrowUp","ArrowDown","Home","End"].includes(ie.key)){let Oe=I().filter(Re=>!Re.disabled).map(Re=>Re.ref.current);if(["ArrowUp","End"].includes(ie.key)&&(Oe=Oe.slice().reverse()),["ArrowUp","ArrowDown"].includes(ie.key)){const Re=ie.target,Ie=Oe.indexOf(Re);Oe=Oe.slice(Ie+1)}setTimeout(()=>q(Oe)),ie.preventDefault()}})})})})})})});kP.displayName=CU;var PU="SelectItemAlignedPosition",NP=g.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...s}=t,i=vi(io,r),o=xi(io,r),[l,c]=g.useState(null),[u,d]=g.useState(null),f=Me(e,j=>d(j)),h=Kf(r),m=g.useRef(!1),y=g.useRef(!0),{viewport:x,selectedItem:b,selectedItemText:w,focusSelectedItem:p}=o,v=g.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&x&&b&&w){const j=i.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),A=i.valueNode.getBoundingClientRect(),D=w.getBoundingClientRect();if(i.dir!=="rtl"){const Re=D.left-E.left,Ie=A.left-Re,Ht=j.left-Ie,_r=j.width+Ht,bi=Math.max(_r,E.width),_s=window.innerWidth-nn,Ss=Ux(Ie,[nn,Math.max(nn,_s-bi)]);l.style.minWidth=_r+"px",l.style.left=Ss+"px"}else{const Re=E.right-D.right,Ie=window.innerWidth-A.right-Re,Ht=window.innerWidth-j.right-Ie,_r=j.width+Ht,bi=Math.max(_r,E.width),_s=window.innerWidth-nn,Ss=Ux(Ie,[nn,Math.max(nn,_s-bi)]);l.style.minWidth=_r+"px",l.style.right=Ss+"px"}const O=h(),I=window.innerHeight-nn*2,$=x.scrollHeight,H=window.getComputedStyle(u),M=parseInt(H.borderTopWidth,10),q=parseInt(H.paddingTop,10),U=parseInt(H.borderBottomWidth,10),P=parseInt(H.paddingBottom,10),L=M+q+$+P+U,K=Math.min(b.offsetHeight*5,L),ne=window.getComputedStyle(x),je=parseInt(ne.paddingTop,10),Pt=parseInt(ne.paddingBottom,10),it=j.top+j.height/2-nn,Mt=I-it,Xe=b.offsetHeight/2,ie=b.offsetTop+Xe,Le=M+q+ie,Fe=L-Le;if(Le<=it){const Re=O.length>0&&b===O[O.length-1].ref.current;l.style.bottom="0px";const Ie=u.clientHeight-x.offsetTop-x.offsetHeight,Ht=Math.max(Mt,Xe+(Re?Pt:0)+Ie+U),_r=Le+Ht;l.style.height=_r+"px"}else{const Re=O.length>0&&b===O[0].ref.current;l.style.top="0px";const Ht=Math.max(it,M+x.offsetTop+(Re?je:0)+Xe)+Fe;l.style.height=Ht+"px",x.scrollTop=Le-it+x.offsetTop}l.style.margin=`${nn}px 0`,l.style.minHeight=K+"px",l.style.maxHeight=I+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,i.trigger,i.valueNode,l,u,x,b,w,i.dir,n]);sr(()=>v(),[v]);const[_,S]=g.useState();sr(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const C=g.useCallback(j=>{j&&y.current===!0&&(v(),p==null||p(),y.current=!1)},[v,p]);return a.jsx(AU,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:C,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:a.jsx(Ne.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});NP.displayName=PU;var TU="SelectPopperPosition",zp=g.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=nn,...i}=t,o=Gf(r);return a.jsx(Sy,{...o,...i,ref:e,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});zp.displayName=TU;var[AU,$y]=tl(io,{}),Wp="SelectViewport",CP=g.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...s}=t,i=xi(Wp,r),o=$y(Wp,r),l=Me(e,i.onViewportChange),c=g.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(Hf.Slot,{scope:r,children:a.jsx(Ne.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:re(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const y=window.innerHeight-nn*2,x=parseFloat(f.style.minHeight),b=parseFloat(f.style.height),w=Math.max(x,b);if(w<y){const p=w+m,v=Math.min(y,p),_=p-v;f.style.height=v+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});CP.displayName=Wp;var EP="SelectGroup",[OU,RU]=tl(EP),DU=g.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=Fn();return a.jsx(OU,{scope:r,id:s,children:a.jsx(Ne.div,{role:"group","aria-labelledby":s,...n,ref:e})})});DU.displayName=EP;var PP="SelectLabel",TP=g.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=RU(PP,r);return a.jsx(Ne.div,{id:s.id,...n,ref:e})});TP.displayName=PP;var Vd="SelectItem",[IU,AP]=tl(Vd),OP=g.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...o}=t,l=vi(Vd,r),c=xi(Vd,r),u=l.value===n,[d,f]=g.useState(i??""),[h,m]=g.useState(!1),y=Me(e,p=>{var v;return(v=c.itemRefCallback)==null?void 0:v.call(c,p,n,s)}),x=Fn(),b=g.useRef("touch"),w=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(IU,{scope:r,value:n,disabled:s,textId:x,isSelected:u,onItemTextChange:g.useCallback(p=>{f(v=>v||((p==null?void 0:p.textContent)??"").trim())},[]),children:a.jsx(Hf.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:a.jsx(Ne.div,{role:"option","aria-labelledby":x,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:y,onFocus:re(o.onFocus,()=>m(!0)),onBlur:re(o.onBlur,()=>m(!1)),onClick:re(o.onClick,()=>{b.current!=="mouse"&&w()}),onPointerUp:re(o.onPointerUp,()=>{b.current==="mouse"&&w()}),onPointerDown:re(o.onPointerDown,p=>{b.current=p.pointerType}),onPointerMove:re(o.onPointerMove,p=>{var v;b.current=p.pointerType,s?(v=c.onItemLeave)==null||v.call(c):b.current==="mouse"&&p.currentTarget.focus({preventScroll:!0})}),onPointerLeave:re(o.onPointerLeave,p=>{var v;p.currentTarget===document.activeElement&&((v=c.onItemLeave)==null||v.call(c))}),onKeyDown:re(o.onKeyDown,p=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&p.key===" "||(wU.includes(p.key)&&w(),p.key===" "&&p.preventDefault())})})})})});OP.displayName=Vd;var Nl="SelectItemText",RP=g.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,...i}=t,o=vi(Nl,r),l=xi(Nl,r),c=AP(Nl,r),u=jU(Nl,r),[d,f]=g.useState(null),h=Me(e,w=>f(w),c.onItemTextChange,w=>{var p;return(p=l.itemTextRefCallback)==null?void 0:p.call(l,w,c.value,c.disabled)}),m=d==null?void 0:d.textContent,y=g.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:x,onNativeOptionRemove:b}=u;return sr(()=>(x(y),()=>b(y)),[x,b,y]),a.jsxs(a.Fragment,{children:[a.jsx(Ne.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ha.createPortal(i.children,o.valueNode):null]})});RP.displayName=Nl;var DP="SelectItemIndicator",IP=g.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return AP(DP,r).isSelected?a.jsx(Ne.span,{"aria-hidden":!0,...n,ref:e}):null});IP.displayName=DP;var qp="SelectScrollUpButton",MP=g.forwardRef((t,e)=>{const r=xi(qp,t.__scopeSelect),n=$y(qp,t.__scopeSelect),[s,i]=g.useState(!1),o=Me(e,n.onScrollButtonChange);return sr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(FP,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});MP.displayName=qp;var Hp="SelectScrollDownButton",LP=g.forwardRef((t,e)=>{const r=xi(Hp,t.__scopeSelect),n=$y(Hp,t.__scopeSelect),[s,i]=g.useState(!1),o=Me(e,n.onScrollButtonChange);return sr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(FP,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});LP.displayName=Hp;var FP=g.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=t,i=xi("SelectScrollButton",r),o=g.useRef(null),l=Kf(r),c=g.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return g.useEffect(()=>()=>c(),[c]),sr(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),a.jsx(Ne.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:re(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:re(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:re(s.onPointerLeave,()=>{c()})})}),MU="SelectSeparator",$P=g.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return a.jsx(Ne.div,{"aria-hidden":!0,...n,ref:e})});$P.displayName=MU;var Kp="SelectArrow",LU=g.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=Gf(r),i=vi(Kp,r),o=xi(Kp,r);return i.open&&o.position==="popper"?a.jsx(jy,{...s,...n,ref:e}):null});LU.displayName=Kp;function UP(t){return t===""||t===void 0}var BP=g.forwardRef((t,e)=>{const{value:r,...n}=t,s=g.useRef(null),i=Me(e,s),o=yU(r);return g.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&d){const f=new Event("change",{bubbles:!0});d.call(l,r),l.dispatchEvent(f)}},[o,r]),a.jsx(pP,{asChild:!0,children:a.jsx("select",{...n,ref:i,defaultValue:r})})});BP.displayName="BubbleSelect";function VP(t){const e=Zr(t),r=g.useRef(""),n=g.useRef(0),s=g.useCallback(o=>{const l=r.current+o;e(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),i=g.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function zP(t,e,r){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=r?t.indexOf(r):-1;let o=FU(t,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function FU(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var $U=gP,WP=vP,UU=wP,BU=bP,VU=_P,qP=SP,zU=CP,HP=TP,KP=OP,WU=RP,qU=IP,GP=MP,QP=LP,YP=$P;const Bx=$U,Vx=UU,Gp=g.forwardRef(({className:t,children:e,...r},n)=>a.jsxs(WP,{ref:n,className:he("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,a.jsx(BU,{asChild:!0,children:a.jsx(cy,{className:"h-4 w-4 opacity-50"})})]}));Gp.displayName=WP.displayName;const JP=g.forwardRef(({className:t,...e},r)=>a.jsx(GP,{ref:r,className:he("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(IL,{className:"h-4 w-4"})}));JP.displayName=GP.displayName;const ZP=g.forwardRef(({className:t,...e},r)=>a.jsx(QP,{ref:r,className:he("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(cy,{className:"h-4 w-4"})}));ZP.displayName=QP.displayName;const Qp=g.forwardRef(({className:t,children:e,position:r="popper",...n},s)=>a.jsx(VU,{children:a.jsxs(qP,{ref:s,className:he("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[a.jsx(JP,{}),a.jsx(zU,{className:he("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),a.jsx(ZP,{})]})}));Qp.displayName=qP.displayName;const HU=g.forwardRef(({className:t,...e},r)=>a.jsx(HP,{ref:r,className:he("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));HU.displayName=HP.displayName;const rn=g.forwardRef(({className:t,children:e,...r},n)=>a.jsxs(KP,{ref:n,className:he("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(qU,{children:a.jsx(cn,{className:"h-4 w-4"})})}),a.jsx(WU,{children:e})]}));rn.displayName=KP.displayName;const KU=g.forwardRef(({className:t,...e},r)=>a.jsx(YP,{ref:r,className:he("-mx-1 my-1 h-px bg-muted",t),...e}));KU.displayName=YP.displayName;var Jc=t=>t.type==="checkbox",Li=t=>t instanceof Date,Jt=t=>t==null;const XP=t=>typeof t=="object";var ht=t=>!Jt(t)&&!Array.isArray(t)&&XP(t)&&!Li(t),eT=t=>ht(t)&&t.target?Jc(t.target)?t.target.checked:t.target.value:t,GU=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,tT=(t,e)=>t.has(GU(e)),QU=t=>{const e=t.constructor&&t.constructor.prototype;return ht(e)&&e.hasOwnProperty("isPrototypeOf")},Uy=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Tt(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Uy&&(t instanceof Blob||n))&&(r||ht(t)))if(e=r?[]:{},!r&&!QU(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=Tt(t[s]));else return t;return e}var Qf=t=>Array.isArray(t)?t.filter(Boolean):[],ut=t=>t===void 0,Q=(t,e,r)=>{if(!e||!ht(t))return r;const n=Qf(e.split(/[,[\].]+?/)).reduce((s,i)=>Jt(s)?s:s[i],t);return ut(n)||n===t?ut(t[e])?r:t[e]:n},Nr=t=>typeof t=="boolean",By=t=>/^\w*$/.test(t),rT=t=>Qf(t.replace(/["|']|\]/g,"").split(/\.|\[/)),$e=(t,e,r)=>{let n=-1;const s=By(e)?[e]:rT(e),i=s.length,o=i-1;for(;++n<i;){const l=s[n];let c=r;if(n!==o){const u=t[l];c=ht(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const zd={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},fn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Gn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},nT=fe.createContext(null),Yf=()=>fe.useContext(nT),YU=t=>{const{children:e,...r}=t;return fe.createElement(nT.Provider,{value:r},e)};var sT=(t,e,r,n=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==fn.all&&(e._proxyFormState[o]=!n||fn.all),r&&(r[o]=!0),t[o]}});return s};function JU(t){const e=Yf(),{control:r=e.control,disabled:n,name:s,exact:i}=t||{},[o,l]=fe.useState(r._formState),c=fe.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=fe.useRef(s);return u.current=s,fe.useEffect(()=>r._subscribe({name:u.current,formState:c.current,exact:i,callback:d=>{!n&&l({...r._formState,...d})}}),[r,n,i]),fe.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),fe.useMemo(()=>sT(o,r,c.current,!1),[o,r])}var Dn=t=>typeof t=="string",iT=(t,e,r,n,s)=>Dn(t)?(n&&e.watch.add(t),Q(r,t,s)):Array.isArray(t)?t.map(i=>(n&&e.watch.add(i),Q(r,i))):(n&&(e.watchAll=!0),r);function ZU(t){const e=Yf(),{control:r=e.control,name:n,defaultValue:s,disabled:i,exact:o}=t||{},l=fe.useRef(n),c=fe.useRef(s);l.current=n,fe.useEffect(()=>r._subscribe({name:l.current,formState:{values:!0},exact:o,callback:f=>!i&&d(iT(l.current,r._names,f.values||r._formValues,!1,c.current))}),[r,i,o]);const[u,d]=fe.useState(r._getWatch(n,s));return fe.useEffect(()=>r._removeUnmounted()),u}function XU(t){const e=Yf(),{name:r,disabled:n,control:s=e.control,shouldUnregister:i}=t,o=tT(s._names.array,r),l=ZU({control:s,name:r,defaultValue:Q(s._formValues,r,Q(s._defaultValues,r,t.defaultValue)),exact:!0}),c=JU({control:s,name:r,exact:!0}),u=fe.useRef(t),d=fe.useRef(s.register(r,{...t.rules,value:l,...Nr(t.disabled)?{disabled:t.disabled}:{}})),f=fe.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Q(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!Q(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Q(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Q(c.validatingFields,r)},error:{enumerable:!0,get:()=>Q(c.errors,r)}}),[c,r]),h=fe.useCallback(b=>d.current.onChange({target:{value:eT(b),name:r},type:zd.CHANGE}),[r]),m=fe.useCallback(()=>d.current.onBlur({target:{value:Q(s._formValues,r),name:r},type:zd.BLUR}),[r,s._formValues]),y=fe.useCallback(b=>{const w=Q(s._fields,r);w&&b&&(w._f.ref={focus:()=>b.focus(),select:()=>b.select(),setCustomValidity:p=>b.setCustomValidity(p),reportValidity:()=>b.reportValidity()})},[s._fields,r]),x=fe.useMemo(()=>({name:r,value:l,...Nr(n)||c.disabled?{disabled:c.disabled||n}:{},onChange:h,onBlur:m,ref:y}),[r,n,c.disabled,h,m,y,l]);return fe.useEffect(()=>{const b=s._options.shouldUnregister||i;s.register(r,{...u.current.rules,...Nr(u.current.disabled)?{disabled:u.current.disabled}:{}});const w=(p,v)=>{const _=Q(s._fields,p);_&&_._f&&(_._f.mount=v)};if(w(r,!0),b){const p=Tt(Q(s._options.defaultValues,r));$e(s._defaultValues,r,p),ut(Q(s._formValues,r))&&$e(s._formValues,r,p)}return!o&&s.register(r),()=>{(o?b&&!s._state.action:b)?s.unregister(r):w(r,!1)}},[r,s,o,i]),fe.useEffect(()=>{s._setDisabledField({disabled:n,name:r})},[n,r,s]),fe.useMemo(()=>({field:x,formState:c,fieldState:f}),[x,c,f])}const e8=t=>t.render(XU(t));var oT=(t,e,r,n,s)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:s||!0}}:{},Bl=t=>Array.isArray(t)?t:[t],zx=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},Yp=t=>Jt(t)||!XP(t);function Fs(t,e){if(Yp(t)||Yp(e))return t===e;if(Li(t)&&Li(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const s of r){const i=t[s];if(!n.includes(s))return!1;if(s!=="ref"){const o=e[s];if(Li(i)&&Li(o)||ht(i)&&ht(o)||Array.isArray(i)&&Array.isArray(o)?!Fs(i,o):i!==o)return!1}}return!0}var Qt=t=>ht(t)&&!Object.keys(t).length,Vy=t=>t.type==="file",hn=t=>typeof t=="function",Wd=t=>{if(!Uy)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},aT=t=>t.type==="select-multiple",zy=t=>t.type==="radio",t8=t=>zy(t)||Jc(t),rm=t=>Wd(t)&&t.isConnected;function r8(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=ut(t)?n++:t[e[n++]];return t}function n8(t){for(const e in t)if(t.hasOwnProperty(e)&&!ut(t[e]))return!1;return!0}function xt(t,e){const r=Array.isArray(e)?e:By(e)?[e]:rT(e),n=r.length===1?t:r8(t,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(ht(n)&&Qt(n)||Array.isArray(n)&&n8(n))&&xt(t,r.slice(0,-1)),t}var lT=t=>{for(const e in t)if(hn(t[e]))return!0;return!1};function qd(t,e={}){const r=Array.isArray(t);if(ht(t)||r)for(const n in t)Array.isArray(t[n])||ht(t[n])&&!lT(t[n])?(e[n]=Array.isArray(t[n])?[]:{},qd(t[n],e[n])):Jt(t[n])||(e[n]=!0);return e}function cT(t,e,r){const n=Array.isArray(t);if(ht(t)||n)for(const s in t)Array.isArray(t[s])||ht(t[s])&&!lT(t[s])?ut(e)||Yp(r[s])?r[s]=Array.isArray(t[s])?qd(t[s],[]):{...qd(t[s])}:cT(t[s],Jt(e)?{}:e[s],r[s]):r[s]=!Fs(t[s],e[s]);return r}var ml=(t,e)=>cT(t,e,qd(e));const Wx={value:!1,isValid:!1},qx={value:!0,isValid:!0};var uT=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!ut(t[0].attributes.value)?ut(t[0].value)||t[0].value===""?qx:{value:t[0].value,isValid:!0}:qx:Wx}return Wx},dT=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>ut(t)?t:e?t===""?NaN:t&&+t:r&&Dn(t)?new Date(t):n?n(t):t;const Hx={isValid:!1,value:null};var fT=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,Hx):Hx;function Kx(t){const e=t.ref;return Vy(e)?e.files:zy(e)?fT(t.refs).value:aT(e)?[...e.selectedOptions].map(({value:r})=>r):Jc(e)?uT(t.refs).value:dT(ut(e.value)?t.ref.value:e.value,t)}var s8=(t,e,r,n)=>{const s={};for(const i of t){const o=Q(e,i);o&&$e(s,i,o._f)}return{criteriaMode:r,names:[...t],fields:s,shouldUseNativeValidation:n}},Hd=t=>t instanceof RegExp,pl=t=>ut(t)?t:Hd(t)?t.source:ht(t)?Hd(t.value)?t.value.source:t.value:t,Gx=t=>({isOnSubmit:!t||t===fn.onSubmit,isOnBlur:t===fn.onBlur,isOnChange:t===fn.onChange,isOnAll:t===fn.all,isOnTouch:t===fn.onTouched});const Qx="AsyncFunction";var i8=t=>!!t&&!!t.validate&&!!(hn(t.validate)&&t.validate.constructor.name===Qx||ht(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Qx)),o8=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Yx=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const Vl=(t,e,r,n)=>{for(const s of r||Object.keys(t)){const i=Q(t,s);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!n)return!0;if(o.ref&&e(o.ref,o.name)&&!n)return!0;if(Vl(l,e))break}else if(ht(l)&&Vl(l,e))break}}};function Jx(t,e,r){const n=Q(t,r);if(n||By(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),o=Q(e,i),l=Q(t,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};s.pop()}return{name:r}}var a8=(t,e,r,n)=>{r(t);const{name:s,...i}=t;return Qt(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!n||fn.all))},l8=(t,e,r)=>!t||!e||t===e||Bl(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),c8=(t,e,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(e||t):(r?n.isOnBlur:s.isOnBlur)?!t:(r?n.isOnChange:s.isOnChange)?t:!0,u8=(t,e)=>!Qf(Q(t,e)).length&&xt(t,e),d8=(t,e,r)=>{const n=Bl(Q(t,r));return $e(n,"root",e[r]),$e(t,r,n),t},ed=t=>Dn(t);function Zx(t,e,r="validate"){if(ed(t)||Array.isArray(t)&&t.every(ed)||Nr(t)&&!t)return{type:r,message:ed(t)?t:"",ref:e}}var Eo=t=>ht(t)&&!Hd(t)?t:{value:t,message:""},Xx=async(t,e,r,n,s,i)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:m,validate:y,name:x,valueAsNumber:b,mount:w}=t._f,p=Q(r,x);if(!w||e.has(x))return{};const v=l?l[0]:o,_=I=>{s&&v.reportValidity&&(v.setCustomValidity(Nr(I)?"":I||""),v.reportValidity())},S={},C=zy(o),j=Jc(o),E=C||j,A=(b||Vy(o))&&ut(o.value)&&ut(p)||Wd(o)&&o.value===""||p===""||Array.isArray(p)&&!p.length,D=oT.bind(null,x,n,S),O=(I,$,H,M=Gn.maxLength,q=Gn.minLength)=>{const U=I?$:H;S[x]={type:I?M:q,message:U,ref:o,...D(I?M:q,U)}};if(i?!Array.isArray(p)||!p.length:c&&(!E&&(A||Jt(p))||Nr(p)&&!p||j&&!uT(l).isValid||C&&!fT(l).isValid)){const{value:I,message:$}=ed(c)?{value:!!c,message:c}:Eo(c);if(I&&(S[x]={type:Gn.required,message:$,ref:v,...D(Gn.required,$)},!n))return _($),S}if(!A&&(!Jt(f)||!Jt(h))){let I,$;const H=Eo(h),M=Eo(f);if(!Jt(p)&&!isNaN(p)){const q=o.valueAsNumber||p&&+p;Jt(H.value)||(I=q>H.value),Jt(M.value)||($=q<M.value)}else{const q=o.valueAsDate||new Date(p),U=K=>new Date(new Date().toDateString()+" "+K),P=o.type=="time",L=o.type=="week";Dn(H.value)&&p&&(I=P?U(p)>U(H.value):L?p>H.value:q>new Date(H.value)),Dn(M.value)&&p&&($=P?U(p)<U(M.value):L?p<M.value:q<new Date(M.value))}if((I||$)&&(O(!!I,H.message,M.message,Gn.max,Gn.min),!n))return _(S[x].message),S}if((u||d)&&!A&&(Dn(p)||i&&Array.isArray(p))){const I=Eo(u),$=Eo(d),H=!Jt(I.value)&&p.length>+I.value,M=!Jt($.value)&&p.length<+$.value;if((H||M)&&(O(H,I.message,$.message),!n))return _(S[x].message),S}if(m&&!A&&Dn(p)){const{value:I,message:$}=Eo(m);if(Hd(I)&&!p.match(I)&&(S[x]={type:Gn.pattern,message:$,ref:o,...D(Gn.pattern,$)},!n))return _($),S}if(y){if(hn(y)){const I=await y(p,r),$=Zx(I,v);if($&&(S[x]={...$,...D(Gn.validate,$.message)},!n))return _($.message),S}else if(ht(y)){let I={};for(const $ in y){if(!Qt(I)&&!n)break;const H=Zx(await y[$](p,r),v,$);H&&(I={...H,...D($,H.message)},_(H.message),n&&(S[x]=I))}if(!Qt(I)&&(S[x]={ref:v,...I},!n))return S}}return _(!0),S};const f8={mode:fn.onSubmit,reValidateMode:fn.onChange,shouldFocusError:!0};function h8(t={}){let e={...f8,...t},r={submitCount:0,isDirty:!1,isLoading:hn(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const n={};let s=ht(e.defaultValues)||ht(e.values)?Tt(e.values||e.defaultValues)||{}:{},i=e.shouldUnregister?{}:Tt(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:zx(),state:zx()},m=Gx(e.mode),y=Gx(e.reValidateMode),x=e.criteriaMode===fn.all,b=k=>R=>{clearTimeout(u),u=setTimeout(k,R)},w=async k=>{if(!e.disabled&&(d.isValid||f.isValid||k)){const R=e.resolver?Qt((await A()).errors):await O(n,!0);R!==r.isValid&&h.state.next({isValid:R})}},p=(k,R)=>{!e.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((k||Array.from(l.mount)).forEach(F=>{F&&(R?$e(r.validatingFields,F,R):xt(r.validatingFields,F))}),h.state.next({validatingFields:r.validatingFields,isValidating:!Qt(r.validatingFields)}))},v=(k,R=[],F,X,G=!0,W=!0)=>{if(X&&F&&!e.disabled){if(o.action=!0,W&&Array.isArray(Q(n,k))){const te=F(Q(n,k),X.argA,X.argB);G&&$e(n,k,te)}if(W&&Array.isArray(Q(r.errors,k))){const te=F(Q(r.errors,k),X.argA,X.argB);G&&$e(r.errors,k,te),u8(r.errors,k)}if((d.touchedFields||f.touchedFields)&&W&&Array.isArray(Q(r.touchedFields,k))){const te=F(Q(r.touchedFields,k),X.argA,X.argB);G&&$e(r.touchedFields,k,te)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=ml(s,i)),h.state.next({name:k,isDirty:$(k,R),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else $e(i,k,R)},_=(k,R)=>{$e(r.errors,k,R),h.state.next({errors:r.errors})},S=k=>{r.errors=k,h.state.next({errors:r.errors,isValid:!1})},C=(k,R,F,X)=>{const G=Q(n,k);if(G){const W=Q(i,k,ut(F)?Q(s,k):F);ut(W)||X&&X.defaultChecked||R?$e(i,k,R?W:Kx(G._f)):q(k,W),o.mount&&w()}},j=(k,R,F,X,G)=>{let W=!1,te=!1;const De={name:k};if(!e.disabled){if(!F||X){(d.isDirty||f.isDirty)&&(te=r.isDirty,r.isDirty=De.isDirty=$(),W=te!==De.isDirty);const mt=Fs(Q(s,k),R);te=!!Q(r.dirtyFields,k),mt?xt(r.dirtyFields,k):$e(r.dirtyFields,k,!0),De.dirtyFields=r.dirtyFields,W=W||(d.dirtyFields||f.dirtyFields)&&te!==!mt}if(F){const mt=Q(r.touchedFields,k);mt||($e(r.touchedFields,k,F),De.touchedFields=r.touchedFields,W=W||(d.touchedFields||f.touchedFields)&&mt!==F)}W&&G&&h.state.next(De)}return W?De:{}},E=(k,R,F,X)=>{const G=Q(r.errors,k),W=(d.isValid||f.isValid)&&Nr(R)&&r.isValid!==R;if(e.delayError&&F?(c=b(()=>_(k,F)),c(e.delayError)):(clearTimeout(u),c=null,F?$e(r.errors,k,F):xt(r.errors,k)),(F?!Fs(G,F):G)||!Qt(X)||W){const te={...X,...W&&Nr(R)?{isValid:R}:{},errors:r.errors,name:k};r={...r,...te},h.state.next(te)}},A=async k=>{p(k,!0);const R=await e.resolver(i,e.context,s8(k||l.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return p(k),R},D=async k=>{const{errors:R}=await A(k);if(k)for(const F of k){const X=Q(R,F);X?$e(r.errors,F,X):xt(r.errors,F)}else r.errors=R;return R},O=async(k,R,F={valid:!0})=>{for(const X in k){const G=k[X];if(G){const{_f:W,...te}=G;if(W){const De=l.array.has(W.name),mt=G._f&&i8(G._f);mt&&d.validatingFields&&p([X],!0);const Lt=await Xx(G,l.disabled,i,x,e.shouldUseNativeValidation&&!R,De);if(mt&&d.validatingFields&&p([X]),Lt[W.name]&&(F.valid=!1,R))break;!R&&(Q(Lt,W.name)?De?d8(r.errors,Lt,W.name):$e(r.errors,W.name,Lt[W.name]):xt(r.errors,W.name))}!Qt(te)&&await O(te,R,F)}}return F.valid},I=()=>{for(const k of l.unMount){const R=Q(n,k);R&&(R._f.refs?R._f.refs.every(F=>!rm(F)):!rm(R._f.ref))&&Fe(k)}l.unMount=new Set},$=(k,R)=>!e.disabled&&(k&&R&&$e(i,k,R),!Fs(je(),s)),H=(k,R,F)=>iT(k,l,{...o.mount?i:ut(R)?s:Dn(k)?{[k]:R}:R},F,R),M=k=>Qf(Q(o.mount?i:s,k,e.shouldUnregister?Q(s,k,[]):[])),q=(k,R,F={})=>{const X=Q(n,k);let G=R;if(X){const W=X._f;W&&(!W.disabled&&$e(i,k,dT(R,W)),G=Wd(W.ref)&&Jt(R)?"":R,aT(W.ref)?[...W.ref.options].forEach(te=>te.selected=G.includes(te.value)):W.refs?Jc(W.ref)?W.refs.length>1?W.refs.forEach(te=>(!te.defaultChecked||!te.disabled)&&(te.checked=Array.isArray(G)?!!G.find(De=>De===te.value):G===te.value)):W.refs[0]&&(W.refs[0].checked=!!G):W.refs.forEach(te=>te.checked=te.value===G):Vy(W.ref)?W.ref.value="":(W.ref.value=G,W.ref.type||h.state.next({name:k,values:Tt(i)})))}(F.shouldDirty||F.shouldTouch)&&j(k,G,F.shouldTouch,F.shouldDirty,!0),F.shouldValidate&&ne(k)},U=(k,R,F)=>{for(const X in R){const G=R[X],W=`${k}.${X}`,te=Q(n,W);(l.array.has(k)||ht(G)||te&&!te._f)&&!Li(G)?U(W,G,F):q(W,G,F)}},P=(k,R,F={})=>{const X=Q(n,k),G=l.array.has(k),W=Tt(R);$e(i,k,W),G?(h.array.next({name:k,values:Tt(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&F.shouldDirty&&h.state.next({name:k,dirtyFields:ml(s,i),isDirty:$(k,W)})):X&&!X._f&&!Jt(W)?U(k,W,F):q(k,W,F),Yx(k,l)&&h.state.next({...r}),h.state.next({name:o.mount?k:void 0,values:Tt(i)})},L=async k=>{o.mount=!0;const R=k.target;let F=R.name,X=!0;const G=Q(n,F),W=te=>{X=Number.isNaN(te)||Li(te)&&isNaN(te.getTime())||Fs(te,Q(i,F,te))};if(G){let te,De;const mt=R.type?Kx(G._f):eT(k),Lt=k.type===zd.BLUR||k.type===zd.FOCUS_OUT,HA=!o8(G._f)&&!e.resolver&&!Q(r.errors,F)&&!G._f.deps||c8(Lt,Q(r.touchedFields,F),r.isSubmitted,y,m),rh=Yx(F,l,Lt);$e(i,F,mt),Lt?(G._f.onBlur&&G._f.onBlur(k),c&&c(0)):G._f.onChange&&G._f.onChange(k);const nh=j(F,mt,Lt),KA=!Qt(nh)||rh;if(!Lt&&h.state.next({name:F,type:k.type,values:Tt(i)}),HA)return(d.isValid||f.isValid)&&(e.mode==="onBlur"?Lt&&w():Lt||w()),KA&&h.state.next({name:F,...rh?{}:nh});if(!Lt&&rh&&h.state.next({...r}),e.resolver){const{errors:hv}=await A([F]);if(W(mt),X){const GA=Jx(r.errors,n,F),mv=Jx(hv,n,GA.name||F);te=mv.error,F=mv.name,De=Qt(hv)}}else p([F],!0),te=(await Xx(G,l.disabled,i,x,e.shouldUseNativeValidation))[F],p([F]),W(mt),X&&(te?De=!1:(d.isValid||f.isValid)&&(De=await O(n,!0)));X&&(G._f.deps&&ne(G._f.deps),E(F,De,te,nh))}},K=(k,R)=>{if(Q(r.errors,R)&&k.focus)return k.focus(),1},ne=async(k,R={})=>{let F,X;const G=Bl(k);if(e.resolver){const W=await D(ut(k)?k:G);F=Qt(W),X=k?!G.some(te=>Q(W,te)):F}else k?(X=(await Promise.all(G.map(async W=>{const te=Q(n,W);return await O(te&&te._f?{[W]:te}:te)}))).every(Boolean),!(!X&&!r.isValid)&&w()):X=F=await O(n);return h.state.next({...!Dn(k)||(d.isValid||f.isValid)&&F!==r.isValid?{}:{name:k},...e.resolver||!k?{isValid:F}:{},errors:r.errors}),R.shouldFocus&&!X&&Vl(n,K,k?G:l.mount),X},je=k=>{const R={...o.mount?i:s};return ut(k)?R:Dn(k)?Q(R,k):k.map(F=>Q(R,F))},Pt=(k,R)=>({invalid:!!Q((R||r).errors,k),isDirty:!!Q((R||r).dirtyFields,k),error:Q((R||r).errors,k),isValidating:!!Q(r.validatingFields,k),isTouched:!!Q((R||r).touchedFields,k)}),it=k=>{k&&Bl(k).forEach(R=>xt(r.errors,R)),h.state.next({errors:k?r.errors:{}})},Mt=(k,R,F)=>{const X=(Q(n,k,{_f:{}})._f||{}).ref,G=Q(r.errors,k)||{},{ref:W,message:te,type:De,...mt}=G;$e(r.errors,k,{...mt,...R,ref:X}),h.state.next({name:k,errors:r.errors,isValid:!1}),F&&F.shouldFocus&&X&&X.focus&&X.focus()},Xe=(k,R)=>hn(k)?h.state.subscribe({next:F=>k(H(void 0,R),F)}):H(k,R,!0),ie=k=>h.state.subscribe({next:R=>{l8(k.name,R.name,k.exact)&&a8(R,k.formState||d,yo,k.reRenderRoot)&&k.callback({values:{...i},...r,...R})}}).unsubscribe,Le=k=>(o.mount=!0,f={...f,...k.formState},ie({...k,formState:f})),Fe=(k,R={})=>{for(const F of k?Bl(k):l.mount)l.mount.delete(F),l.array.delete(F),R.keepValue||(xt(n,F),xt(i,F)),!R.keepError&&xt(r.errors,F),!R.keepDirty&&xt(r.dirtyFields,F),!R.keepTouched&&xt(r.touchedFields,F),!R.keepIsValidating&&xt(r.validatingFields,F),!e.shouldUnregister&&!R.keepDefaultValue&&xt(s,F);h.state.next({values:Tt(i)}),h.state.next({...r,...R.keepDirty?{isDirty:$()}:{}}),!R.keepIsValid&&w()},Oe=({disabled:k,name:R})=>{(Nr(k)&&o.mount||k||l.disabled.has(R))&&(k?l.disabled.add(R):l.disabled.delete(R))},Re=(k,R={})=>{let F=Q(n,k);const X=Nr(R.disabled)||Nr(e.disabled);return $e(n,k,{...F||{},_f:{...F&&F._f?F._f:{ref:{name:k}},name:k,mount:!0,...R}}),l.mount.add(k),F?Oe({disabled:Nr(R.disabled)?R.disabled:e.disabled,name:k}):C(k,!0,R.value),{...X?{disabled:R.disabled||e.disabled}:{},...e.progressive?{required:!!R.required,min:pl(R.min),max:pl(R.max),minLength:pl(R.minLength),maxLength:pl(R.maxLength),pattern:pl(R.pattern)}:{},name:k,onChange:L,onBlur:L,ref:G=>{if(G){Re(k,R),F=Q(n,k);const W=ut(G.value)&&G.querySelectorAll&&G.querySelectorAll("input,select,textarea")[0]||G,te=t8(W),De=F._f.refs||[];if(te?De.find(mt=>mt===W):W===F._f.ref)return;$e(n,k,{_f:{...F._f,...te?{refs:[...De.filter(rm),W,...Array.isArray(Q(s,k))?[{}]:[]],ref:{type:W.type,name:k}}:{ref:W}}}),C(k,!1,void 0,W)}else F=Q(n,k,{}),F._f&&(F._f.mount=!1),(e.shouldUnregister||R.shouldUnregister)&&!(tT(l.array,k)&&o.action)&&l.unMount.add(k)}}},Ie=()=>e.shouldFocusError&&Vl(n,K,l.mount),Ht=k=>{Nr(k)&&(h.state.next({disabled:k}),Vl(n,(R,F)=>{const X=Q(n,F);X&&(R.disabled=X._f.disabled||k,Array.isArray(X._f.refs)&&X._f.refs.forEach(G=>{G.disabled=X._f.disabled||k}))},0,!1))},_r=(k,R)=>async F=>{let X;F&&(F.preventDefault&&F.preventDefault(),F.persist&&F.persist());let G=Tt(i);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:W,values:te}=await A();r.errors=W,G=te}else await O(n);if(l.disabled.size)for(const W of l.disabled)$e(G,W,void 0);if(xt(r.errors,"root"),Qt(r.errors)){h.state.next({errors:{}});try{await k(G,F)}catch(W){X=W}}else R&&await R({...r.errors},F),Ie(),setTimeout(Ie);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Qt(r.errors)&&!X,submitCount:r.submitCount+1,errors:r.errors}),X)throw X},bi=(k,R={})=>{Q(n,k)&&(ut(R.defaultValue)?P(k,Tt(Q(s,k))):(P(k,R.defaultValue),$e(s,k,Tt(R.defaultValue))),R.keepTouched||xt(r.touchedFields,k),R.keepDirty||(xt(r.dirtyFields,k),r.isDirty=R.defaultValue?$(k,Tt(Q(s,k))):$()),R.keepError||(xt(r.errors,k),d.isValid&&w()),h.state.next({...r}))},_s=(k,R={})=>{const F=k?Tt(k):s,X=Tt(F),G=Qt(k),W=G?s:X;if(R.keepDefaultValues||(s=F),!R.keepValues){if(R.keepDirtyValues){const te=new Set([...l.mount,...Object.keys(ml(s,i))]);for(const De of Array.from(te))Q(r.dirtyFields,De)?$e(W,De,Q(i,De)):P(De,Q(W,De))}else{if(Uy&&ut(k))for(const te of l.mount){const De=Q(n,te);if(De&&De._f){const mt=Array.isArray(De._f.refs)?De._f.refs[0]:De._f.ref;if(Wd(mt)){const Lt=mt.closest("form");if(Lt){Lt.reset();break}}}}for(const te of l.mount)P(te,Q(W,te))}i=Tt(W),h.array.next({values:{...W}}),h.state.next({values:{...W}})}l={mount:R.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!R.keepIsValid||!!R.keepDirtyValues,o.watch=!!e.shouldUnregister,h.state.next({submitCount:R.keepSubmitCount?r.submitCount:0,isDirty:G?!1:R.keepDirty?r.isDirty:!!(R.keepDefaultValues&&!Fs(k,s)),isSubmitted:R.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:G?{}:R.keepDirtyValues?R.keepDefaultValues&&i?ml(s,i):r.dirtyFields:R.keepDefaultValues&&k?ml(s,k):R.keepDirty?r.dirtyFields:{},touchedFields:R.keepTouched?r.touchedFields:{},errors:R.keepErrors?r.errors:{},isSubmitSuccessful:R.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Ss=(k,R)=>_s(hn(k)?k(i):k,R),th=(k,R={})=>{const F=Q(n,k),X=F&&F._f;if(X){const G=X.refs?X.refs[0]:X.ref;G.focus&&(G.focus(),R.shouldSelect&&hn(G.select)&&G.select())}},yo=k=>{r={...r,...k}},fv={control:{register:Re,unregister:Fe,getFieldState:Pt,handleSubmit:_r,setError:Mt,_subscribe:ie,_runSchema:A,_getWatch:H,_getDirty:$,_setValid:w,_setFieldArray:v,_setDisabledField:Oe,_setErrors:S,_getFieldArray:M,_reset:_s,_resetDefaultValues:()=>hn(e.defaultValues)&&e.defaultValues().then(k=>{Ss(k,e.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:I,_disableForm:Ht,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(k){o=k},get _defaultValues(){return s},get _names(){return l},set _names(k){l=k},get _formState(){return r},get _options(){return e},set _options(k){e={...e,...k}}},subscribe:Le,trigger:ne,register:Re,handleSubmit:_r,watch:Xe,setValue:P,getValues:je,reset:Ss,resetField:bi,clearErrors:it,unregister:Fe,setError:Mt,setFocus:th,getFieldState:Pt};return{...fv,formControl:fv}}function Kd(t={}){const e=fe.useRef(void 0),r=fe.useRef(void 0),[n,s]=fe.useState({isDirty:!1,isValidating:!1,isLoading:hn(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:hn(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:h8(t),formState:n},t.formControl&&t.defaultValues&&!hn(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const i=e.current.control;return i._options=t,fe.useLayoutEffect(()=>i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0}),[i]),fe.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),fe.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),fe.useEffect(()=>{t.values&&!Fs(t.values,r.current)?(i._reset(t.values,i._options.resetOptions),r.current=t.values,s(o=>({...o}))):i._resetDefaultValues()},[t.values,i]),fe.useEffect(()=>{t.errors&&!Qt(t.errors)&&i._setErrors(t.errors)},[t.errors,i]),fe.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),fe.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[t.shouldUnregister,i]),e.current.formState=sT(n,i),e.current}const ew=(t,e,r)=>{if(t&&"reportValidity"in t){const n=Q(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},hT=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?ew(n.ref,r,t):n.refs&&n.refs.forEach(s=>ew(s,r,t))}},m8=(t,e)=>{e.shouldUseNativeValidation&&hT(t,e);const r={};for(const n in t){const s=Q(e.fields,n),i=Object.assign(t[n]||{},{ref:s&&s.ref});if(p8(e.names||Object.keys(t),n)){const o=Object.assign({},Q(r,n));$e(o,"root",i),$e(r,n,o)}else $e(r,n,i)}return r},p8=(t,e)=>t.some(r=>r.startsWith(e+"."));var g8=function(t,e){for(var r={};t.length;){var n=t[0],s=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return t.push(f)})}),e){var c=r[o].types,u=c&&c[n.code];r[o]=oT(o,e,r,s,u?[].concat(u,n.message):n.message)}t.shift()}return r},Gd=function(t,e,r){return r===void 0&&(r={}),function(n,s,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(u){return i.shouldUseNativeValidation&&hT({},i),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:m8(g8(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}};const B=Symbol.for("drizzle:entityKind");function Ot(t,e){if(!t||typeof t!="object")return!1;if(t instanceof e)return!0;if(!Object.prototype.hasOwnProperty.call(e,B))throw new Error(`Class "${e.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let r=Object.getPrototypeOf(t).constructor;if(r)for(;r;){if(B in r&&r[B]===e[B])return!0;r=Object.getPrototypeOf(r)}return!1}var Aw;Aw=B;class La{constructor(e,r){T(this,"name");T(this,"keyAsName");T(this,"primary");T(this,"notNull");T(this,"default");T(this,"defaultFn");T(this,"onUpdateFn");T(this,"hasDefault");T(this,"isUnique");T(this,"uniqueName");T(this,"uniqueType");T(this,"dataType");T(this,"columnType");T(this,"enumValues");T(this,"generated");T(this,"generatedIdentity");T(this,"config");this.table=e,this.config=r,this.name=r.name,this.keyAsName=r.keyAsName,this.notNull=r.notNull,this.default=r.default,this.defaultFn=r.defaultFn,this.onUpdateFn=r.onUpdateFn,this.hasDefault=r.hasDefault,this.primary=r.primaryKey,this.isUnique=r.isUnique,this.uniqueName=r.uniqueName,this.uniqueType=r.uniqueType,this.dataType=r.dataType,this.columnType=r.columnType,this.generated=r.generated,this.generatedIdentity=r.generatedIdentity}mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}T(La,Aw,"Column");var Ow;Ow=B;class mT{constructor(e,r,n){T(this,"config");T(this,"$default",this.$defaultFn);T(this,"$onUpdate",this.$onUpdateFn);this.config={name:e,keyAsName:e==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:r,columnType:n,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){this.config.name===""&&(this.config.name=e)}}T(mT,Ow,"ColumnBuilder");const ca=Symbol.for("drizzle:Name");var Rw;Rw=B;class pT{constructor(e,r){T(this,"reference");T(this,"_onUpdate","no action");T(this,"_onDelete","no action");this.reference=()=>{const{name:n,columns:s,foreignColumns:i}=e();return{name:n,columns:s,foreignTable:i[0].table,foreignColumns:i}},r&&(this._onUpdate=r.onUpdate,this._onDelete=r.onDelete)}onUpdate(e){return this._onUpdate=e===void 0?"no action":e,this}onDelete(e){return this._onDelete=e===void 0?"no action":e,this}build(e){return new gT(e,this)}}T(pT,Rw,"PgForeignKeyBuilder");var Dw;Dw=B;class gT{constructor(e,r){T(this,"reference");T(this,"onUpdate");T(this,"onDelete");this.table=e,this.reference=r.reference,this.onUpdate=r._onUpdate,this.onDelete=r._onDelete}getName(){const{name:e,columns:r,foreignColumns:n}=this.reference(),s=r.map(l=>l.name),i=n.map(l=>l.name),o=[this.table[ca],...s,n[0].table[ca],...i];return e??`${o.join("_")}_fk`}}T(gT,Dw,"PgForeignKey");function y8(t,...e){return t(...e)}function v8(t,e){return`${t[ca]}_${e.join("_")}_unique`}function tw(t,e,r){for(let n=e;n<t.length;n++){const s=t[n];if(s==="\\"){n++;continue}if(s==='"')return[t.slice(e,n).replace(/\\/g,""),n+1];if(!r&&(s===","||s==="}"))return[t.slice(e,n).replace(/\\/g,""),n]}return[t.slice(e).replace(/\\/g,""),t.length]}function yT(t,e=0){const r=[];let n=e,s=!1;for(;n<t.length;){const i=t[n];if(i===","){(s||n===e)&&r.push(""),s=!0,n++;continue}if(s=!1,i==="\\"){n+=2;continue}if(i==='"'){const[c,u]=tw(t,n+1,!0);r.push(c),n=u;continue}if(i==="}")return[r,n+1];if(i==="{"){const[c,u]=yT(t,n+1);r.push(c),n=u;continue}const[o,l]=tw(t,n,!1);r.push(o),n=l}return[r,n]}function x8(t){const[e]=yT(t,1);return e}function vT(t){return`{${t.map(e=>Array.isArray(e)?vT(e):typeof e=="string"?`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${e}`).join(",")}}`}var Iw,Mw;class Pe extends(Mw=mT,Iw=B,Mw){constructor(){super(...arguments);T(this,"foreignKeyConfigs",[])}array(r){return new wT(this.config.name,this,r)}references(r,n={}){return this.foreignKeyConfigs.push({ref:r,actions:n}),this}unique(r,n){return this.config.isUnique=!0,this.config.uniqueName=r,this.config.uniqueType=n==null?void 0:n.nulls,this}generatedAlwaysAs(r){return this.config.generated={as:r,type:"always",mode:"stored"},this}buildForeignKeys(r,n){return this.foreignKeyConfigs.map(({ref:s,actions:i})=>y8((o,l)=>{const c=new pT(()=>{const u=o();return{columns:[r],foreignColumns:[u]}});return l.onUpdate&&c.onUpdate(l.onUpdate),l.onDelete&&c.onDelete(l.onDelete),c.build(n)},s,i))}buildExtraConfigColumn(r){return new xT(r,this.config)}}T(Pe,Iw,"PgColumnBuilder");var Lw,Fw;class ye extends(Fw=La,Lw=B,Fw){constructor(e,r){r.uniqueName||(r.uniqueName=v8(e,[r.name])),super(e,r),this.table=e}}T(ye,Lw,"PgColumn");var $w,Uw;class xT extends(Uw=ye,$w=B,Uw){constructor(){super(...arguments);T(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});T(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(r){return this.indexConfig.opClass=r,this}}T(xT,$w,"ExtraConfigColumn");var Bw,Vw;class wT extends(Vw=Pe,Bw=B,Vw){constructor(e,r,n){super(e,"array","PgArray"),this.config.baseBuilder=r,this.config.size=n}build(e){const r=this.config.baseBuilder.build(e);return new Jp(e,this.config,r)}}T(wT,Bw,"PgArrayBuilder");var zw,Ww;const cf=class cf extends(Ww=ye,zw=B,Ww){constructor(r,n,s,i){super(r,n);T(this,"size");this.baseColumn=s,this.range=i,this.size=n.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(r){return typeof r=="string"&&(r=x8(r)),r.map(n=>this.baseColumn.mapFromDriverValue(n))}mapToDriverValue(r,n=!1){const s=r.map(i=>i===null?null:Ot(this.baseColumn,cf)?this.baseColumn.mapToDriverValue(i,!0):this.baseColumn.mapToDriverValue(i));return n?s:vT(s)}};T(cf,zw,"PgArray");let Jp=cf;const rw=Symbol.for("drizzle:isPgEnum");function w8(t){return!!t&&typeof t=="function"&&rw in t&&t[rw]===!0}var qw;qw=B;class Wy{constructor(e,r,n,s=!1){this._={brand:"Subquery",sql:e,selectedFields:r,alias:n,isWith:s}}}T(Wy,qw,"Subquery");const b8={startActiveSpan(t,e){return e()}},ua=Symbol.for("drizzle:ViewBaseConfig"),nm=Symbol.for("drizzle:Schema"),nw=Symbol.for("drizzle:Columns"),sw=Symbol.for("drizzle:ExtraConfigColumns"),sm=Symbol.for("drizzle:OriginalName"),im=Symbol.for("drizzle:BaseName"),Qd=Symbol.for("drizzle:IsAlias"),iw=Symbol.for("drizzle:ExtraConfigBuilder"),bT=Symbol.for("drizzle:IsDrizzleTable");var Hw,Kw,Gw,Qw,Yw,Jw,Zw,Xw,eb,tb,Du;let Er=(tb=B,eb=ca,Xw=sm,Zw=nm,Jw=nw,Yw=sw,Qw=im,Gw=Qd,Kw=bT,Hw=iw,Du=class{constructor(e,r,n){T(this,eb);T(this,Xw);T(this,Zw);T(this,Jw);T(this,Yw);T(this,Qw);T(this,Gw,!1);T(this,Kw,!0);T(this,Hw);this[ca]=this[sm]=e,this[nm]=r,this[im]=n}},T(Du,tb,"Table"),T(Du,"Symbol",{Name:ca,Schema:nm,OriginalName:sm,Columns:nw,ExtraConfigColumns:sw,BaseName:im,IsAlias:Qd,ExtraConfigBuilder:iw}),Du);function _T(t){return typeof t=="object"&&t!==null&&bT in t}function _8(t){return t!=null&&typeof t.getSQL=="function"}function S8(t){var r;const e={sql:"",params:[]};for(const n of t)e.sql+=n.sql,e.params.push(...n.params),(r=n.typings)!=null&&r.length&&(e.typings||(e.typings=[]),e.typings.push(...n.typings));return e}var rb;rb=B;class Br{constructor(e){T(this,"value");this.value=Array.isArray(e)?e:[e]}getSQL(){return new St([this])}}T(Br,rb,"StringChunk");var nb;nb=B;const Ai=class Ai{constructor(e){T(this,"decoder",ST);T(this,"shouldInlineParams",!1);this.queryChunks=e}append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return b8.startActiveSpan("drizzle.buildSQL",r=>{const n=this.buildQueryFromSourceParams(this.queryChunks,e);return r==null||r.setAttributes({"drizzle.query.text":n.sql,"drizzle.query.params":JSON.stringify(n.params)}),n})}buildQueryFromSourceParams(e,r){const n=Object.assign({},r,{inlineParams:r.inlineParams||this.shouldInlineParams,paramStartIndex:r.paramStartIndex||{value:0}}),{casing:s,escapeName:i,escapeParam:o,prepareTyping:l,inlineParams:c,paramStartIndex:u}=n;return S8(e.map(d=>{var f;if(Ot(d,Br))return{sql:d.value.join(""),params:[]};if(Ot(d,Yd))return{sql:i(d.value),params:[]};if(d===void 0)return{sql:"",params:[]};if(Array.isArray(d)){const h=[new Br("(")];for(const[m,y]of d.entries())h.push(y),m<d.length-1&&h.push(new Br(", "));return h.push(new Br(")")),this.buildQueryFromSourceParams(h,n)}if(Ot(d,Ai))return this.buildQueryFromSourceParams(d.queryChunks,{...n,inlineParams:c||d.shouldInlineParams});if(Ot(d,Er)){const h=d[Er.Symbol.Schema],m=d[Er.Symbol.Name];return{sql:h===void 0||d[Qd]?i(m):i(h)+"."+i(m),params:[]}}if(Ot(d,La)){const h=s.getColumnCasing(d);if(r.invokeSource==="indexes")return{sql:i(h),params:[]};const m=d.table[Er.Symbol.Schema];return{sql:d.table[Qd]||m===void 0?i(d.table[Er.Symbol.Name])+"."+i(h):i(m)+"."+i(d.table[Er.Symbol.Name])+"."+i(h),params:[]}}if(Ot(d,NT)){const h=d[ua].schema,m=d[ua].name;return{sql:h===void 0||d[ua].isAlias?i(m):i(h)+"."+i(m),params:[]}}if(Ot(d,qy)){if(Ot(d.value,Jd))return{sql:o(u.value++,d),params:[d],typings:["none"]};const h=d.value===null?null:d.encoder.mapToDriverValue(d.value);if(Ot(h,Ai))return this.buildQueryFromSourceParams([h],n);if(c)return{sql:this.mapInlineParam(h,n),params:[]};let m=["none"];return l&&(m=[l(d.encoder)]),{sql:o(u.value++,h),params:[h],typings:m}}return Ot(d,Jd)?{sql:o(u.value++,d),params:[d],typings:["none"]}:Ot(d,Ai.Aliased)&&d.fieldAlias!==void 0?{sql:i(d.fieldAlias),params:[]}:Ot(d,Wy)?d._.isWith?{sql:i(d._.alias),params:[]}:this.buildQueryFromSourceParams([new Br("("),d._.sql,new Br(") "),new Yd(d._.alias)],n):w8(d)?d.schema?{sql:i(d.schema)+"."+i(d.enumName),params:[]}:{sql:i(d.enumName),params:[]}:_8(d)?(f=d.shouldOmitSQLParens)!=null&&f.call(d)?this.buildQueryFromSourceParams([d.getSQL()],n):this.buildQueryFromSourceParams([new Br("("),d.getSQL(),new Br(")")],n):c?{sql:this.mapInlineParam(d,n),params:[]}:{sql:o(u.value++,d),params:[d],typings:["none"]}}))}mapInlineParam(e,{escapeString:r}){if(e===null)return"null";if(typeof e=="number"||typeof e=="boolean")return e.toString();if(typeof e=="string")return r(e);if(typeof e=="object"){const n=e.toString();return r(n==="[object Object]"?JSON.stringify(e):n)}throw new Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return e===void 0?this:new Ai.Aliased(this,e)}mapWith(e){return this.decoder=typeof e=="function"?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}};T(Ai,nb,"SQL");let St=Ai;var sb;sb=B;class Yd{constructor(e){T(this,"brand");this.value=e}getSQL(){return new St([this])}}T(Yd,sb,"Name");const ST={mapFromDriverValue:t=>t},jT={mapToDriverValue:t=>t};({...ST,...jT});var ib;ib=B;class qy{constructor(e,r=jT){T(this,"brand");this.value=e,this.encoder=r}getSQL(){return new St([this])}}T(qy,ib,"Param");function oo(t,...e){const r=[];(e.length>0||t.length>0&&t[0]!=="")&&r.push(new Br(t[0]));for(const[n,s]of e.entries())r.push(s,new Br(t[n+1]));return new St(r)}(t=>{function e(){return new St([])}t.empty=e;function r(c){return new St(c)}t.fromList=r;function n(c){return new St([new Br(c)])}t.raw=n;function s(c,u){const d=[];for(const[f,h]of c.entries())f>0&&u!==void 0&&d.push(u),d.push(h);return new St(d)}t.join=s;function i(c){return new Yd(c)}t.identifier=i;function o(c){return new Jd(c)}t.placeholder=o;function l(c,u){return new qy(c,u)}t.param=l})(oo||(oo={}));(t=>{var r;r=B;const n=class n{constructor(i,o){T(this,"isSelectionField",!1);this.sql=i,this.fieldAlias=o}getSQL(){return this.sql}clone(){return new n(this.sql,this.fieldAlias)}};T(n,r,"SQL.Aliased");let e=n;t.Aliased=e})(St||(St={}));var ob;ob=B;class Jd{constructor(e){this.name=e}getSQL(){return new St([this])}}T(Jd,ob,"Placeholder");const kT=Symbol.for("drizzle:IsDrizzleView");var ab,lb,cb;cb=B,lb=ua,ab=kT;class NT{constructor({name:e,schema:r,selectedFields:n,query:s}){T(this,lb);T(this,ab,!0);this[ua]={name:e,originalName:e,schema:r,selectedFields:n,query:s,isExisting:!s,isAlias:!1}}getSQL(){return new St([this])}}T(NT,cb,"View");function j8(t){return typeof t=="object"&&t!==null&&kT in t}La.prototype.getSQL=function(){return new St([this])};Er.prototype.getSQL=function(){return new St([this])};Wy.prototype.getSQL=function(){return new St([this])};function k8(t){return t[Er.Symbol.Columns]}function N8(t){return t[ua].selectedFields}function Et(t,e){return{name:typeof t=="string"&&t.length>0?t:"",config:typeof t=="object"?t:e}}var ub,db;class Zc extends(db=Pe,ub=B,db){generatedAlwaysAsIdentity(e){if(e){const{name:r,...n}=e;this.config.generatedIdentity={type:"always",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){const{name:r,...n}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}T(Zc,ub,"PgIntColumnBaseBuilder");var fb,hb;class CT extends(hb=Zc,fb=B,hb){constructor(e){super(e,"number","PgBigInt53")}build(e){return new ET(e,this.config)}}T(CT,fb,"PgBigInt53Builder");var mb,pb;class ET extends(pb=ye,mb=B,pb){getSQLType(){return"bigint"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}T(ET,mb,"PgBigInt53");var gb,yb;class PT extends(yb=Zc,gb=B,yb){constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new TT(e,this.config)}}T(PT,gb,"PgBigInt64Builder");var vb,xb;class TT extends(xb=ye,vb=B,xb){getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}T(TT,vb,"PgBigInt64");function C8(t,e){const{name:r,config:n}=Et(t,e);return n.mode==="number"?new CT(r):new PT(r)}var wb,bb;class AT extends(bb=Pe,wb=B,bb){constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new OT(e,this.config)}}T(AT,wb,"PgBigSerial53Builder");var _b,Sb;class OT extends(Sb=ye,_b=B,Sb){getSQLType(){return"bigserial"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}T(OT,_b,"PgBigSerial53");var jb,kb;class RT extends(kb=Pe,jb=B,kb){constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new DT(e,this.config)}}T(RT,jb,"PgBigSerial64Builder");var Nb,Cb;class DT extends(Cb=ye,Nb=B,Cb){getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}T(DT,Nb,"PgBigSerial64");function E8(t,e){const{name:r,config:n}=Et(t,e);return n.mode==="number"?new AT(r):new RT(r)}var Eb,Pb;class IT extends(Pb=Pe,Eb=B,Pb){constructor(e){super(e,"boolean","PgBoolean")}build(e){return new MT(e,this.config)}}T(IT,Eb,"PgBooleanBuilder");var Tb,Ab;class MT extends(Ab=ye,Tb=B,Ab){getSQLType(){return"boolean"}}T(MT,Tb,"PgBoolean");function P8(t){return new IT(t??"")}var Ob,Rb;class LT extends(Rb=Pe,Ob=B,Rb){constructor(e,r){super(e,"string","PgChar"),this.config.length=r.length,this.config.enumValues=r.enum}build(e){return new FT(e,this.config)}}T(LT,Ob,"PgCharBuilder");var Db,Ib;class FT extends(Ib=ye,Db=B,Ib){constructor(){super(...arguments);T(this,"length",this.config.length);T(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}T(FT,Db,"PgChar");function T8(t,e={}){const{name:r,config:n}=Et(t,e);return new LT(r,n)}var Mb,Lb;class $T extends(Lb=Pe,Mb=B,Lb){constructor(e){super(e,"string","PgCidr")}build(e){return new UT(e,this.config)}}T($T,Mb,"PgCidrBuilder");var Fb,$b;class UT extends($b=ye,Fb=B,$b){getSQLType(){return"cidr"}}T(UT,Fb,"PgCidr");function A8(t){return new $T(t??"")}var Ub,Bb;class BT extends(Bb=Pe,Ub=B,Bb){constructor(e,r,n){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=r,this.config.customTypeParams=n}build(e){return new VT(e,this.config)}}T(BT,Ub,"PgCustomColumnBuilder");var Vb,zb;class VT extends(zb=ye,Vb=B,zb){constructor(r,n){super(r,n);T(this,"sqlName");T(this,"mapTo");T(this,"mapFrom");this.sqlName=n.customTypeParams.dataType(n.fieldConfig),this.mapTo=n.customTypeParams.toDriver,this.mapFrom=n.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(r){return typeof this.mapFrom=="function"?this.mapFrom(r):r}mapToDriverValue(r){return typeof this.mapTo=="function"?this.mapTo(r):r}}T(VT,Vb,"PgCustomColumn");function O8(t){return(e,r)=>{const{name:n,config:s}=Et(e,r);return new BT(n,s,t)}}var Wb,qb;class rl extends(qb=Pe,Wb=B,qb){defaultNow(){return this.default(oo`now()`)}}T(rl,Wb,"PgDateColumnBaseBuilder");var Hb,Kb;class zT extends(Kb=rl,Hb=B,Kb){constructor(e){super(e,"date","PgDate")}build(e){return new WT(e,this.config)}}T(zT,Hb,"PgDateBuilder");var Gb,Qb;class WT extends(Qb=ye,Gb=B,Qb){getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}}T(WT,Gb,"PgDate");var Yb,Jb;class qT extends(Jb=rl,Yb=B,Jb){constructor(e){super(e,"string","PgDateString")}build(e){return new HT(e,this.config)}}T(qT,Yb,"PgDateStringBuilder");var Zb,Xb;class HT extends(Xb=ye,Zb=B,Xb){getSQLType(){return"date"}}T(HT,Zb,"PgDateString");function R8(t,e){const{name:r,config:n}=Et(t,e);return(n==null?void 0:n.mode)==="date"?new zT(r):new qT(r)}var e_,t_;class KT extends(t_=Pe,e_=B,t_){constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new GT(e,this.config)}}T(KT,e_,"PgDoublePrecisionBuilder");var r_,n_;class GT extends(n_=ye,r_=B,n_){getSQLType(){return"double precision"}mapFromDriverValue(e){return typeof e=="string"?Number.parseFloat(e):e}}T(GT,r_,"PgDoublePrecision");function D8(t){return new KT(t??"")}var s_,i_;class QT extends(i_=Pe,s_=B,i_){constructor(e){super(e,"string","PgInet")}build(e){return new YT(e,this.config)}}T(QT,s_,"PgInetBuilder");var o_,a_;class YT extends(a_=ye,o_=B,a_){getSQLType(){return"inet"}}T(YT,o_,"PgInet");function I8(t){return new QT(t??"")}var l_,c_;class JT extends(c_=Zc,l_=B,c_){constructor(e){super(e,"number","PgInteger")}build(e){return new ZT(e,this.config)}}T(JT,l_,"PgIntegerBuilder");var u_,d_;class ZT extends(d_=ye,u_=B,d_){getSQLType(){return"integer"}mapFromDriverValue(e){return typeof e=="string"?Number.parseInt(e):e}}T(ZT,u_,"PgInteger");function pe(t){return new JT(t??"")}var f_,h_;class XT extends(h_=Pe,f_=B,h_){constructor(e,r){super(e,"string","PgInterval"),this.config.intervalConfig=r}build(e){return new e2(e,this.config)}}T(XT,f_,"PgIntervalBuilder");var m_,p_;class e2 extends(p_=ye,m_=B,p_){constructor(){super(...arguments);T(this,"fields",this.config.intervalConfig.fields);T(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const r=this.fields?` ${this.fields}`:"",n=this.precision?`(${this.precision})`:"";return`interval${r}${n}`}}T(e2,m_,"PgInterval");function M8(t,e={}){const{name:r,config:n}=Et(t,e);return new XT(r,n)}var g_,y_;class t2 extends(y_=Pe,g_=B,y_){constructor(e){super(e,"json","PgJson")}build(e){return new r2(e,this.config)}}T(t2,g_,"PgJsonBuilder");var v_,x_;class r2 extends(x_=ye,v_=B,x_){constructor(e,r){super(e,r)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}T(r2,v_,"PgJson");function L8(t){return new t2(t??"")}var w_,b_;class n2 extends(b_=Pe,w_=B,b_){constructor(e){super(e,"json","PgJsonb")}build(e){return new s2(e,this.config)}}T(n2,w_,"PgJsonbBuilder");var __,S_;class s2 extends(S_=ye,__=B,S_){constructor(e,r){super(e,r)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}T(s2,__,"PgJsonb");function F8(t){return new n2(t??"")}var j_,k_;class i2 extends(k_=Pe,j_=B,k_){constructor(e){super(e,"array","PgLine")}build(e){return new o2(e,this.config)}}T(i2,j_,"PgLineBuilder");var N_,C_;class o2 extends(C_=ye,N_=B,C_){getSQLType(){return"line"}mapFromDriverValue(e){const[r,n,s]=e.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n),Number.parseFloat(s)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}}T(o2,N_,"PgLine");var E_,P_;class a2 extends(P_=Pe,E_=B,P_){constructor(e){super(e,"json","PgLineABC")}build(e){return new l2(e,this.config)}}T(a2,E_,"PgLineABCBuilder");var T_,A_;class l2 extends(A_=ye,T_=B,A_){getSQLType(){return"line"}mapFromDriverValue(e){const[r,n,s]=e.slice(1,-1).split(",");return{a:Number.parseFloat(r),b:Number.parseFloat(n),c:Number.parseFloat(s)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}T(l2,T_,"PgLineABC");function $8(t,e){const{name:r,config:n}=Et(t,e);return!(n!=null&&n.mode)||n.mode==="tuple"?new i2(r):new a2(r)}var O_,R_;class c2 extends(R_=Pe,O_=B,R_){constructor(e){super(e,"string","PgMacaddr")}build(e){return new u2(e,this.config)}}T(c2,O_,"PgMacaddrBuilder");var D_,I_;class u2 extends(I_=ye,D_=B,I_){getSQLType(){return"macaddr"}}T(u2,D_,"PgMacaddr");function U8(t){return new c2(t??"")}var M_,L_;class d2 extends(L_=Pe,M_=B,L_){constructor(e){super(e,"string","PgMacaddr8")}build(e){return new f2(e,this.config)}}T(d2,M_,"PgMacaddr8Builder");var F_,$_;class f2 extends($_=ye,F_=B,$_){getSQLType(){return"macaddr8"}}T(f2,F_,"PgMacaddr8");function B8(t){return new d2(t??"")}var U_,B_;class h2 extends(B_=Pe,U_=B,B_){constructor(e,r,n){super(e,"string","PgNumeric"),this.config.precision=r,this.config.scale=n}build(e){return new m2(e,this.config)}}T(h2,U_,"PgNumericBuilder");var V_,z_;class m2 extends(z_=ye,V_=B,z_){constructor(r,n){super(r,n);T(this,"precision");T(this,"scale");this.precision=n.precision,this.scale=n.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}T(m2,V_,"PgNumeric");function V8(t,e){const{name:r,config:n}=Et(t,e);return new h2(r,n==null?void 0:n.precision,n==null?void 0:n.scale)}var W_,q_;class p2 extends(q_=Pe,W_=B,q_){constructor(e){super(e,"array","PgPointTuple")}build(e){return new g2(e,this.config)}}T(p2,W_,"PgPointTupleBuilder");var H_,K_;class g2 extends(K_=ye,H_=B,K_){getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[r,n]=e.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}}T(g2,H_,"PgPointTuple");var G_,Q_;class y2 extends(Q_=Pe,G_=B,Q_){constructor(e){super(e,"json","PgPointObject")}build(e){return new v2(e,this.config)}}T(y2,G_,"PgPointObjectBuilder");var Y_,J_;class v2 extends(J_=ye,Y_=B,J_){getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[r,n]=e.slice(1,-1).split(",");return{x:Number.parseFloat(r),y:Number.parseFloat(n)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}T(v2,Y_,"PgPointObject");function z8(t,e){const{name:r,config:n}=Et(t,e);return!(n!=null&&n.mode)||n.mode==="tuple"?new p2(r):new y2(r)}function W8(t){const e=[];for(let r=0;r<t.length;r+=2)e.push(Number.parseInt(t.slice(r,r+2),16));return new Uint8Array(e)}function ow(t,e){const r=new ArrayBuffer(8),n=new DataView(r);for(let s=0;s<8;s++)n.setUint8(s,t[e+s]);return n.getFloat64(0,!0)}function x2(t){const e=W8(t);let r=0;const n=e[r];r+=1;const s=new DataView(e.buffer),i=s.getUint32(r,n===1);if(r+=4,i&536870912&&(s.getUint32(r,n===1),r+=4),(i&65535)===1){const o=ow(e,r);r+=8;const l=ow(e,r);return r+=8,[o,l]}throw new Error("Unsupported geometry type")}var Z_,X_;class w2 extends(X_=Pe,Z_=B,X_){constructor(e){super(e,"array","PgGeometry")}build(e){return new b2(e,this.config)}}T(w2,Z_,"PgGeometryBuilder");var eS,tS;class b2 extends(tS=ye,eS=B,tS){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return x2(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}}T(b2,eS,"PgGeometry");var rS,nS;class _2 extends(nS=Pe,rS=B,nS){constructor(e){super(e,"json","PgGeometryObject")}build(e){return new S2(e,this.config)}}T(_2,rS,"PgGeometryObjectBuilder");var sS,iS;class S2 extends(iS=ye,sS=B,iS){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){const r=x2(e);return{x:r[0],y:r[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}T(S2,sS,"PgGeometryObject");function q8(t,e){const{name:r,config:n}=Et(t,e);return!(n!=null&&n.mode)||n.mode==="tuple"?new w2(r):new _2(r)}var oS,aS;class j2 extends(aS=Pe,oS=B,aS){constructor(e,r){super(e,"number","PgReal"),this.config.length=r}build(e){return new k2(e,this.config)}}T(j2,oS,"PgRealBuilder");var lS,cS;class k2 extends(cS=ye,lS=B,cS){constructor(r,n){super(r,n);T(this,"mapFromDriverValue",r=>typeof r=="string"?Number.parseFloat(r):r)}getSQLType(){return"real"}}T(k2,lS,"PgReal");function H8(t){return new j2(t??"")}var uS,dS;class N2 extends(dS=Pe,uS=B,dS){constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new C2(e,this.config)}}T(N2,uS,"PgSerialBuilder");var fS,hS;class C2 extends(hS=ye,fS=B,hS){getSQLType(){return"serial"}}T(C2,fS,"PgSerial");function Xr(t){return new N2(t??"")}var mS,pS;class E2 extends(pS=Zc,mS=B,pS){constructor(e){super(e,"number","PgSmallInt")}build(e){return new P2(e,this.config)}}T(E2,mS,"PgSmallIntBuilder");var gS,yS;class P2 extends(yS=ye,gS=B,yS){constructor(){super(...arguments);T(this,"mapFromDriverValue",r=>typeof r=="string"?Number(r):r)}getSQLType(){return"smallint"}}T(P2,gS,"PgSmallInt");function K8(t){return new E2(t??"")}var vS,xS;class T2 extends(xS=Pe,vS=B,xS){constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new A2(e,this.config)}}T(T2,vS,"PgSmallSerialBuilder");var wS,bS;class A2 extends(bS=ye,wS=B,bS){getSQLType(){return"smallserial"}}T(A2,wS,"PgSmallSerial");function G8(t){return new T2(t??"")}var _S,SS;class O2 extends(SS=Pe,_S=B,SS){constructor(e,r){super(e,"string","PgText"),this.config.enumValues=r.enum}build(e){return new R2(e,this.config)}}T(O2,_S,"PgTextBuilder");var jS,kS;class R2 extends(kS=ye,jS=B,kS){constructor(){super(...arguments);T(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}T(R2,jS,"PgText");function oe(t,e={}){const{name:r,config:n}=Et(t,e);return new O2(r,n)}var NS,CS;class D2 extends(CS=rl,NS=B,CS){constructor(e,r,n){super(e,"string","PgTime"),this.withTimezone=r,this.precision=n,this.config.withTimezone=r,this.config.precision=n}build(e){return new I2(e,this.config)}}T(D2,NS,"PgTimeBuilder");var ES,PS;class I2 extends(PS=ye,ES=B,PS){constructor(r,n){super(r,n);T(this,"withTimezone");T(this,"precision");this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}T(I2,ES,"PgTime");function Q8(t,e={}){const{name:r,config:n}=Et(t,e);return new D2(r,n.withTimezone??!1,n.precision)}var TS,AS;class M2 extends(AS=rl,TS=B,AS){constructor(e,r,n){super(e,"date","PgTimestamp"),this.config.withTimezone=r,this.config.precision=n}build(e){return new L2(e,this.config)}}T(M2,TS,"PgTimestampBuilder");var OS,RS;class L2 extends(RS=ye,OS=B,RS){constructor(r,n){super(r,n);T(this,"withTimezone");T(this,"precision");T(this,"mapFromDriverValue",r=>new Date(this.withTimezone?r:r+"+0000"));T(this,"mapToDriverValue",r=>r.toISOString());this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}T(L2,OS,"PgTimestamp");var DS,IS;class F2 extends(IS=rl,DS=B,IS){constructor(e,r,n){super(e,"string","PgTimestampString"),this.config.withTimezone=r,this.config.precision=n}build(e){return new $2(e,this.config)}}T(F2,DS,"PgTimestampStringBuilder");var MS,LS;class $2 extends(LS=ye,MS=B,LS){constructor(r,n){super(r,n);T(this,"withTimezone");T(this,"precision");this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}T($2,MS,"PgTimestampString");function Je(t,e={}){const{name:r,config:n}=Et(t,e);return(n==null?void 0:n.mode)==="string"?new F2(r,n.withTimezone??!1,n.precision):new M2(r,(n==null?void 0:n.withTimezone)??!1,n==null?void 0:n.precision)}var FS,$S;class U2 extends($S=Pe,FS=B,$S){constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(oo`gen_random_uuid()`)}build(e){return new B2(e,this.config)}}T(U2,FS,"PgUUIDBuilder");var US,BS;class B2 extends(BS=ye,US=B,BS){getSQLType(){return"uuid"}}T(B2,US,"PgUUID");function Y8(t){return new U2(t??"")}var VS,zS;class V2 extends(zS=Pe,VS=B,zS){constructor(e,r){super(e,"string","PgVarchar"),this.config.length=r.length,this.config.enumValues=r.enum}build(e){return new z2(e,this.config)}}T(V2,VS,"PgVarcharBuilder");var WS,qS;class z2 extends(qS=ye,WS=B,qS){constructor(){super(...arguments);T(this,"length",this.config.length);T(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}T(z2,WS,"PgVarchar");function ms(t,e={}){const{name:r,config:n}=Et(t,e);return new V2(r,n)}var HS,KS;class W2 extends(KS=Pe,HS=B,KS){constructor(e,r){super(e,"string","PgBinaryVector"),this.config.dimensions=r.dimensions}build(e){return new q2(e,this.config)}}T(W2,HS,"PgBinaryVectorBuilder");var GS,QS;class q2 extends(QS=ye,GS=B,QS){constructor(){super(...arguments);T(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}T(q2,GS,"PgBinaryVector");function J8(t,e){const{name:r,config:n}=Et(t,e);return new W2(r,n)}var YS,JS;class H2 extends(JS=Pe,YS=B,JS){constructor(e,r){super(e,"array","PgHalfVector"),this.config.dimensions=r.dimensions}build(e){return new K2(e,this.config)}}T(H2,YS,"PgHalfVectorBuilder");var ZS,XS;class K2 extends(XS=ye,ZS=B,XS){constructor(){super(...arguments);T(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){return r.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}T(K2,ZS,"PgHalfVector");function Z8(t,e){const{name:r,config:n}=Et(t,e);return new H2(r,n)}var e1,t1;class G2 extends(t1=Pe,e1=B,t1){constructor(e,r){super(e,"string","PgSparseVector"),this.config.dimensions=r.dimensions}build(e){return new Q2(e,this.config)}}T(G2,e1,"PgSparseVectorBuilder");var r1,n1;class Q2 extends(n1=ye,r1=B,n1){constructor(){super(...arguments);T(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}T(Q2,r1,"PgSparseVector");function X8(t,e){const{name:r,config:n}=Et(t,e);return new G2(r,n)}var s1,i1;class Y2 extends(i1=Pe,s1=B,i1){constructor(e,r){super(e,"array","PgVector"),this.config.dimensions=r.dimensions}build(e){return new J2(e,this.config)}}T(Y2,s1,"PgVectorBuilder");var o1,a1;class J2 extends(a1=ye,o1=B,a1){constructor(){super(...arguments);T(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){return r.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}T(J2,o1,"PgVector");function eB(t,e){const{name:r,config:n}=Et(t,e);return new Y2(r,n)}function tB(){return{bigint:C8,bigserial:E8,boolean:P8,char:T8,cidr:A8,customType:O8,date:R8,doublePrecision:D8,inet:I8,integer:pe,interval:M8,json:L8,jsonb:F8,line:$8,macaddr:U8,macaddr8:B8,numeric:V8,point:z8,geometry:q8,real:H8,serial:Xr,smallint:K8,smallserial:G8,text:oe,time:Q8,timestamp:Je,uuid:Y8,varchar:ms,bit:J8,halfvec:Z8,sparsevec:X8,vector:eB}}const Zp=Symbol.for("drizzle:PgInlineForeignKeys"),aw=Symbol.for("drizzle:EnableRLS");var l1,c1,u1,d1,f1;class Zd extends(f1=Er,d1=B,u1=Zp,c1=aw,l1=Er.Symbol.ExtraConfigBuilder,f1){constructor(){super(...arguments);T(this,u1,[]);T(this,c1,!1);T(this,l1)}}T(Zd,d1,"PgTable"),T(Zd,"Symbol",Object.assign({},Er.Symbol,{InlineForeignKeys:Zp,EnableRLS:aw}));function rB(t,e,r,n,s=t){const i=new Zd(t,n,s),o=typeof e=="function"?e(tB()):e,l=Object.fromEntries(Object.entries(o).map(([d,f])=>{const h=f;h.setName(d);const m=h.build(i);return i[Zp].push(...h.buildForeignKeys(m,i)),[d,m]})),c=Object.fromEntries(Object.entries(o).map(([d,f])=>{const h=f;h.setName(d);const m=h.buildExtraConfigColumn(i);return[d,m]})),u=Object.assign(i,l);return u[Er.Symbol.Columns]=l,u[Er.Symbol.ExtraConfigColumns]=c,Object.assign(u,{enableRLS:()=>(u[Zd.Symbol.EnableRLS]=!0,u)})}const Wt=(t,e,r)=>rB(t,e,r,void 0);var Ee;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function r(s){throw new Error}t.assertNever=r,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of i)o[l]=s[l];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=n,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Ee||(Ee={}));var Xp;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(Xp||(Xp={}));const Z=Ee.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ts=t=>{switch(typeof t){case"undefined":return Z.undefined;case"string":return Z.string;case"number":return Number.isNaN(t)?Z.nan:Z.number;case"boolean":return Z.boolean;case"function":return Z.function;case"bigint":return Z.bigint;case"symbol":return Z.symbol;case"object":return Array.isArray(t)?Z.array:t===null?Z.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Z.promise:typeof Map<"u"&&t instanceof Map?Z.map:typeof Set<"u"&&t instanceof Set?Z.set:typeof Date<"u"&&t instanceof Date?Z.date:Z.object;default:return Z.unknown}},V=Ee.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),nB=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Dr extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(i){return i.message},n={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),n}static assert(e){if(!(e instanceof Dr))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ee.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];r[i]=r[i]||[],r[i].push(e(s))}else n.push(e(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Dr.create=t=>new Dr(t);const Fa=(t,e)=>{let r;switch(t.code){case V.invalid_type:t.received===Z.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case V.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Ee.jsonStringifyReplacer)}`;break;case V.unrecognized_keys:r=`Unrecognized key(s) in object: ${Ee.joinValues(t.keys,", ")}`;break;case V.invalid_union:r="Invalid input";break;case V.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Ee.joinValues(t.options)}`;break;case V.invalid_enum_value:r=`Invalid enum value. Expected ${Ee.joinValues(t.options)}, received '${t.received}'`;break;case V.invalid_arguments:r="Invalid function arguments";break;case V.invalid_return_type:r="Invalid function return type";break;case V.invalid_date:r="Invalid date";break;case V.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Ee.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case V.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case V.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case V.custom:r="Invalid input";break;case V.invalid_intersection_types:r="Intersection results could not be merged";break;case V.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case V.not_finite:r="Number must be finite";break;default:r=e.defaultError,Ee.assertNever(t)}return{message:r}};let Z2=Fa;function sB(t){Z2=t}function Xd(){return Z2}const ef=t=>{const{data:e,path:r,errorMaps:n,issueData:s}=t,i=[...r,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:e,defaultError:l}).message;return{...s,path:i,message:l}},iB=[];function Y(t,e){const r=Xd(),n=ef({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===Fa?void 0:Fa].filter(s=>!!s)});t.common.issues.push(n)}class zt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const s of r){if(s.status==="aborted")return ce;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const s of r){const i=await s.key,o=await s.value;n.push({key:i,value:o})}return zt.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const s of r){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return ce;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[i.value]=o.value)}return{status:e.value,value:n}}}const ce=Object.freeze({status:"aborted"}),Qo=t=>({status:"dirty",value:t}),ir=t=>({status:"valid",value:t}),eg=t=>t.status==="aborted",tg=t=>t.status==="dirty",ao=t=>t.status==="valid",gc=t=>typeof Promise<"u"&&t instanceof Promise;var se;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(se||(se={}));class Vn{constructor(e,r,n,s){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const lw=(t,e)=>{if(ao(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Dr(t.common.issues);return this._error=r,this._error}}};function ge(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:s}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,l)=>{const{message:c}=t;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:s}}class be{get description(){return this._def.description}_getType(e){return ts(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:ts(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new zt,ctx:{common:e.parent.common,data:e.data,parsedType:ts(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(gc(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ts(e)},s=this._parseSync({data:e,path:n.path,parent:n});return lw(n,s)}"~validate"(e){var n,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ts(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:r});return ao(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(s=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(i=>ao(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ts(e)},s=this._parse({data:e,path:n.path,parent:n}),i=await(gc(s)?s:Promise.resolve(s));return lw(n,i)}refine(e,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const o=e(s),l=()=>i.addIssue({code:V.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,r){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(e){return new bn({schema:this,typeName:ue.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Un.create(this,this._def)}nullable(){return hi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return yn.create(this)}promise(){return Ua.create(this,this._def)}or(e){return wc.create([this,e],this._def)}and(e){return bc.create(this,e,this._def)}transform(e){return new bn({...ge(this._def),schema:this,typeName:ue.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new Nc({...ge(this._def),innerType:this,defaultValue:r,typeName:ue.ZodDefault})}brand(){return new Hy({typeName:ue.ZodBranded,type:this,...ge(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new Cc({...ge(this._def),innerType:this,catchValue:r,typeName:ue.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return Xc.create(this,e)}readonly(){return Ec.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const oB=/^c[^\s-]{8,}$/i,aB=/^[0-9a-z]+$/,lB=/^[0-9A-HJKMNP-TV-Z]{26}$/i,cB=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,uB=/^[a-z0-9_-]{21}$/i,dB=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,fB=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,hB=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,mB="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let om;const pB=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,gB=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,yB=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,vB=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,xB=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,wB=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,X2="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",bB=new RegExp(`^${X2}$`);function eA(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function _B(t){return new RegExp(`^${eA(t)}$`)}function tA(t){let e=`${X2}T${eA(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function SB(t,e){return!!((e==="v4"||!e)&&pB.test(t)||(e==="v6"||!e)&&yB.test(t))}function jB(t,e){if(!dB.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function kB(t,e){return!!((e==="v4"||!e)&&gB.test(t)||(e==="v6"||!e)&&vB.test(t))}class mn extends be{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Z.string){const i=this._getOrReturnCtx(e);return Y(i,{code:V.invalid_type,expected:Z.string,received:i.parsedType}),ce}const n=new zt;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),Y(s,{code:V.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),Y(s,{code:V.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,l=e.data.length<i.value;(o||l)&&(s=this._getOrReturnCtx(e,s),o?Y(s,{code:V.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&Y(s,{code:V.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")hB.test(e.data)||(s=this._getOrReturnCtx(e,s),Y(s,{validation:"email",code:V.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")om||(om=new RegExp(mB,"u")),om.test(e.data)||(s=this._getOrReturnCtx(e,s),Y(s,{validation:"emoji",code:V.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")cB.test(e.data)||(s=this._getOrReturnCtx(e,s),Y(s,{validation:"uuid",code:V.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")uB.test(e.data)||(s=this._getOrReturnCtx(e,s),Y(s,{validation:"nanoid",code:V.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")oB.test(e.data)||(s=this._getOrReturnCtx(e,s),Y(s,{validation:"cuid",code:V.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")aB.test(e.data)||(s=this._getOrReturnCtx(e,s),Y(s,{validation:"cuid2",code:V.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")lB.test(e.data)||(s=this._getOrReturnCtx(e,s),Y(s,{validation:"ulid",code:V.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),Y(s,{validation:"url",code:V.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),Y(s,{validation:"regex",code:V.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),Y(s,{code:V.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),Y(s,{code:V.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),Y(s,{code:V.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?tA(i).test(e.data)||(s=this._getOrReturnCtx(e,s),Y(s,{code:V.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?bB.test(e.data)||(s=this._getOrReturnCtx(e,s),Y(s,{code:V.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?_B(i).test(e.data)||(s=this._getOrReturnCtx(e,s),Y(s,{code:V.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?fB.test(e.data)||(s=this._getOrReturnCtx(e,s),Y(s,{validation:"duration",code:V.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?SB(e.data,i.version)||(s=this._getOrReturnCtx(e,s),Y(s,{validation:"ip",code:V.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?jB(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),Y(s,{validation:"jwt",code:V.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?kB(e.data,i.version)||(s=this._getOrReturnCtx(e,s),Y(s,{validation:"cidr",code:V.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?xB.test(e.data)||(s=this._getOrReturnCtx(e,s),Y(s,{validation:"base64",code:V.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?wB.test(e.data)||(s=this._getOrReturnCtx(e,s),Y(s,{validation:"base64url",code:V.invalid_string,message:i.message}),n.dirty()):Ee.assertNever(i);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(s=>e.test(s),{validation:r,code:V.invalid_string,...se.errToObj(n)})}_addCheck(e){return new mn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...se.errToObj(e)})}url(e){return this._addCheck({kind:"url",...se.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...se.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...se.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...se.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...se.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...se.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...se.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...se.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...se.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...se.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...se.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...se.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...se.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...se.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...se.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...se.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...se.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...se.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...se.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...se.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...se.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...se.errToObj(r)})}nonempty(e){return this.min(1,se.errToObj(e))}trim(){return new mn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new mn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new mn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}mn.create=t=>new mn({checks:[],typeName:ue.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...ge(t)});function NB(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=r>n?r:n,i=Number.parseInt(t.toFixed(s).replace(".","")),o=Number.parseInt(e.toFixed(s).replace(".",""));return i%o/10**s}class ui extends be{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Z.number){const i=this._getOrReturnCtx(e);return Y(i,{code:V.invalid_type,expected:Z.number,received:i.parsedType}),ce}let n;const s=new zt;for(const i of this._def.checks)i.kind==="int"?Ee.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),Y(n,{code:V.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),Y(n,{code:V.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),Y(n,{code:V.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?NB(e.data,i.value)!==0&&(n=this._getOrReturnCtx(e,n),Y(n,{code:V.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),Y(n,{code:V.not_finite,message:i.message}),s.dirty()):Ee.assertNever(i);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,se.toString(r))}gt(e,r){return this.setLimit("min",e,!1,se.toString(r))}lte(e,r){return this.setLimit("max",e,!0,se.toString(r))}lt(e,r){return this.setLimit("max",e,!1,se.toString(r))}setLimit(e,r,n,s){return new ui({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:se.toString(s)}]})}_addCheck(e){return new ui({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:se.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:se.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:se.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:se.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:se.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:se.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:se.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:se.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:se.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ee.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}ui.create=t=>new ui({checks:[],typeName:ue.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...ge(t)});class di extends be{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Z.bigint)return this._getInvalidInput(e);let n;const s=new zt;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),Y(n,{code:V.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),Y(n,{code:V.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),Y(n,{code:V.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Ee.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return Y(r,{code:V.invalid_type,expected:Z.bigint,received:r.parsedType}),ce}gte(e,r){return this.setLimit("min",e,!0,se.toString(r))}gt(e,r){return this.setLimit("min",e,!1,se.toString(r))}lte(e,r){return this.setLimit("max",e,!0,se.toString(r))}lt(e,r){return this.setLimit("max",e,!1,se.toString(r))}setLimit(e,r,n,s){return new di({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:se.toString(s)}]})}_addCheck(e){return new di({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:se.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:se.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:se.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:se.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:se.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}di.create=t=>new di({checks:[],typeName:ue.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...ge(t)});class yc extends be{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Z.boolean){const n=this._getOrReturnCtx(e);return Y(n,{code:V.invalid_type,expected:Z.boolean,received:n.parsedType}),ce}return ir(e.data)}}yc.create=t=>new yc({typeName:ue.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...ge(t)});class lo extends be{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Z.date){const i=this._getOrReturnCtx(e);return Y(i,{code:V.invalid_type,expected:Z.date,received:i.parsedType}),ce}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return Y(i,{code:V.invalid_date}),ce}const n=new zt;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),Y(s,{code:V.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),Y(s,{code:V.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Ee.assertNever(i);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new lo({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:se.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:se.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}lo.create=t=>new lo({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:ue.ZodDate,...ge(t)});class tf extends be{_parse(e){if(this._getType(e)!==Z.symbol){const n=this._getOrReturnCtx(e);return Y(n,{code:V.invalid_type,expected:Z.symbol,received:n.parsedType}),ce}return ir(e.data)}}tf.create=t=>new tf({typeName:ue.ZodSymbol,...ge(t)});class vc extends be{_parse(e){if(this._getType(e)!==Z.undefined){const n=this._getOrReturnCtx(e);return Y(n,{code:V.invalid_type,expected:Z.undefined,received:n.parsedType}),ce}return ir(e.data)}}vc.create=t=>new vc({typeName:ue.ZodUndefined,...ge(t)});class xc extends be{_parse(e){if(this._getType(e)!==Z.null){const n=this._getOrReturnCtx(e);return Y(n,{code:V.invalid_type,expected:Z.null,received:n.parsedType}),ce}return ir(e.data)}}xc.create=t=>new xc({typeName:ue.ZodNull,...ge(t)});class $a extends be{constructor(){super(...arguments),this._any=!0}_parse(e){return ir(e.data)}}$a.create=t=>new $a({typeName:ue.ZodAny,...ge(t)});class Gi extends be{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ir(e.data)}}Gi.create=t=>new Gi({typeName:ue.ZodUnknown,...ge(t)});class ps extends be{_parse(e){const r=this._getOrReturnCtx(e);return Y(r,{code:V.invalid_type,expected:Z.never,received:r.parsedType}),ce}}ps.create=t=>new ps({typeName:ue.ZodNever,...ge(t)});class rf extends be{_parse(e){if(this._getType(e)!==Z.undefined){const n=this._getOrReturnCtx(e);return Y(n,{code:V.invalid_type,expected:Z.void,received:n.parsedType}),ce}return ir(e.data)}}rf.create=t=>new rf({typeName:ue.ZodVoid,...ge(t)});class yn extends be{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),s=this._def;if(r.parsedType!==Z.array)return Y(r,{code:V.invalid_type,expected:Z.array,received:r.parsedType}),ce;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(o||l)&&(Y(r,{code:o?V.too_big:V.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(Y(r,{code:V.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(Y(r,{code:V.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>s.type._parseAsync(new Vn(r,o,r.path,l)))).then(o=>zt.mergeArray(n,o));const i=[...r.data].map((o,l)=>s.type._parseSync(new Vn(r,o,r.path,l)));return zt.mergeArray(n,i)}get element(){return this._def.type}min(e,r){return new yn({...this._def,minLength:{value:e,message:se.toString(r)}})}max(e,r){return new yn({...this._def,maxLength:{value:e,message:se.toString(r)}})}length(e,r){return new yn({...this._def,exactLength:{value:e,message:se.toString(r)}})}nonempty(e){return this.min(1,e)}}yn.create=(t,e)=>new yn({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ue.ZodArray,...ge(e)});function Oo(t){if(t instanceof tt){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=Un.create(Oo(n))}return new tt({...t._def,shape:()=>e})}else return t instanceof yn?new yn({...t._def,type:Oo(t.element)}):t instanceof Un?Un.create(Oo(t.unwrap())):t instanceof hi?hi.create(Oo(t.unwrap())):t instanceof zn?zn.create(t.items.map(e=>Oo(e))):t}class tt extends be{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=Ee.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==Z.object){const u=this._getOrReturnCtx(e);return Y(u,{code:V.invalid_type,expected:Z.object,received:u.parsedType}),ce}const{status:n,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof ps&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=i[u],f=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Vn(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof ps){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")l.length>0&&(Y(s,{code:V.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Vn(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>zt.mergeObjectSync(n,u)):zt.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return se.errToObj,new tt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var i,o;const s=((o=(i=this._def).errorMap)==null?void 0:o.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:se.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new tt({...this._def,unknownKeys:"strip"})}passthrough(){return new tt({...this._def,unknownKeys:"passthrough"})}extend(e){return new tt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new tt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ue.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new tt({...this._def,catchall:e})}pick(e){const r={};for(const n of Ee.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new tt({...this._def,shape:()=>r})}omit(e){const r={};for(const n of Ee.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new tt({...this._def,shape:()=>r})}deepPartial(){return Oo(this)}partial(e){const r={};for(const n of Ee.objectKeys(this.shape)){const s=this.shape[n];e&&!e[n]?r[n]=s:r[n]=s.optional()}return new tt({...this._def,shape:()=>r})}required(e){const r={};for(const n of Ee.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Un;)i=i._def.innerType;r[n]=i}return new tt({...this._def,shape:()=>r})}keyof(){return rA(Ee.objectKeys(this.shape))}}tt.create=(t,e)=>new tt({shape:()=>t,unknownKeys:"strip",catchall:ps.create(),typeName:ue.ZodObject,...ge(e)});tt.strictCreate=(t,e)=>new tt({shape:()=>t,unknownKeys:"strict",catchall:ps.create(),typeName:ue.ZodObject,...ge(e)});tt.lazycreate=(t,e)=>new tt({shape:t,unknownKeys:"strip",catchall:ps.create(),typeName:ue.ZodObject,...ge(e)});class wc extends be{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new Dr(l.ctx.common.issues));return Y(r,{code:V.invalid_union,unionErrors:o}),ce}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new Dr(c));return Y(r,{code:V.invalid_union,unionErrors:l}),ce}}get options(){return this._def.options}}wc.create=(t,e)=>new wc({options:t,typeName:ue.ZodUnion,...ge(e)});const Jn=t=>t instanceof Sc?Jn(t.schema):t instanceof bn?Jn(t.innerType()):t instanceof jc?[t.value]:t instanceof fi?t.options:t instanceof kc?Ee.objectValues(t.enum):t instanceof Nc?Jn(t._def.innerType):t instanceof vc?[void 0]:t instanceof xc?[null]:t instanceof Un?[void 0,...Jn(t.unwrap())]:t instanceof hi?[null,...Jn(t.unwrap())]:t instanceof Hy||t instanceof Ec?Jn(t.unwrap()):t instanceof Cc?Jn(t._def.innerType):[];class Jf extends be{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Z.object)return Y(r,{code:V.invalid_type,expected:Z.object,received:r.parsedType}),ce;const n=this.discriminator,s=r.data[n],i=this.optionsMap.get(s);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(Y(r,{code:V.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),ce)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const s=new Map;for(const i of r){const o=Jn(i.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const l of o){if(s.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);s.set(l,i)}}return new Jf({typeName:ue.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:s,...ge(n)})}}function rg(t,e){const r=ts(t),n=ts(e);if(t===e)return{valid:!0,data:t};if(r===Z.object&&n===Z.object){const s=Ee.objectKeys(e),i=Ee.objectKeys(t).filter(l=>s.indexOf(l)!==-1),o={...t,...e};for(const l of i){const c=rg(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===Z.array&&n===Z.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],l=e[i],c=rg(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===Z.date&&n===Z.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class bc extends be{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=(i,o)=>{if(eg(i)||eg(o))return ce;const l=rg(i.value,o.value);return l.valid?((tg(i)||tg(o))&&r.dirty(),{status:r.value,value:l.data}):(Y(n,{code:V.invalid_intersection_types}),ce)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}bc.create=(t,e,r)=>new bc({left:t,right:e,typeName:ue.ZodIntersection,...ge(r)});class zn extends be{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Z.array)return Y(n,{code:V.invalid_type,expected:Z.array,received:n.parsedType}),ce;if(n.data.length<this._def.items.length)return Y(n,{code:V.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ce;!this._def.rest&&n.data.length>this._def.items.length&&(Y(n,{code:V.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Vn(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>zt.mergeArray(r,o)):zt.mergeArray(r,i)}get items(){return this._def.items}rest(e){return new zn({...this._def,rest:e})}}zn.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new zn({items:t,typeName:ue.ZodTuple,rest:null,...ge(e)})};class _c extends be{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Z.object)return Y(n,{code:V.invalid_type,expected:Z.object,received:n.parsedType}),ce;const s=[],i=this._def.keyType,o=this._def.valueType;for(const l in n.data)s.push({key:i._parse(new Vn(n,l,n.path,l)),value:o._parse(new Vn(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?zt.mergeObjectAsync(r,s):zt.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof be?new _c({keyType:e,valueType:r,typeName:ue.ZodRecord,...ge(n)}):new _c({keyType:mn.create(),valueType:e,typeName:ue.ZodRecord,...ge(r)})}}class nf extends be{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Z.map)return Y(n,{code:V.invalid_type,expected:Z.map,received:n.parsedType}),ce;const s=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:s._parse(new Vn(n,l,n.path,[u,"key"])),value:i._parse(new Vn(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return ce;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return ce;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}nf.create=(t,e,r)=>new nf({valueType:e,keyType:t,typeName:ue.ZodMap,...ge(r)});class co extends be{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Z.set)return Y(n,{code:V.invalid_type,expected:Z.set,received:n.parsedType}),ce;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(Y(n,{code:V.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(Y(n,{code:V.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return ce;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>i._parse(new Vn(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,r){return new co({...this._def,minSize:{value:e,message:se.toString(r)}})}max(e,r){return new co({...this._def,maxSize:{value:e,message:se.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}co.create=(t,e)=>new co({valueType:t,minSize:null,maxSize:null,typeName:ue.ZodSet,...ge(e)});class da extends be{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Z.function)return Y(r,{code:V.invalid_type,expected:Z.function,received:r.parsedType}),ce;function n(l,c){return ef({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Xd(),Fa].filter(u=>!!u),issueData:{code:V.invalid_arguments,argumentsError:c}})}function s(l,c){return ef({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Xd(),Fa].filter(u=>!!u),issueData:{code:V.invalid_return_type,returnTypeError:c}})}const i={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof Ua){const l=this;return ir(async function(...c){const u=new Dr([]),d=await l._def.args.parseAsync(c,i).catch(m=>{throw u.addIssue(n(c,m)),u}),f=await Reflect.apply(o,this,d);return await l._def.returns._def.type.parseAsync(f,i).catch(m=>{throw u.addIssue(s(f,m)),u})})}else{const l=this;return ir(function(...c){const u=l._def.args.safeParse(c,i);if(!u.success)throw new Dr([n(c,u.error)]);const d=Reflect.apply(o,this,u.data),f=l._def.returns.safeParse(d,i);if(!f.success)throw new Dr([s(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new da({...this._def,args:zn.create(e).rest(Gi.create())})}returns(e){return new da({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new da({args:e||zn.create([]).rest(Gi.create()),returns:r||Gi.create(),typeName:ue.ZodFunction,...ge(n)})}}class Sc extends be{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Sc.create=(t,e)=>new Sc({getter:t,typeName:ue.ZodLazy,...ge(e)});class jc extends be{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return Y(r,{received:r.data,code:V.invalid_literal,expected:this._def.value}),ce}return{status:"valid",value:e.data}}get value(){return this._def.value}}jc.create=(t,e)=>new jc({value:t,typeName:ue.ZodLiteral,...ge(e)});function rA(t,e){return new fi({values:t,typeName:ue.ZodEnum,...ge(e)})}class fi extends be{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return Y(r,{expected:Ee.joinValues(n),received:r.parsedType,code:V.invalid_type}),ce}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return Y(r,{received:r.data,code:V.invalid_enum_value,options:n}),ce}return ir(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return fi.create(e,{...this._def,...r})}exclude(e,r=this._def){return fi.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}fi.create=rA;class kc extends be{_parse(e){const r=Ee.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Z.string&&n.parsedType!==Z.number){const s=Ee.objectValues(r);return Y(n,{expected:Ee.joinValues(s),received:n.parsedType,code:V.invalid_type}),ce}if(this._cache||(this._cache=new Set(Ee.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=Ee.objectValues(r);return Y(n,{received:n.data,code:V.invalid_enum_value,options:s}),ce}return ir(e.data)}get enum(){return this._def.values}}kc.create=(t,e)=>new kc({values:t,typeName:ue.ZodNativeEnum,...ge(e)});class Ua extends be{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Z.promise&&r.common.async===!1)return Y(r,{code:V.invalid_type,expected:Z.promise,received:r.parsedType}),ce;const n=r.parsedType===Z.promise?r.data:Promise.resolve(r.data);return ir(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Ua.create=(t,e)=>new Ua({type:t,typeName:ue.ZodPromise,...ge(e)});class bn extends be{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ue.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{Y(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return ce;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?ce:c.status==="dirty"||r.value==="dirty"?Qo(c.value):c});{if(r.value==="aborted")return ce;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?ce:l.status==="dirty"||r.value==="dirty"?Qo(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?ce:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?ce:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!ao(o))return ce;const l=s.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>ao(o)?Promise.resolve(s.transform(o.value,i)).then(l=>({status:r.value,value:l})):ce);Ee.assertNever(s)}}bn.create=(t,e,r)=>new bn({schema:t,typeName:ue.ZodEffects,effect:e,...ge(r)});bn.createWithPreprocess=(t,e,r)=>new bn({schema:e,effect:{type:"preprocess",transform:t},typeName:ue.ZodEffects,...ge(r)});class Un extends be{_parse(e){return this._getType(e)===Z.undefined?ir(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Un.create=(t,e)=>new Un({innerType:t,typeName:ue.ZodOptional,...ge(e)});class hi extends be{_parse(e){return this._getType(e)===Z.null?ir(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}hi.create=(t,e)=>new hi({innerType:t,typeName:ue.ZodNullable,...ge(e)});class Nc extends be{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===Z.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Nc.create=(t,e)=>new Nc({innerType:t,typeName:ue.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ge(e)});class Cc extends be{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return gc(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Dr(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Dr(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Cc.create=(t,e)=>new Cc({innerType:t,typeName:ue.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ge(e)});class sf extends be{_parse(e){if(this._getType(e)!==Z.nan){const n=this._getOrReturnCtx(e);return Y(n,{code:V.invalid_type,expected:Z.nan,received:n.parsedType}),ce}return{status:"valid",value:e.data}}}sf.create=t=>new sf({typeName:ue.ZodNaN,...ge(t)});const CB=Symbol("zod_brand");class Hy extends be{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Xc extends be{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?ce:i.status==="dirty"?(r.dirty(),Qo(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?ce:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,r){return new Xc({in:e,out:r,typeName:ue.ZodPipeline})}}class Ec extends be{_parse(e){const r=this._def.innerType._parse(e),n=s=>(ao(s)&&(s.value=Object.freeze(s.value)),s);return gc(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}Ec.create=(t,e)=>new Ec({innerType:t,typeName:ue.ZodReadonly,...ge(e)});function cw(t,e){const r=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof r=="string"?{message:r}:r}function Ky(t,e={},r){return t?$a.create().superRefine((n,s)=>{const i=t(n);if(i instanceof Promise)return i.then(o=>{if(!o){const l=cw(e,n),c=l.fatal??r??!0;s.addIssue({code:"custom",...l,fatal:c})}});if(!i){const o=cw(e,n),l=o.fatal??r??!0;s.addIssue({code:"custom",...o,fatal:l})}}):$a.create()}const EB={object:tt.lazycreate};var ue;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ue||(ue={}));const PB=(t,e={message:`Input not instance of ${t.name}`})=>Ky(r=>r instanceof t,e),_e=mn.create,ft=ui.create,TB=sf.create,AB=di.create,Gy=yc.create,nA=lo.create,OB=tf.create,RB=vc.create,sA=xc.create,of=$a.create,DB=Gi.create,IB=ps.create,MB=rf.create,gs=yn.create,eu=tt.create,LB=tt.strictCreate,Qy=wc.create,FB=Jf.create,$B=bc.create,UB=zn.create,iA=_c.create,BB=nf.create,VB=co.create,zB=da.create,WB=Sc.create,qB=jc.create,Yy=fi.create,HB=kc.create,KB=Ua.create,uw=bn.create,GB=Un.create,QB=hi.create,YB=bn.createWithPreprocess,JB=Xc.create,ZB=()=>_e().optional(),XB=()=>ft().optional(),eV=()=>Gy().optional(),Zf={string:t=>mn.create({...t,coerce:!0}),number:t=>ui.create({...t,coerce:!0}),boolean:t=>yc.create({...t,coerce:!0}),bigint:t=>di.create({...t,coerce:!0}),date:t=>lo.create({...t,coerce:!0})},tV=ce,rV=Object.freeze(Object.defineProperty({__proto__:null,BRAND:CB,DIRTY:Qo,EMPTY_PATH:iB,INVALID:ce,NEVER:tV,OK:ir,ParseStatus:zt,Schema:be,ZodAny:$a,ZodArray:yn,ZodBigInt:di,ZodBoolean:yc,ZodBranded:Hy,ZodCatch:Cc,ZodDate:lo,ZodDefault:Nc,ZodDiscriminatedUnion:Jf,ZodEffects:bn,ZodEnum:fi,ZodError:Dr,get ZodFirstPartyTypeKind(){return ue},ZodFunction:da,ZodIntersection:bc,ZodIssueCode:V,ZodLazy:Sc,ZodLiteral:jc,ZodMap:nf,ZodNaN:sf,ZodNativeEnum:kc,ZodNever:ps,ZodNull:xc,ZodNullable:hi,ZodNumber:ui,ZodObject:tt,ZodOptional:Un,ZodParsedType:Z,ZodPipeline:Xc,ZodPromise:Ua,ZodReadonly:Ec,ZodRecord:_c,ZodSchema:be,ZodSet:co,ZodString:mn,ZodSymbol:tf,ZodTransformer:bn,ZodTuple:zn,ZodType:be,ZodUndefined:vc,ZodUnion:wc,ZodUnknown:Gi,ZodVoid:rf,addIssueToContext:Y,any:of,array:gs,bigint:AB,boolean:Gy,coerce:Zf,custom:Ky,date:nA,datetimeRegex:tA,defaultErrorMap:Fa,discriminatedUnion:FB,effect:uw,enum:Yy,function:zB,getErrorMap:Xd,getParsedType:ts,instanceof:PB,intersection:$B,isAborted:eg,isAsync:gc,isDirty:tg,isValid:ao,late:EB,lazy:WB,literal:qB,makeIssue:ef,map:BB,nan:TB,nativeEnum:HB,never:IB,null:sA,nullable:QB,number:ft,object:eu,get objectUtil(){return Xp},oboolean:eV,onumber:XB,optional:GB,ostring:ZB,pipeline:JB,preprocess:YB,promise:KB,quotelessJson:nB,record:iA,set:VB,setErrorMap:sB,strictObject:LB,string:_e,symbol:OB,transformer:uw,tuple:UB,undefined:RB,union:Qy,unknown:DB,get util(){return Ee},void:MB},Symbol.toStringTag,{value:"Module"})),et={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function ct(t,e){return e.includes(t.columnType)}function nV(t){return"enumValues"in t&&Array.isArray(t.enumValues)&&t.enumValues.length>0}const sV=Qy([_e(),ft(),Gy(),sA()]),iV=Qy([sV,iA(of()),gs(of())]),oV=Ky(t=>t instanceof Buffer);function oA(t,e){const r=(e==null?void 0:e.zodInstance)??rV,n=(e==null?void 0:e.coerce)??{};let s;return nV(t)&&(s=t.enumValues.length?r.enum(t.enumValues):r.string()),s||(ct(t,["PgGeometry","PgPointTuple"])?s=r.tuple([r.number(),r.number()]):ct(t,["PgGeometryObject","PgPointObject"])?s=r.object({x:r.number(),y:r.number()}):ct(t,["PgHalfVector","PgVector"])?(s=r.array(r.number()),s=t.dimensions?s.length(t.dimensions):s):ct(t,["PgLine"])?s=r.tuple([r.number(),r.number(),r.number()]):ct(t,["PgLineABC"])?s=r.object({a:r.number(),b:r.number(),c:r.number()}):ct(t,["PgArray"])?(s=r.array(oA(t.baseColumn,r)),s=t.size?s.length(t.size):s):t.dataType==="array"?s=r.array(r.any()):t.dataType==="number"?s=aV(t,r,n):t.dataType==="bigint"?s=lV(t,r,n):t.dataType==="boolean"?s=n===!0||n.boolean?r.coerce.boolean():r.boolean():t.dataType==="date"?s=n===!0||n.date?r.coerce.date():r.date():t.dataType==="string"?s=cV(t,r,n):t.dataType==="json"?s=iV:t.dataType==="custom"?s=r.any():t.dataType==="buffer"&&(s=oV)),s||(s=r.any()),s}function aV(t,e,r){let n=t.getSQLType().includes("unsigned"),s,i,o=!1;ct(t,["MySqlTinyInt","SingleStoreTinyInt"])?(s=n?0:et.INT8_MIN,i=n?et.INT8_UNSIGNED_MAX:et.INT8_MAX,o=!0):ct(t,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(s=n?0:et.INT16_MIN,i=n?et.INT16_UNSIGNED_MAX:et.INT16_MAX,o=!0):ct(t,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(s=n?0:et.INT24_MIN,i=n?et.INT24_UNSIGNED_MAX:et.INT24_MAX,o=ct(t,["MySqlMediumInt","SingleStoreMediumInt"])):ct(t,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(s=n?0:et.INT32_MIN,i=n?et.INT32_UNSIGNED_MAX:et.INT32_MAX,o=!0):ct(t,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(s=n?0:et.INT48_MIN,i=n?et.INT48_UNSIGNED_MAX:et.INT48_MAX):ct(t,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(n=n||ct(t,["MySqlSerial","SingleStoreSerial"]),s=n?0:Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER,o=!0):ct(t,["MySqlYear","SingleStoreYear"])?(s=1901,i=2155,o=!0):(s=Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER);let l=r===!0||r!=null&&r.number?e.coerce.number():e.number();return l=l.min(s).max(i),o?l.int():l}function lV(t,e,r){const n=t.getSQLType().includes("unsigned"),s=n?0n:et.INT64_MIN,i=n?et.INT64_UNSIGNED_MAX:et.INT64_MAX;return(r===!0||r!=null&&r.bigint?e.coerce.bigint():e.bigint()).min(s).max(i)}function cV(t,e,r){if(ct(t,["PgUUID"]))return e.string().uuid();let n,s,i=!1;ct(t,["PgVarchar","SQLiteText"])?n=t.length:ct(t,["MySqlVarChar","SingleStoreVarChar"])?n=t.length??et.INT16_UNSIGNED_MAX:ct(t,["MySqlText","SingleStoreText"])&&(t.textType==="longtext"?n=et.INT32_UNSIGNED_MAX:t.textType==="mediumtext"?n=et.INT24_UNSIGNED_MAX:t.textType==="text"?n=et.INT16_UNSIGNED_MAX:n=et.INT8_UNSIGNED_MAX),ct(t,["PgChar","MySqlChar","SingleStoreChar"])&&(n=t.length,i=!0),ct(t,["PgBinaryVector"])&&(s=/^[01]+$/,n=t.dimensions);let o=r===!0||r!=null&&r.string?e.coerce.string():e.string();return o=s?o.regex(s):o,n&&i?o.length(n):n?o.max(n):o}function aA(t){return _T(t)?k8(t):N8(t)}function lA(t,e,r,n){const s={};for(const[i,o]of Object.entries(t)){if(!Ot(o,La)&&!Ot(o,St)&&!Ot(o,St.Aliased)&&typeof o=="object"){const f=_T(o)||j8(o)?aA(o):o;s[i]=lA(f,e[i]??{},r,n);continue}const l=e[i];if(l!==void 0&&typeof l!="function"){s[i]=l;continue}const c=Ot(o,La)?o:void 0,u=c?oA(c,n):of(),d=typeof l=="function"?l(u):u;r.never(c)||(s[i]=d,c&&(r.nullable(c)&&(s[i]=s[i].nullable()),r.optional(c)&&(s[i]=s[i].optional())))}return eu(s)}const uV={never:t=>{var e,r;return((e=t==null?void 0:t.generated)==null?void 0:e.type)==="always"||((r=t==null?void 0:t.generatedIdentity)==null?void 0:r.type)==="always"},optional:t=>!t.notNull||t.notNull&&t.hasDefault,nullable:t=>!t.notNull},qt=(t,e)=>{const r=aA(t);return lA(r,{},uV)},dV=Wt("classes",{id:Xr("id").primaryKey(),date:Je("date").notNull(),time:oe("time").notNull(),duration:pe("duration").notNull(),classType:oe("class_type").notNull(),instructor:oe("instructor").notNull(),trainingPartners:oe("training_partners").array(),techniquesFocused:oe("techniques_focused"),rollingPartners:oe("rolling_partners").array(),yourSubmissions:pe("your_submissions").default(0),partnerSubmissions:pe("partner_submissions").default(0),cardioRating:pe("cardio_rating"),userId:pe("user_id").references(()=>br.id),createdAt:Je("created_at").defaultNow()}),fV=Wt("videos",{id:Xr("id").primaryKey(),title:oe("title").notNull(),description:oe("description"),url:oe("url").notNull(),category:oe("category").notNull(),tags:oe("tags").array(),isFavorite:pe("is_favorite").default(0),duration:oe("duration"),thumbnailUrl:oe("thumbnail_url"),createdAt:Je("created_at").defaultNow()}),cA=Wt("notes",{id:ms("id").primaryKey().default(oo`gen_random_uuid()`),title:oe("title").notNull(),content:oe("content").notNull(),tags:oe("tags").array(),linkedClassId:pe("linked_class_id"),linkedVideoId:pe("linked_video_id"),userId:pe("user_id").notNull().references(()=>br.id),isShared:pe("is_shared").default(0),gymId:pe("gym_id").references(()=>Jy.id),sharedWithUsers:oe("shared_with_users").array(),videoUrl:oe("video_url"),videoFileName:oe("video_file_name"),videoThumbnail:oe("video_thumbnail"),createdAt:Je("created_at").defaultNow(),updatedAt:Je("updated_at").defaultNow()}),hV=Wt("drawings",{id:Xr("id").primaryKey(),title:oe("title").notNull(),canvasData:oe("canvas_data").notNull(),linkedNoteId:pe("linked_note_id"),linkedClassId:pe("linked_class_id"),userId:pe("user_id").references(()=>br.id),createdAt:Je("created_at").defaultNow()}),mV=Wt("belts",{id:Xr("id").primaryKey(),belt:oe("belt").notNull(),stripes:pe("stripes").notNull().default(0),promotionDate:Je("promotion_date").notNull(),instructor:oe("instructor"),notes:oe("notes"),userId:pe("user_id").references(()=>br.id),createdAt:Je("created_at").defaultNow()}),br=Wt("users",{id:Xr("id").primaryKey(),email:oe("email").unique().notNull(),password:oe("password"),firstName:oe("first_name"),lastName:oe("last_name"),subscriptionTier:oe("subscription_tier").default("free"),stripeCustomerId:oe("stripe_customer_id"),stripeSubscriptionId:oe("stripe_subscription_id"),subscriptionStatus:oe("subscription_status").default("free"),subscriptionPlan:oe("subscription_plan"),revenuecatCustomerId:oe("revenuecat_customer_id"),subscriptionExpiresAt:Je("subscription_expires_at"),gymApprovalStatus:oe("gym_approval_status").default("none"),classCount:pe("class_count").default(0),noteCount:pe("note_count").default(0),weeklyShareCount:pe("weekly_share_count").default(0),shareResetDate:Je("share_reset_date"),role:oe("role").default("user"),createdAt:Je("created_at").defaultNow(),supabaseUid:ms("supabase_uid").unique()}),pV=Wt("profiles",{id:ms("id").primaryKey()}),gV=Wt("auth_identities",{userId:pe("user_id").primaryKey().references(()=>br.id,{onDelete:"cascade"}),supabaseUid:ms("supabase_uid").unique().notNull()}),yV=Wt("app_notes",{id:ms("id").primaryKey().default(oo`gen_random_uuid()`),title:oe("title").notNull(),content:oe("content").notNull(),tags:oe("tags").array(),linkedClassId:pe("linked_class_id"),linkedVideoId:pe("linked_video_id"),userId:pe("user_id").notNull().references(()=>br.id,{onDelete:"cascade"}),isShared:pe("is_shared").default(0),sharedWithUsers:oe("shared_with_users").array(),videoUrl:oe("video_url"),videoFileName:oe("video_file_name"),videoThumbnail:oe("video_thumbnail"),createdAt:Je("created_at").defaultNow(),updatedAt:Je("updated_at").defaultNow()}),vV=Wt("weekly_commitments",{id:Xr("id").primaryKey(),weekStartDate:Je("week_start_date").notNull(),targetClasses:pe("target_classes").notNull(),completedClasses:pe("completed_classes").default(0),isCompleted:pe("is_completed").default(0),userId:pe("user_id").references(()=>br.id),createdAt:Je("created_at").defaultNow(),updatedAt:Je("updated_at").defaultNow()}),xV=Wt("training_videos",{id:Xr("id").primaryKey(),title:oe("title").notNull(),description:oe("description"),videoUrl:oe("video_url").notNull(),thumbnailUrl:oe("thumbnail_url"),uploadedBy:pe("uploaded_by").references(()=>br.id).notNull(),isPublic:pe("is_public").default(1),tags:oe("tags").array(),category:oe("category"),duration:pe("duration"),views:pe("views").default(0),likes:pe("likes").default(0),createdAt:Je("created_at").defaultNow()}),wV=Wt("password_reset_tokens",{id:Xr("id").primaryKey(),token:oe("token").notNull().unique(),userId:pe("user_id").references(()=>br.id).notNull(),expiresAt:Je("expires_at").notNull(),used:pe("used").default(0),createdAt:Je("created_at").defaultNow()}),bV=Wt("note_likes",{id:Xr("id").primaryKey(),noteId:ms("note_id").references(()=>cA.id).notNull(),userId:pe("user_id").references(()=>br.id).notNull(),createdAt:Je("created_at").defaultNow()}),_V=Wt("game_plans",{id:ms("id").primaryKey().default(oo`gen_random_uuid()`),userId:pe("user_id").references(()=>br.id).notNull(),planName:oe("plan_name").notNull(),moveName:oe("move_name").notNull(),description:oe("description"),parentId:ms("parent_id"),moveOrder:pe("move_order").default(0),createdAt:Je("created_at").defaultNow(),updatedAt:Je("updated_at").defaultNow()}),Jy=Wt("gyms",{id:Xr("id").primaryKey(),name:oe("name").notNull(),code:oe("code").notNull().unique(),ownerId:pe("owner_id").references(()=>br.id).notNull(),createdAt:Je("created_at").defaultNow()}),SV=Wt("gym_memberships",{id:Xr("id").primaryKey(),userId:pe("user_id").references(()=>br.id).notNull(),gymId:pe("gym_id").references(()=>Jy.id).notNull(),role:oe("role").notNull().default("member"),createdAt:Je("created_at").defaultNow()});qt(dV).omit({id:!0,createdAt:!0}).extend({date:Zf.date(),trainingPartners:gs(_e()).optional(),techniquesFocused:_e().optional()});qt(fV).omit({id:!0,createdAt:!0}).extend({description:_e().optional(),tags:gs(_e()).optional(),isFavorite:ft().optional(),duration:_e().optional(),thumbnailUrl:_e().optional()});qt(cA).omit({id:!0,createdAt:!0,updatedAt:!0}).extend({tags:gs(_e()).optional(),linkedClassId:ft().optional(),linkedVideoId:ft().optional(),userId:_e().optional(),isShared:ft().optional(),gymId:ft().optional(),sharedWithUsers:gs(_e()).optional()});qt(hV).omit({id:!0,createdAt:!0}).extend({linkedNoteId:ft().optional(),linkedClassId:ft().optional()});const jV=qt(mV).omit({id:!0,createdAt:!0}).extend({promotionDate:Zf.date(),instructor:_e().optional(),notes:_e().optional()});qt(br).omit({id:!0,createdAt:!0}).extend({email:_e().email(),password:_e().min(8),firstName:_e().optional(),lastName:_e().optional(),subscriptionStatus:Yy(["free","premium","active","paused"]).optional(),subscriptionExpiresAt:nA().optional(),supabaseId:_e().optional()});qt(pV);qt(gV);qt(yV).omit({id:!0,createdAt:!0,updatedAt:!0}).extend({tags:gs(_e()).optional(),linkedClassId:ft().optional(),linkedVideoId:ft().optional(),isShared:ft().optional(),sharedWithUsers:gs(_e()).optional()});qt(vV).omit({id:!0,createdAt:!0}).extend({weekStartDate:Zf.date(),targetClasses:ft().min(1).max(10),completedClasses:ft().default(0),isCompleted:ft().default(0)});qt(xV).omit({id:!0,createdAt:!0}).extend({description:_e().optional(),thumbnailUrl:_e().optional(),tags:gs(_e()).optional(),category:_e().optional(),duration:ft().optional(),views:ft().default(0),likes:ft().default(0)});qt(wV).omit({id:!0,createdAt:!0});qt(bV).omit({id:!0,createdAt:!0});qt(_V).omit({id:!0,createdAt:!0,updatedAt:!0}).extend({description:_e().optional(),parentId:_e().optional(),moveOrder:ft().optional()});qt(Jy).omit({id:!0,createdAt:!0}).extend({code:_e().optional(),ownerId:ft().optional()});qt(SV).omit({id:!0,createdAt:!0}).extend({role:Yy(["admin","member"]).default("member")});var kV="Label",uA=g.forwardRef((t,e)=>a.jsx(Ne.label,{...t,ref:e,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));uA.displayName=kV;var dA=uA;const NV=$N("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),er=g.forwardRef(({className:t,...e},r)=>a.jsx(dA,{ref:r,className:he(NV(),t),...e}));er.displayName=dA.displayName;const CV=YU,fA=g.createContext({}),gl=({...t})=>a.jsx(fA.Provider,{value:{name:t.name},children:a.jsx(e8,{...t})}),Xf=()=>{const t=g.useContext(fA),e=g.useContext(hA),{getFieldState:r,formState:n}=Yf(),s=r(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:i}=e;return{id:i,name:t.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},hA=g.createContext({}),Ro=g.forwardRef(({className:t,...e},r)=>{const n=g.useId();return a.jsx(hA.Provider,{value:{id:n},children:a.jsx("div",{ref:r,className:he("space-y-2",t),...e})})});Ro.displayName="FormItem";const Do=g.forwardRef(({className:t,...e},r)=>{const{error:n,formItemId:s}=Xf();return a.jsx(er,{ref:r,className:he(n&&"text-destructive",t),htmlFor:s,...e})});Do.displayName="FormLabel";const Io=g.forwardRef(({...t},e)=>{const{error:r,formItemId:n,formDescriptionId:s,formMessageId:i}=Xf();return a.jsx(IN,{ref:e,id:n,"aria-describedby":r?`${s} ${i}`:`${s}`,"aria-invalid":!!r,...t})});Io.displayName="FormControl";const EV=g.forwardRef(({className:t,...e},r)=>{const{formDescriptionId:n}=Xf();return a.jsx("p",{ref:r,id:n,className:he("text-sm text-muted-foreground",t),...e})});EV.displayName="FormDescription";const Mo=g.forwardRef(({className:t,children:e,...r},n)=>{const{error:s,formMessageId:i}=Xf(),o=s?String((s==null?void 0:s.message)??""):e;return o?a.jsx("p",{ref:n,id:i,className:he("text-sm font-medium text-destructive",t),...r,children:o}):null});Mo.displayName="FormMessage";function Ae(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Mr(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Zt(t,e){const r=Ae(t);return isNaN(e)?Mr(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function _n(t,e){const r=Ae(t);if(isNaN(e))return Mr(t,NaN);if(!e)return r;const n=r.getDate(),s=Mr(t,r.getTime());s.setMonth(r.getMonth()+e+1,0);const i=s.getDate();return n>=i?s:(r.setFullYear(s.getFullYear(),s.getMonth(),n),r)}const Zy=6048e5,PV=864e5;let TV={};function tu(){return TV}function Wn(t,e){var l,c,u,d;const r=tu(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Ae(t),i=s.getDay(),o=(i<n?7:0)+i-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function uo(t){return Wn(t,{weekStartsOn:1})}function mA(t){const e=Ae(t),r=e.getFullYear(),n=Mr(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=uo(n),i=Mr(t,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=uo(i);return e.getTime()>=s.getTime()?r+1:e.getTime()>=o.getTime()?r:r-1}function Ba(t){const e=Ae(t);return e.setHours(0,0,0,0),e}function af(t){const e=Ae(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function In(t,e){const r=Ba(t),n=Ba(e),s=+r-af(r),i=+n-af(n);return Math.round((s-i)/PV)}function AV(t){const e=mA(t),r=Mr(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),uo(r)}function ng(t,e){const r=e*7;return Zt(t,r)}function OV(t,e){return _n(t,e*12)}function RV(t){let e;return t.forEach(function(r){const n=Ae(r);(e===void 0||e<n||isNaN(Number(n)))&&(e=n)}),e||new Date(NaN)}function DV(t){let e;return t.forEach(r=>{const n=Ae(r);(!e||e>n||isNaN(+n))&&(e=n)}),e||new Date(NaN)}function gr(t,e){const r=Ba(t),n=Ba(e);return+r==+n}function Xy(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function IV(t){if(!Xy(t)&&typeof t!="number")return!1;const e=Ae(t);return!isNaN(Number(e))}function Pc(t,e){const r=Ae(t),n=Ae(e),s=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return s*12+i}function MV(t,e,r){const n=Wn(t,r),s=Wn(e,r),i=+n-af(n),o=+s-af(s);return Math.round((i-o)/Zy)}function ev(t){const e=Ae(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function wr(t){const e=Ae(t);return e.setDate(1),e.setHours(0,0,0,0),e}function pA(t){const e=Ae(t),r=Mr(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}function tv(t,e){var l,c,u,d;const r=tu(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Ae(t),i=s.getDay(),o=(i<n?-7:0)+6-(i-n);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}function gA(t){return tv(t,{weekStartsOn:1})}const LV={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},FV=(t,e,r)=>{let n;const s=LV[t];return typeof s=="string"?n=s:e===1?n=s.one:n=s.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function am(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const $V={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},UV={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},BV={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},VV={date:am({formats:$V,defaultWidth:"full"}),time:am({formats:UV,defaultWidth:"full"}),dateTime:am({formats:BV,defaultWidth:"full"})},zV={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},WV=(t,e,r,n)=>zV[t];function yl(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=r!=null&&r.width?String(r.width):o;s=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;s=t.values[l]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const qV={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},HV={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},KV={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},GV={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},QV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},YV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},JV=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},ZV={ordinalNumber:JV,era:yl({values:qV,defaultWidth:"wide"}),quarter:yl({values:HV,defaultWidth:"wide",argumentCallback:t=>t-1}),month:yl({values:KV,defaultWidth:"wide"}),day:yl({values:GV,defaultWidth:"wide"}),dayPeriod:yl({values:QV,defaultWidth:"wide",formattingValues:YV,defaultFormattingWidth:"wide"})};function vl(t){return(e,r={})=>{const n=r.width,s=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?ez(l,f=>f.test(o)):XV(l,f=>f.test(o));let u;u=t.valueCallback?t.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=e.slice(o.length);return{value:u,rest:d}}}function XV(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function ez(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function tz(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const s=n[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=e.slice(s.length);return{value:o,rest:l}}}const rz=/^(\d+)(th|st|nd|rd)?/i,nz=/\d+/i,sz={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},iz={any:[/^b/i,/^(a|c)/i]},oz={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},az={any:[/1/i,/2/i,/3/i,/4/i]},lz={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},cz={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},uz={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},dz={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},fz={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},hz={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},mz={ordinalNumber:tz({matchPattern:rz,parsePattern:nz,valueCallback:t=>parseInt(t,10)}),era:vl({matchPatterns:sz,defaultMatchWidth:"wide",parsePatterns:iz,defaultParseWidth:"any"}),quarter:vl({matchPatterns:oz,defaultMatchWidth:"wide",parsePatterns:az,defaultParseWidth:"any",valueCallback:t=>t+1}),month:vl({matchPatterns:lz,defaultMatchWidth:"wide",parsePatterns:cz,defaultParseWidth:"any"}),day:vl({matchPatterns:uz,defaultMatchWidth:"wide",parsePatterns:dz,defaultParseWidth:"any"}),dayPeriod:vl({matchPatterns:fz,defaultMatchWidth:"any",parsePatterns:hz,defaultParseWidth:"any"})},yA={code:"en-US",formatDistance:FV,formatLong:VV,formatRelative:WV,localize:ZV,match:mz,options:{weekStartsOn:0,firstWeekContainsDate:1}};function pz(t){const e=Ae(t);return In(e,pA(e))+1}function vA(t){const e=Ae(t),r=+uo(e)-+AV(e);return Math.round(r/Zy)+1}function xA(t,e){var d,f,h,m;const r=Ae(t),n=r.getFullYear(),s=tu(),i=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(h=s.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=Mr(t,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=Wn(o,e),c=Mr(t,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=Wn(c,e);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function gz(t,e){var l,c,u,d;const r=tu(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=xA(t,e),i=Mr(t,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),Wn(i,e)}function wA(t,e){const r=Ae(t),n=+Wn(r,e)-+gz(r,e);return Math.round(n/Zy)+1}function Be(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Es={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return Be(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):Be(r+1,2)},d(t,e){return Be(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return Be(t.getHours()%12||12,e.length)},H(t,e){return Be(t.getHours(),e.length)},m(t,e){return Be(t.getMinutes(),e.length)},s(t,e){return Be(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Be(s,e.length)}},Po={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},dw={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return Es.y(t,e)},Y:function(t,e,r,n){const s=xA(t,n),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return Be(o,2)}return e==="Yo"?r.ordinalNumber(i,{unit:"year"}):Be(i,e.length)},R:function(t,e){const r=mA(t);return Be(r,e.length)},u:function(t,e){const r=t.getFullYear();return Be(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Be(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Be(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Es.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return Be(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const s=wA(t,n);return e==="wo"?r.ordinalNumber(s,{unit:"week"}):Be(s,e.length)},I:function(t,e,r){const n=vA(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):Be(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Es.d(t,e)},D:function(t,e,r){const n=pz(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Be(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const s=t.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return Be(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const s=t.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return Be(i,e.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),s=n===0?7:n;switch(e){case"i":return String(s);case"ii":return Be(s,e.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let s;switch(n===12?s=Po.noon:n===0?s=Po.midnight:s=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let s;switch(n>=17?s=Po.evening:n>=12?s=Po.afternoon:n>=4?s=Po.morning:s=Po.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Es.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Es.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Be(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):Be(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Es.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Es.s(t,e)},S:function(t,e){return Es.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return hw(n);case"XXXX":case"XX":return Ci(n);case"XXXXX":case"XXX":default:return Ci(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return hw(n);case"xxxx":case"xx":return Ci(n);case"xxxxx":case"xxx":default:return Ci(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+fw(n,":");case"OOOO":default:return"GMT"+Ci(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+fw(n,":");case"zzzz":default:return"GMT"+Ci(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return Be(n,e.length)},T:function(t,e,r){const n=t.getTime();return Be(n,e.length)}};function fw(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+e+Be(i,2)}function hw(t,e){return t%60===0?(t>0?"-":"+")+Be(Math.abs(t)/60,2):Ci(t,e)}function Ci(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=Be(Math.trunc(n/60),2),i=Be(n%60,2);return r+s+e+i}const mw=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},bA=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},yz=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return mw(t,e);let i;switch(n){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",mw(n,e)).replace("{{time}}",bA(s,e))},vz={p:bA,P:yz},xz=/^D+$/,wz=/^Y+$/,bz=["D","DD","YY","YYYY"];function _z(t){return xz.test(t)}function Sz(t){return wz.test(t)}function jz(t,e,r){const n=kz(t,e,r);if(console.warn(n),bz.includes(t))throw new RangeError(n)}function kz(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Nz=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Cz=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ez=/^'([^]*?)'?$/,Pz=/''/g,Tz=/[a-zA-Z]/;function ys(t,e,r){var d,f,h,m,y,x,b,w;const n=tu(),s=(r==null?void 0:r.locale)??n.locale??yA,i=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((x=(y=r==null?void 0:r.locale)==null?void 0:y.options)==null?void 0:x.weekStartsOn)??n.weekStartsOn??((w=(b=n.locale)==null?void 0:b.options)==null?void 0:w.weekStartsOn)??0,l=Ae(t);if(!IV(l))throw new RangeError("Invalid time value");let c=e.match(Cz).map(p=>{const v=p[0];if(v==="p"||v==="P"){const _=vz[v];return _(p,s.formatLong)}return p}).join("").match(Nz).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const v=p[0];if(v==="'")return{isToken:!1,value:Az(p)};if(dw[v])return{isToken:!0,value:p};if(v.match(Tz))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:p}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return c.map(p=>{if(!p.isToken)return p.value;const v=p.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Sz(v)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&_z(v))&&jz(v,e,String(t));const _=dw[v[0]];return _(l,v,s.localize,u)}).join("")}function Az(t){const e=t.match(Ez);return e?e[1].replace(Pz,"'"):t}function Oz(t){const e=Ae(t),r=e.getFullYear(),n=e.getMonth(),s=Mr(t,0);return s.setFullYear(r,n+1,0),s.setHours(0,0,0,0),s.getDate()}function Rz(t){return Math.trunc(+Ae(t)/1e3)}function Dz(t){const e=Ae(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(0,0,0,0),e}function Iz(t,e){return MV(Dz(t),wr(t),e)+1}function sg(t,e){const r=Ae(t),n=Ae(e);return r.getTime()>n.getTime()}function _A(t,e){const r=Ae(t),n=Ae(e);return+r<+n}function rv(t,e){const r=Ae(t),n=Ae(e);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function Mz(t,e){const r=Ae(t),n=Ae(e);return r.getFullYear()===n.getFullYear()}function lm(t,e){return Zt(t,-e)}function cm(t,e){const r=Ae(t),n=r.getFullYear(),s=r.getDate(),i=Mr(t,0);i.setFullYear(n,e,15),i.setHours(0,0,0,0);const o=Oz(i);return r.setMonth(e,Math.min(s,o)),r}function pw(t,e){const r=Ae(t);return isNaN(+r)?Mr(t,NaN):(r.setFullYear(e),r)}var de=function(){return de=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},de.apply(this,arguments)};function Lz(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function SA(t,e,r){for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function ru(t){return t.mode==="multiple"}function nu(t){return t.mode==="range"}function eh(t){return t.mode==="single"}var Fz={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function $z(t,e){return ys(t,"LLLL y",e)}function Uz(t,e){return ys(t,"d",e)}function Bz(t,e){return ys(t,"LLLL",e)}function Vz(t){return"".concat(t)}function zz(t,e){return ys(t,"cccccc",e)}function Wz(t,e){return ys(t,"yyyy",e)}var qz=Object.freeze({__proto__:null,formatCaption:$z,formatDay:Uz,formatMonthCaption:Bz,formatWeekNumber:Vz,formatWeekdayName:zz,formatYearCaption:Wz}),Hz=function(t,e,r){return ys(t,"do MMMM (EEEE)",r)},Kz=function(){return"Month: "},Gz=function(){return"Go to next month"},Qz=function(){return"Go to previous month"},Yz=function(t,e){return ys(t,"cccc",e)},Jz=function(t){return"Week n. ".concat(t)},Zz=function(){return"Year: "},Xz=Object.freeze({__proto__:null,labelDay:Hz,labelMonthDropdown:Kz,labelNext:Gz,labelPrevious:Qz,labelWeekNumber:Jz,labelWeekday:Yz,labelYearDropdown:Zz});function e9(){var t="buttons",e=Fz,r=yA,n={},s={},i=1,o={},l=new Date;return{captionLayout:t,classNames:e,formatters:qz,labels:Xz,locale:r,modifiersClassNames:n,modifiers:s,numberOfMonths:i,styles:o,today:l,mode:"default"}}function t9(t){var e=t.fromYear,r=t.toYear,n=t.fromMonth,s=t.toMonth,i=t.fromDate,o=t.toDate;return n?i=wr(n):e&&(i=new Date(e,0,1)),s?o=ev(s):r&&(o=new Date(r,11,31)),{fromDate:i?Ba(i):void 0,toDate:o?Ba(o):void 0}}var jA=g.createContext(void 0);function r9(t){var e,r=t.initialProps,n=e9(),s=t9(r),i=s.fromDate,o=s.toDate,l=(e=r.captionLayout)!==null&&e!==void 0?e:n.captionLayout;l!=="buttons"&&(!i||!o)&&(l="buttons");var c;(eh(r)||ru(r)||nu(r))&&(c=r.onSelect);var u=de(de(de({},n),r),{captionLayout:l,classNames:de(de({},n.classNames),r.classNames),components:de({},r.components),formatters:de(de({},n.formatters),r.formatters),fromDate:i,labels:de(de({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:de(de({},n.modifiers),r.modifiers),modifiersClassNames:de(de({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:de(de({},n.styles),r.styles),toDate:o});return a.jsx(jA.Provider,{value:u,children:t.children})}function He(){var t=g.useContext(jA);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function kA(t){var e=He(),r=e.locale,n=e.classNames,s=e.styles,i=e.formatters.formatCaption;return a.jsx("div",{className:n.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:i(t.displayMonth,{locale:r})})}function n9(t){return a.jsx("svg",de({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:a.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function NA(t){var e,r,n=t.onChange,s=t.value,i=t.children,o=t.caption,l=t.className,c=t.style,u=He(),d=(r=(e=u.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&r!==void 0?r:n9;return a.jsxs("div",{className:l,style:c,children:[a.jsx("span",{className:u.classNames.vhidden,children:t["aria-label"]}),a.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:s,onChange:n,children:i}),a.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[o,a.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function s9(t){var e,r=He(),n=r.fromDate,s=r.toDate,i=r.styles,o=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return a.jsx(a.Fragment,{});if(!s)return a.jsx(a.Fragment,{});var f=[];if(Mz(n,s))for(var h=wr(n),m=n.getMonth();m<=s.getMonth();m++)f.push(cm(h,m));else for(var h=wr(new Date),m=0;m<=11;m++)f.push(cm(h,m));var y=function(b){var w=Number(b.target.value),p=cm(wr(t.displayMonth),w);t.onChange(p)},x=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:NA;return a.jsx(x,{name:"months","aria-label":d(),className:c.dropdown_month,style:i.dropdown_month,onChange:y,value:t.displayMonth.getMonth(),caption:l(t.displayMonth,{locale:o}),children:f.map(function(b){return a.jsx("option",{value:b.getMonth(),children:l(b,{locale:o})},b.getMonth())})})}function i9(t){var e,r=t.displayMonth,n=He(),s=n.fromDate,i=n.toDate,o=n.locale,l=n.styles,c=n.classNames,u=n.components,d=n.formatters.formatYearCaption,f=n.labels.labelYearDropdown,h=[];if(!s)return a.jsx(a.Fragment,{});if(!i)return a.jsx(a.Fragment,{});for(var m=s.getFullYear(),y=i.getFullYear(),x=m;x<=y;x++)h.push(pw(pA(new Date),x));var b=function(p){var v=pw(wr(r),Number(p.target.value));t.onChange(v)},w=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:NA;return a.jsx(w,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:b,value:r.getFullYear(),caption:d(r,{locale:o}),children:h.map(function(p){return a.jsx("option",{value:p.getFullYear(),children:d(p,{locale:o})},p.getFullYear())})})}function o9(t,e){var r=g.useState(t),n=r[0],s=r[1],i=e===void 0?n:e;return[i,s]}function a9(t){var e=t.month,r=t.defaultMonth,n=t.today,s=e||r||n||new Date,i=t.toDate,o=t.fromDate,l=t.numberOfMonths,c=l===void 0?1:l;if(i&&Pc(i,s)<0){var u=-1*(c-1);s=_n(i,u)}return o&&Pc(s,o)<0&&(s=o),wr(s)}function l9(){var t=He(),e=a9(t),r=o9(e,t.month),n=r[0],s=r[1],i=function(o){var l;if(!t.disableNavigation){var c=wr(o);s(c),(l=t.onMonthChange)===null||l===void 0||l.call(t,c)}};return[n,i]}function c9(t,e){for(var r=e.reverseMonths,n=e.numberOfMonths,s=wr(t),i=wr(_n(s,n)),o=Pc(i,s),l=[],c=0;c<o;c++){var u=_n(s,c);l.push(u)}return r&&(l=l.reverse()),l}function u9(t,e){if(!e.disableNavigation){var r=e.toDate,n=e.pagedNavigation,s=e.numberOfMonths,i=s===void 0?1:s,o=n?i:1,l=wr(t);if(!r)return _n(l,o);var c=Pc(r,t);if(!(c<i))return _n(l,o)}}function d9(t,e){if(!e.disableNavigation){var r=e.fromDate,n=e.pagedNavigation,s=e.numberOfMonths,i=s===void 0?1:s,o=n?i:1,l=wr(t);if(!r)return _n(l,-o);var c=Pc(l,r);if(!(c<=0))return _n(l,-o)}}var CA=g.createContext(void 0);function f9(t){var e=He(),r=l9(),n=r[0],s=r[1],i=c9(n,e),o=u9(n,e),l=d9(n,e),c=function(f){return i.some(function(h){return rv(f,h)})},u=function(f,h){c(f)||(h&&_A(f,h)?s(_n(f,1+e.numberOfMonths*-1)):s(f))},d={currentMonth:n,displayMonths:i,goToMonth:s,goToDate:u,previousMonth:l,nextMonth:o,isDateDisplayed:c};return a.jsx(CA.Provider,{value:d,children:t.children})}function su(){var t=g.useContext(CA);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function gw(t){var e,r=He(),n=r.classNames,s=r.styles,i=r.components,o=su().goToMonth,l=function(d){o(_n(d,t.displayIndex?-t.displayIndex:0))},c=(e=i==null?void 0:i.CaptionLabel)!==null&&e!==void 0?e:kA,u=a.jsx(c,{id:t.id,displayMonth:t.displayMonth});return a.jsxs("div",{className:n.caption_dropdowns,style:s.caption_dropdowns,children:[a.jsx("div",{className:n.vhidden,children:u}),a.jsx(s9,{onChange:l,displayMonth:t.displayMonth}),a.jsx(i9,{onChange:l,displayMonth:t.displayMonth})]})}function h9(t){return a.jsx("svg",de({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:a.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function m9(t){return a.jsx("svg",de({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:a.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var lf=g.forwardRef(function(t,e){var r=He(),n=r.classNames,s=r.styles,i=[n.button_reset,n.button];t.className&&i.push(t.className);var o=i.join(" "),l=de(de({},s.button_reset),s.button);return t.style&&Object.assign(l,t.style),a.jsx("button",de({},t,{ref:e,type:"button",className:o,style:l}))});function p9(t){var e,r,n=He(),s=n.dir,i=n.locale,o=n.classNames,l=n.styles,c=n.labels,u=c.labelPrevious,d=c.labelNext,f=n.components;if(!t.nextMonth&&!t.previousMonth)return a.jsx(a.Fragment,{});var h=u(t.previousMonth,{locale:i}),m=[o.nav_button,o.nav_button_previous].join(" "),y=d(t.nextMonth,{locale:i}),x=[o.nav_button,o.nav_button_next].join(" "),b=(e=f==null?void 0:f.IconRight)!==null&&e!==void 0?e:m9,w=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:h9;return a.jsxs("div",{className:o.nav,style:l.nav,children:[!t.hidePrevious&&a.jsx(lf,{name:"previous-month","aria-label":h,className:m,style:l.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:s==="rtl"?a.jsx(b,{className:o.nav_icon,style:l.nav_icon}):a.jsx(w,{className:o.nav_icon,style:l.nav_icon})}),!t.hideNext&&a.jsx(lf,{name:"next-month","aria-label":y,className:x,style:l.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:s==="rtl"?a.jsx(w,{className:o.nav_icon,style:l.nav_icon}):a.jsx(b,{className:o.nav_icon,style:l.nav_icon})})]})}function yw(t){var e=He().numberOfMonths,r=su(),n=r.previousMonth,s=r.nextMonth,i=r.goToMonth,o=r.displayMonths,l=o.findIndex(function(y){return rv(t.displayMonth,y)}),c=l===0,u=l===o.length-1,d=e>1&&(c||!u),f=e>1&&(u||!c),h=function(){n&&i(n)},m=function(){s&&i(s)};return a.jsx(p9,{displayMonth:t.displayMonth,hideNext:d,hidePrevious:f,nextMonth:s,previousMonth:n,onPreviousClick:h,onNextClick:m})}function g9(t){var e,r=He(),n=r.classNames,s=r.disableNavigation,i=r.styles,o=r.captionLayout,l=r.components,c=(e=l==null?void 0:l.CaptionLabel)!==null&&e!==void 0?e:kA,u;return s?u=a.jsx(c,{id:t.id,displayMonth:t.displayMonth}):o==="dropdown"?u=a.jsx(gw,{displayMonth:t.displayMonth,id:t.id}):o==="dropdown-buttons"?u=a.jsxs(a.Fragment,{children:[a.jsx(gw,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),a.jsx(yw,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):u=a.jsxs(a.Fragment,{children:[a.jsx(c,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),a.jsx(yw,{displayMonth:t.displayMonth,id:t.id})]}),a.jsx("div",{className:n.caption,style:i.caption,children:u})}function y9(t){var e=He(),r=e.footer,n=e.styles,s=e.classNames.tfoot;return r?a.jsx("tfoot",{className:s,style:n.tfoot,children:a.jsx("tr",{children:a.jsx("td",{colSpan:8,children:r})})}):a.jsx(a.Fragment,{})}function v9(t,e,r){for(var n=r?uo(new Date):Wn(new Date,{locale:t,weekStartsOn:e}),s=[],i=0;i<7;i++){var o=Zt(n,i);s.push(o)}return s}function x9(){var t=He(),e=t.classNames,r=t.styles,n=t.showWeekNumber,s=t.locale,i=t.weekStartsOn,o=t.ISOWeek,l=t.formatters.formatWeekdayName,c=t.labels.labelWeekday,u=v9(s,i,o);return a.jsxs("tr",{style:r.head_row,className:e.head_row,children:[n&&a.jsx("td",{style:r.head_cell,className:e.head_cell}),u.map(function(d,f){return a.jsx("th",{scope:"col",className:e.head_cell,style:r.head_cell,"aria-label":c(d,{locale:s}),children:l(d,{locale:s})},f)})]})}function w9(){var t,e=He(),r=e.classNames,n=e.styles,s=e.components,i=(t=s==null?void 0:s.HeadRow)!==null&&t!==void 0?t:x9;return a.jsx("thead",{style:n.head,className:r.head,children:a.jsx(i,{})})}function b9(t){var e=He(),r=e.locale,n=e.formatters.formatDay;return a.jsx(a.Fragment,{children:n(t.date,{locale:r})})}var nv=g.createContext(void 0);function _9(t){if(!ru(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return a.jsx(nv.Provider,{value:e,children:t.children})}return a.jsx(S9,{initialProps:t.initialProps,children:t.children})}function S9(t){var e=t.initialProps,r=t.children,n=e.selected,s=e.min,i=e.max,o=function(u,d,f){var h,m;(h=e.onDayClick)===null||h===void 0||h.call(e,u,d,f);var y=!!(d.selected&&s&&(n==null?void 0:n.length)===s);if(!y){var x=!!(!d.selected&&i&&(n==null?void 0:n.length)===i);if(!x){var b=n?SA([],n):[];if(d.selected){var w=b.findIndex(function(p){return gr(u,p)});b.splice(w,1)}else b.push(u);(m=e.onSelect)===null||m===void 0||m.call(e,b,u,d,f)}}},l={disabled:[]};n&&l.disabled.push(function(u){var d=i&&n.length>i-1,f=n.some(function(h){return gr(h,u)});return!!(d&&!f)});var c={selected:n,onDayClick:o,modifiers:l};return a.jsx(nv.Provider,{value:c,children:r})}function sv(){var t=g.useContext(nv);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function j9(t,e){var r=e||{},n=r.from,s=r.to;return n&&s?gr(s,t)&&gr(n,t)?void 0:gr(s,t)?{from:s,to:void 0}:gr(n,t)?void 0:sg(n,t)?{from:t,to:s}:{from:n,to:t}:s?sg(t,s)?{from:s,to:t}:{from:t,to:s}:n?_A(t,n)?{from:t,to:n}:{from:n,to:t}:{from:t,to:void 0}}var iv=g.createContext(void 0);function k9(t){if(!nu(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return a.jsx(iv.Provider,{value:e,children:t.children})}return a.jsx(N9,{initialProps:t.initialProps,children:t.children})}function N9(t){var e=t.initialProps,r=t.children,n=e.selected,s=n||{},i=s.from,o=s.to,l=e.min,c=e.max,u=function(m,y,x){var b,w;(b=e.onDayClick)===null||b===void 0||b.call(e,m,y,x);var p=j9(m,n);(w=e.onSelect)===null||w===void 0||w.call(e,p,m,y,x)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(d.range_start=[i],o?(d.range_end=[o],gr(i,o)||(d.range_middle=[{after:i,before:o}])):d.range_end=[i]):o&&(d.range_start=[o],d.range_end=[o]),l&&(i&&!o&&d.disabled.push({after:lm(i,l-1),before:Zt(i,l-1)}),i&&o&&d.disabled.push({after:i,before:Zt(i,l-1)}),!i&&o&&d.disabled.push({after:lm(o,l-1),before:Zt(o,l-1)})),c){if(i&&!o&&(d.disabled.push({before:Zt(i,-c+1)}),d.disabled.push({after:Zt(i,c-1)})),i&&o){var f=In(o,i)+1,h=c-f;d.disabled.push({before:lm(i,h)}),d.disabled.push({after:Zt(o,h)})}!i&&o&&(d.disabled.push({before:Zt(o,-c+1)}),d.disabled.push({after:Zt(o,c-1)}))}return a.jsx(iv.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function ov(){var t=g.useContext(iv);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function td(t){return Array.isArray(t)?SA([],t):t!==void 0?[t]:[]}function C9(t){var e={};return Object.entries(t).forEach(function(r){var n=r[0],s=r[1];e[n]=td(s)}),e}var Sn;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(Sn||(Sn={}));var E9=Sn.Selected,Qn=Sn.Disabled,P9=Sn.Hidden,T9=Sn.Today,um=Sn.RangeEnd,dm=Sn.RangeMiddle,fm=Sn.RangeStart,A9=Sn.Outside;function O9(t,e,r){var n,s=(n={},n[E9]=td(t.selected),n[Qn]=td(t.disabled),n[P9]=td(t.hidden),n[T9]=[t.today],n[um]=[],n[dm]=[],n[fm]=[],n[A9]=[],n);return t.fromDate&&s[Qn].push({before:t.fromDate}),t.toDate&&s[Qn].push({after:t.toDate}),ru(t)?s[Qn]=s[Qn].concat(e.modifiers[Qn]):nu(t)&&(s[Qn]=s[Qn].concat(r.modifiers[Qn]),s[fm]=r.modifiers[fm],s[dm]=r.modifiers[dm],s[um]=r.modifiers[um]),s}var EA=g.createContext(void 0);function R9(t){var e=He(),r=sv(),n=ov(),s=O9(e,r,n),i=C9(e.modifiers),o=de(de({},s),i);return a.jsx(EA.Provider,{value:o,children:t.children})}function PA(){var t=g.useContext(EA);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function D9(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function I9(t){return!!(t&&typeof t=="object"&&"from"in t)}function M9(t){return!!(t&&typeof t=="object"&&"after"in t)}function L9(t){return!!(t&&typeof t=="object"&&"before"in t)}function F9(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function $9(t,e){var r,n=e.from,s=e.to;if(n&&s){var i=In(s,n)<0;i&&(r=[s,n],n=r[0],s=r[1]);var o=In(t,n)>=0&&In(s,t)>=0;return o}return s?gr(s,t):n?gr(n,t):!1}function U9(t){return Xy(t)}function B9(t){return Array.isArray(t)&&t.every(Xy)}function V9(t,e){return e.some(function(r){if(typeof r=="boolean")return r;if(U9(r))return gr(t,r);if(B9(r))return r.includes(t);if(I9(r))return $9(t,r);if(F9(r))return r.dayOfWeek.includes(t.getDay());if(D9(r)){var n=In(r.before,t),s=In(r.after,t),i=n>0,o=s<0,l=sg(r.before,r.after);return l?o&&i:i||o}return M9(r)?In(t,r.after)>0:L9(r)?In(r.before,t)>0:typeof r=="function"?r(t):!1})}function av(t,e,r){var n=Object.keys(e).reduce(function(i,o){var l=e[o];return V9(t,l)&&i.push(o),i},[]),s={};return n.forEach(function(i){return s[i]=!0}),r&&!rv(t,r)&&(s.outside=!0),s}function z9(t,e){for(var r=wr(t[0]),n=ev(t[t.length-1]),s,i,o=r;o<=n;){var l=av(o,e),c=!l.disabled&&!l.hidden;if(!c){o=Zt(o,1);continue}if(l.selected)return o;l.today&&!i&&(i=o),s||(s=o),o=Zt(o,1)}return i||s}var W9=365;function TA(t,e){var r=e.moveBy,n=e.direction,s=e.context,i=e.modifiers,o=e.retry,l=o===void 0?{count:0,lastFocused:t}:o,c=s.weekStartsOn,u=s.fromDate,d=s.toDate,f=s.locale,h={day:Zt,week:ng,month:_n,year:OV,startOfWeek:function(b){return s.ISOWeek?uo(b):Wn(b,{locale:f,weekStartsOn:c})},endOfWeek:function(b){return s.ISOWeek?gA(b):tv(b,{locale:f,weekStartsOn:c})}},m=h[r](t,n==="after"?1:-1);n==="before"&&u?m=RV([u,m]):n==="after"&&d&&(m=DV([d,m]));var y=!0;if(i){var x=av(m,i);y=!x.disabled&&!x.hidden}return y?m:l.count>W9?l.lastFocused:TA(m,{moveBy:r,direction:n,context:s,modifiers:i,retry:de(de({},l),{count:l.count+1})})}var AA=g.createContext(void 0);function q9(t){var e=su(),r=PA(),n=g.useState(),s=n[0],i=n[1],o=g.useState(),l=o[0],c=o[1],u=z9(e.displayMonths,r),d=s??(l&&e.isDateDisplayed(l))?l:u,f=function(){c(s),i(void 0)},h=function(b){i(b)},m=He(),y=function(b,w){if(s){var p=TA(s,{moveBy:b,direction:w,context:m,modifiers:r});gr(s,p)||(e.goToDate(p,s),h(p))}},x={focusedDay:s,focusTarget:d,blur:f,focus:h,focusDayAfter:function(){return y("day","after")},focusDayBefore:function(){return y("day","before")},focusWeekAfter:function(){return y("week","after")},focusWeekBefore:function(){return y("week","before")},focusMonthBefore:function(){return y("month","before")},focusMonthAfter:function(){return y("month","after")},focusYearBefore:function(){return y("year","before")},focusYearAfter:function(){return y("year","after")},focusStartOfWeek:function(){return y("startOfWeek","before")},focusEndOfWeek:function(){return y("endOfWeek","after")}};return a.jsx(AA.Provider,{value:x,children:t.children})}function lv(){var t=g.useContext(AA);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function H9(t,e){var r=PA(),n=av(t,r,e);return n}var cv=g.createContext(void 0);function K9(t){if(!eh(t.initialProps)){var e={selected:void 0};return a.jsx(cv.Provider,{value:e,children:t.children})}return a.jsx(G9,{initialProps:t.initialProps,children:t.children})}function G9(t){var e=t.initialProps,r=t.children,n=function(i,o,l){var c,u,d;if((c=e.onDayClick)===null||c===void 0||c.call(e,i,o,l),o.selected&&!e.required){(u=e.onSelect)===null||u===void 0||u.call(e,void 0,i,o,l);return}(d=e.onSelect)===null||d===void 0||d.call(e,i,i,o,l)},s={selected:e.selected,onDayClick:n};return a.jsx(cv.Provider,{value:s,children:r})}function OA(){var t=g.useContext(cv);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function Q9(t,e){var r=He(),n=OA(),s=sv(),i=ov(),o=lv(),l=o.focusDayAfter,c=o.focusDayBefore,u=o.focusWeekAfter,d=o.focusWeekBefore,f=o.blur,h=o.focus,m=o.focusMonthBefore,y=o.focusMonthAfter,x=o.focusYearBefore,b=o.focusYearAfter,w=o.focusStartOfWeek,p=o.focusEndOfWeek,v=function(U){var P,L,K,ne;eh(r)?(P=n.onDayClick)===null||P===void 0||P.call(n,t,e,U):ru(r)?(L=s.onDayClick)===null||L===void 0||L.call(s,t,e,U):nu(r)?(K=i.onDayClick)===null||K===void 0||K.call(i,t,e,U):(ne=r.onDayClick)===null||ne===void 0||ne.call(r,t,e,U)},_=function(U){var P;h(t),(P=r.onDayFocus)===null||P===void 0||P.call(r,t,e,U)},S=function(U){var P;f(),(P=r.onDayBlur)===null||P===void 0||P.call(r,t,e,U)},C=function(U){var P;(P=r.onDayMouseEnter)===null||P===void 0||P.call(r,t,e,U)},j=function(U){var P;(P=r.onDayMouseLeave)===null||P===void 0||P.call(r,t,e,U)},E=function(U){var P;(P=r.onDayPointerEnter)===null||P===void 0||P.call(r,t,e,U)},A=function(U){var P;(P=r.onDayPointerLeave)===null||P===void 0||P.call(r,t,e,U)},D=function(U){var P;(P=r.onDayTouchCancel)===null||P===void 0||P.call(r,t,e,U)},O=function(U){var P;(P=r.onDayTouchEnd)===null||P===void 0||P.call(r,t,e,U)},I=function(U){var P;(P=r.onDayTouchMove)===null||P===void 0||P.call(r,t,e,U)},$=function(U){var P;(P=r.onDayTouchStart)===null||P===void 0||P.call(r,t,e,U)},H=function(U){var P;(P=r.onDayKeyUp)===null||P===void 0||P.call(r,t,e,U)},M=function(U){var P;switch(U.key){case"ArrowLeft":U.preventDefault(),U.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":U.preventDefault(),U.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":U.preventDefault(),U.stopPropagation(),u();break;case"ArrowUp":U.preventDefault(),U.stopPropagation(),d();break;case"PageUp":U.preventDefault(),U.stopPropagation(),U.shiftKey?x():m();break;case"PageDown":U.preventDefault(),U.stopPropagation(),U.shiftKey?b():y();break;case"Home":U.preventDefault(),U.stopPropagation(),w();break;case"End":U.preventDefault(),U.stopPropagation(),p();break}(P=r.onDayKeyDown)===null||P===void 0||P.call(r,t,e,U)},q={onClick:v,onFocus:_,onBlur:S,onKeyDown:M,onKeyUp:H,onMouseEnter:C,onMouseLeave:j,onPointerEnter:E,onPointerLeave:A,onTouchCancel:D,onTouchEnd:O,onTouchMove:I,onTouchStart:$};return q}function Y9(){var t=He(),e=OA(),r=sv(),n=ov(),s=eh(t)?e.selected:ru(t)?r.selected:nu(t)?n.selected:void 0;return s}function J9(t){return Object.values(Sn).includes(t)}function Z9(t,e){var r=[t.classNames.day];return Object.keys(e).forEach(function(n){var s=t.modifiersClassNames[n];if(s)r.push(s);else if(J9(n)){var i=t.classNames["day_".concat(n)];i&&r.push(i)}}),r}function X9(t,e){var r=de({},t.styles.day);return Object.keys(e).forEach(function(n){var s;r=de(de({},r),(s=t.modifiersStyles)===null||s===void 0?void 0:s[n])}),r}function eW(t,e,r){var n,s,i,o=He(),l=lv(),c=H9(t,e),u=Q9(t,c),d=Y9(),f=!!(o.onDayClick||o.mode!=="default");g.useEffect(function(){var C;c.outside||l.focusedDay&&f&&gr(l.focusedDay,t)&&((C=r.current)===null||C===void 0||C.focus())},[l.focusedDay,t,r,f,c.outside]);var h=Z9(o,c).join(" "),m=X9(o,c),y=!!(c.outside&&!o.showOutsideDays||c.hidden),x=(i=(s=o.components)===null||s===void 0?void 0:s.DayContent)!==null&&i!==void 0?i:b9,b=a.jsx(x,{date:t,displayMonth:e,activeModifiers:c}),w={style:m,className:h,children:b,role:"gridcell"},p=l.focusTarget&&gr(l.focusTarget,t)&&!c.outside,v=l.focusedDay&&gr(l.focusedDay,t),_=de(de(de({},w),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=v||p?0:-1,n)),u),S={isButton:f,isHidden:y,activeModifiers:c,selectedDays:d,buttonProps:_,divProps:w};return S}function tW(t){var e=g.useRef(null),r=eW(t.date,t.displayMonth,e);return r.isHidden?a.jsx("div",{role:"gridcell"}):r.isButton?a.jsx(lf,de({name:"day",ref:e},r.buttonProps)):a.jsx("div",de({},r.divProps))}function rW(t){var e=t.number,r=t.dates,n=He(),s=n.onWeekNumberClick,i=n.styles,o=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(e),{locale:l});if(!s)return a.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:d});var f=c(Number(e),{locale:l}),h=function(m){s(e,r,m)};return a.jsx(lf,{name:"week-number","aria-label":f,className:o.weeknumber,style:i.weeknumber,onClick:h,children:d})}function nW(t){var e,r,n=He(),s=n.styles,i=n.classNames,o=n.showWeekNumber,l=n.components,c=(e=l==null?void 0:l.Day)!==null&&e!==void 0?e:tW,u=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:rW,d;return o&&(d=a.jsx("td",{className:i.cell,style:s.cell,children:a.jsx(u,{number:t.weekNumber,dates:t.dates})})),a.jsxs("tr",{className:i.row,style:s.row,children:[d,t.dates.map(function(f){return a.jsx("td",{className:i.cell,style:s.cell,role:"presentation",children:a.jsx(c,{displayMonth:t.displayMonth,date:f})},Rz(f))})]})}function vw(t,e,r){for(var n=r!=null&&r.ISOWeek?gA(e):tv(e,r),s=r!=null&&r.ISOWeek?uo(t):Wn(t,r),i=In(n,s),o=[],l=0;l<=i;l++)o.push(Zt(s,l));var c=o.reduce(function(u,d){var f=r!=null&&r.ISOWeek?vA(d):wA(d,r),h=u.find(function(m){return m.weekNumber===f});return h?(h.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function sW(t,e){var r=vw(wr(t),ev(t),e);if(e!=null&&e.useFixedWeeks){var n=Iz(t,e);if(n<6){var s=r[r.length-1],i=s.dates[s.dates.length-1],o=ng(i,6-n),l=vw(ng(i,1),o,e);r.push.apply(r,l)}}return r}function iW(t){var e,r,n,s=He(),i=s.locale,o=s.classNames,l=s.styles,c=s.hideHead,u=s.fixedWeeks,d=s.components,f=s.weekStartsOn,h=s.firstWeekContainsDate,m=s.ISOWeek,y=sW(t.displayMonth,{useFixedWeeks:!!u,ISOWeek:m,locale:i,weekStartsOn:f,firstWeekContainsDate:h}),x=(e=d==null?void 0:d.Head)!==null&&e!==void 0?e:w9,b=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:nW,w=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:y9;return a.jsxs("table",{id:t.id,className:o.table,style:l.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!c&&a.jsx(x,{}),a.jsx("tbody",{className:o.tbody,style:l.tbody,children:y.map(function(p){return a.jsx(b,{displayMonth:t.displayMonth,dates:p.dates,weekNumber:p.weekNumber},p.weekNumber)})}),a.jsx(w,{displayMonth:t.displayMonth})]})}function oW(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var aW=oW()?g.useLayoutEffect:g.useEffect,hm=!1,lW=0;function xw(){return"react-day-picker-".concat(++lW)}function cW(t){var e,r=t??(hm?xw():null),n=g.useState(r),s=n[0],i=n[1];return aW(function(){s===null&&i(xw())},[]),g.useEffect(function(){hm===!1&&(hm=!0)},[]),(e=t??s)!==null&&e!==void 0?e:void 0}function uW(t){var e,r,n=He(),s=n.dir,i=n.classNames,o=n.styles,l=n.components,c=su().displayMonths,u=cW(n.id?"".concat(n.id,"-").concat(t.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(t.displayIndex):void 0,f=[i.month],h=o.month,m=t.displayIndex===0,y=t.displayIndex===c.length-1,x=!m&&!y;s==="rtl"&&(e=[m,y],y=e[0],m=e[1]),m&&(f.push(i.caption_start),h=de(de({},h),o.caption_start)),y&&(f.push(i.caption_end),h=de(de({},h),o.caption_end)),x&&(f.push(i.caption_between),h=de(de({},h),o.caption_between));var b=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:g9;return a.jsxs("div",{className:f.join(" "),style:h,children:[a.jsx(b,{id:u,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),a.jsx(iW,{id:d,"aria-labelledby":u,displayMonth:t.displayMonth})]},t.displayIndex)}function dW(t){var e=He(),r=e.classNames,n=e.styles;return a.jsx("div",{className:r.months,style:n.months,children:t.children})}function fW(t){var e,r,n=t.initialProps,s=He(),i=lv(),o=su(),l=g.useState(!1),c=l[0],u=l[1];g.useEffect(function(){s.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),u(!0)))},[s.initialFocus,c,i.focus,i.focusTarget,i]);var d=[s.classNames.root,s.className];s.numberOfMonths>1&&d.push(s.classNames.multiple_months),s.showWeekNumber&&d.push(s.classNames.with_weeknumber);var f=de(de({},s.styles.root),s.style),h=Object.keys(n).filter(function(y){return y.startsWith("data-")}).reduce(function(y,x){var b;return de(de({},y),(b={},b[x]=n[x],b))},{}),m=(r=(e=n.components)===null||e===void 0?void 0:e.Months)!==null&&r!==void 0?r:dW;return a.jsx("div",de({className:d.join(" "),style:f,dir:s.dir,id:s.id,nonce:n.nonce,title:n.title,lang:n.lang},h,{children:a.jsx(m,{children:o.displayMonths.map(function(y,x){return a.jsx(uW,{displayIndex:x,displayMonth:y},x)})})}))}function hW(t){var e=t.children,r=Lz(t,["children"]);return a.jsx(r9,{initialProps:r,children:a.jsx(f9,{children:a.jsx(K9,{initialProps:r,children:a.jsx(_9,{initialProps:r,children:a.jsx(k9,{initialProps:r,children:a.jsx(R9,{children:a.jsx(q9,{children:e})})})})})})})}function mW(t){return a.jsx(hW,de({},t,{children:a.jsx(fW,{initialProps:t})}))}function RA({className:t,classNames:e,showOutsideDays:r=!0,...n}){return a.jsx(mW,{showOutsideDays:r,className:he("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:he(dc({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:he(dc({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({className:s,...i})=>a.jsx(DL,{className:he("h-4 w-4",s),...i}),IconRight:({className:s,...i})=>a.jsx(ON,{className:he("h-4 w-4",s),...i})},...n})}RA.displayName="Calendar";var uv="Popover",[DA,gq]=ws(uv,[el]),iu=el(),[pW,wi]=DA(uv),IA=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!1}=t,l=iu(e),c=g.useRef(null),[u,d]=g.useState(!1),[f=!1,h]=Ia({prop:n,defaultProp:s,onChange:i});return a.jsx(_y,{...l,children:a.jsx(pW,{scope:e,contentId:Fn(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:g.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:u,onCustomAnchorAdd:g.useCallback(()=>d(!0),[]),onCustomAnchorRemove:g.useCallback(()=>d(!1),[]),modal:o,children:r})})};IA.displayName=uv;var MA="PopoverAnchor",gW=g.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=wi(MA,r),i=iu(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=s;return g.useEffect(()=>(o(),()=>l()),[o,l]),a.jsx(Uf,{...i,...n,ref:e})});gW.displayName=MA;var LA="PopoverTrigger",FA=g.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=wi(LA,r),i=iu(r),o=Me(e,s.triggerRef),l=a.jsx(Ne.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":zA(s.open),...n,ref:o,onClick:re(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:a.jsx(Uf,{asChild:!0,...i,children:l})});FA.displayName=LA;var dv="PopoverPortal",[yW,vW]=DA(dv,{forceMount:void 0}),$A=t=>{const{__scopePopover:e,forceMount:r,children:n,container:s}=t,i=wi(dv,e);return a.jsx(yW,{scope:e,forceMount:r,children:a.jsx(Hn,{present:r||i.open,children:a.jsx(Hc,{asChild:!0,container:s,children:n})})})};$A.displayName=dv;var Va="PopoverContent",UA=g.forwardRef((t,e)=>{const r=vW(Va,t.__scopePopover),{forceMount:n=r.forceMount,...s}=t,i=wi(Va,t.__scopePopover);return a.jsx(Hn,{present:n||i.open,children:i.modal?a.jsx(wW,{...s,ref:e}):a.jsx(bW,{...s,ref:e})})});UA.displayName=Va;var xW=oi("PopoverContent.RemoveScroll"),wW=g.forwardRef((t,e)=>{const r=wi(Va,t.__scopePopover),n=g.useRef(null),s=Me(e,n),i=g.useRef(!1);return g.useEffect(()=>{const o=n.current;if(o)return Vf(o)},[]),a.jsx(Kc,{as:xW,allowPinchZoom:!0,children:a.jsx(BA,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:re(t.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:re(t.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:re(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),bW=g.forwardRef((t,e)=>{const r=wi(Va,t.__scopePopover),n=g.useRef(!1),s=g.useRef(!1);return a.jsx(BA,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),BA=g.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=t,h=wi(Va,r),m=iu(r);return Mf(),a.jsx(Wc,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(zc,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:a.jsx(Sy,{"data-state":zA(h.open),role:"dialog",id:h.contentId,...m,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),VA="PopoverClose",_W=g.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=wi(VA,r);return a.jsx(Ne.button,{type:"button",...n,ref:e,onClick:re(t.onClick,()=>s.onOpenChange(!1))})});_W.displayName=VA;var SW="PopoverArrow",jW=g.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=iu(r);return a.jsx(jy,{...s,...n,ref:e})});jW.displayName=SW;function zA(t){return t?"open":"closed"}var kW=IA,NW=FA,CW=$A,WA=UA;const EW=kW,PW=NW,qA=g.forwardRef(({className:t,align:e="center",sideOffset:r=4,...n},s)=>a.jsx(CW,{children:a.jsx(WA,{ref:s,align:e,sideOffset:r,className:he("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",t),...n})}));qA.displayName=WA.displayName;function TW(){const{toast:t}=It(),{user:e}=lr(),[r,n]=g.useState(null),[s,i]=g.useState(!1),{data:o=[],isLoading:l}=lt({queryKey:["belts",e==null?void 0:e.id],queryFn:()=>Ls.getAll(e.id),enabled:!!(e!=null&&e.id)}),{data:c}=lt({queryKey:["belts","current",e==null?void 0:e.id],queryFn:()=>Ls.getCurrent(e.id),enabled:!!(e!=null&&e.id)}),u=Kd({resolver:Gd(jV),defaultValues:{belt:"white",stripes:0,promotionDate:new Date,instructor:"",notes:""}}),d=Qe({mutationFn:async p=>{if(!(e!=null&&e.id))throw new Error("User not authenticated");const v={belt:p.belt,stripes:p.stripes||0,promotionDate:p.promotionDate.toISOString().split("T")[0],instructor:p.instructor||"",notes:p.notes||""};return await Ls.create(e.id,v)},onSuccess:()=>{Wr.invalidateQueries({queryKey:["belts",e==null?void 0:e.id]}),Wr.invalidateQueries({queryKey:["belts","current",e==null?void 0:e.id]}),u.reset(),i(!1),t({title:"Belt promotion added!",description:"Your belt progression has been recorded."})},onError:p=>{console.error("Create belt mutation error:",p),t({title:"Error",description:"Failed to add belt promotion. Please try again.",variant:"destructive"})}}),f=Qe({mutationFn:async({id:p,data:v})=>{if(!(e!=null&&e.id))throw new Error("User not authenticated");const _={belt:v.belt,stripes:v.stripes||0,promotionDate:v.promotionDate.toISOString().split("T")[0],instructor:v.instructor||"",notes:v.notes||""};return await Ls.update(p,e.id,_)},onSuccess:()=>{Wr.invalidateQueries({queryKey:["belts",e==null?void 0:e.id]}),Wr.invalidateQueries({queryKey:["belts","current",e==null?void 0:e.id]}),u.reset(),i(!1),n(null),t({title:"Belt updated!",description:"Your belt progression has been updated."})},onError:p=>{console.error("Update belt mutation error:",p),t({title:"Error",description:"Failed to update belt. Please try again.",variant:"destructive"})}}),h=Qe({mutationFn:async p=>{if(!(e!=null&&e.id))throw new Error("User not authenticated");return await Ls.delete(p,e.id)},onSuccess:()=>{Wr.invalidateQueries({queryKey:["belts",e==null?void 0:e.id]}),Wr.invalidateQueries({queryKey:["belts","current",e==null?void 0:e.id]}),t({title:"Belt promotion deleted",description:"The belt promotion has been removed."})},onError:p=>{console.error("Delete belt mutation error:",p),t({title:"Error",description:"Failed to delete belt promotion. Please try again.",variant:"destructive"})}}),m=p=>{r?f.mutate({id:r.id,data:p}):d.mutate(p)},y=p=>{n(p),i(!0),u.setValue("belt",p.belt),u.setValue("stripes",p.stripes);const v=p.promotion_date||p.promotionDate;u.setValue("promotionDate",new Date(v)),u.setValue("instructor",p.instructor||""),u.setValue("notes",p.notes||"")},x=()=>{n(null),i(!1),u.reset()},b=p=>{const v=(p==null?void 0:p.promotion_date)||(p==null?void 0:p.promotionDate)||p;return v?ys(new Date(v),"MMM d, yyyy"):"N/A"},w=({belt:p,stripes:v,size:_="md"})=>{const S={sm:"w-16 h-4",md:"w-24 h-6",lg:"w-32 h-8"},C={sm:"w-1 h-3",md:"w-1.5 h-4",lg:"w-2 h-5"},j=A=>({white:"bg-white border-2 border-gray-400",blue:"bg-blue-600",purple:"bg-purple-600",brown:"bg-amber-800",black:"bg-black"})[A]||"bg-gray-400",E=A=>({white:"bg-gray-800",blue:"bg-blue-800",purple:"bg-purple-800",brown:"bg-amber-900",black:"bg-gray-900"})[A]||"bg-gray-600";return a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:`${j(p)} ${S[_]} rounded-sm shadow-md relative flex items-center justify-center`,children:[a.jsx("div",{className:`${E(p)} absolute left-0 top-0 bottom-0 w-2 rounded-l-sm`}),a.jsx("span",{className:`${p==="white"?"text-black":"text-white"} font-bold text-xs`,children:"BJJ"}),a.jsx("div",{className:"absolute right-1 top-1/2 transform -translate-y-1/2 flex gap-0.5",children:Array.from({length:v}).map((A,D)=>a.jsx("div",{className:`${C[_]} bg-gray-300 rounded-sm`},D))})]}),a.jsxs("div",{className:"text-sm font-medium capitalize text-black",children:[p," Belt ",v>0&&`(${v} stripe${v!==1?"s":""})`]})]})};return l?a.jsx("div",{className:"p-6 max-w-4xl mx-auto",children:a.jsxs("div",{className:"animate-pulse space-y-4",children:[a.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),a.jsx("div",{className:"h-32 bg-gray-200 rounded"}),a.jsx("div",{className:"h-32 bg-gray-200 rounded"})]})}):a.jsxs("div",{className:"p-6 max-w-4xl mx-auto space-y-6",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800 dark:text-white mb-2",children:"Belt Progression"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Track your BJJ belt promotions and achievements"})]}),a.jsxs(Nt,{className:"bg-gradient-to-r from-bjj-navy to-blue-800 text-white",children:[a.jsx(Pr,{children:a.jsxs(Tr,{className:"flex items-center gap-2",children:[a.jsx(Ul,{className:"h-6 w-6"}),"Current Belt Status"]})}),a.jsx(tr,{children:c?a.jsx("div",{className:"flex items-center justify-center",children:a.jsx(w,{belt:c.belt,stripes:c.stripes,size:"lg"})}):a.jsxs("div",{className:"text-center py-4",children:[a.jsx("p",{className:"text-gray-300",children:"No current belt recorded"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Add your first belt promotion below"})]})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white flex items-center gap-2",children:[a.jsx(Ul,{className:"h-6 w-6"}),"Promotion History"]}),o.length===0?a.jsxs(Nt,{className:"p-8 text-center",children:[a.jsx(Ul,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No promotions recorded yet"}),a.jsx("p",{className:"text-gray-500",children:"Add your first belt promotion below!"})]}):a.jsx("div",{className:"space-y-3",children:o.map(p=>a.jsx(Nt,{className:"bg-gradient-to-r from-white to-gray-50 border border-gray-200 hover:shadow-md transition-shadow",children:a.jsx(tr,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(w,{belt:p.belt,stripes:p.stripes,size:"md"}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mt-1",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(cx,{className:"w-4 h-4"}),b(p.promotionDate)]}),p.instructor&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Dd,{className:"w-4 h-4"}),p.instructor]})]}),p.notes&&a.jsx("p",{className:"text-sm text-gray-600 mt-2 max-w-md",children:p.notes})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(We,{variant:"outline",size:"sm",onClick:()=>y(p),className:"text-blue-600 hover:text-blue-700 bg-white border-2 border-blue-200 hover:bg-blue-50",style:{position:"relative",zIndex:100,backgroundColor:"white",border:"2px solid #dbeafe"},children:a.jsx(dx,{className:"w-4 h-4"})}),a.jsx(We,{variant:"outline",size:"sm",onClick:()=>{confirm("Are you sure you want to delete this belt promotion?")&&h.mutate(p.id)},className:"text-red-600 hover:text-red-700 bg-white border-2 border-red-200 hover:bg-red-50",style:{position:"relative",zIndex:100,backgroundColor:"white",border:"2px solid #fecaca"},children:a.jsx(Rf,{className:"w-4 h-4"})})]})]})})},p.id))})]}),a.jsx("div",{className:"flex justify-center mt-8",children:a.jsx(We,{onClick:()=>i(!0),className:"bg-bjj-red hover:bg-red-600 text-white px-8 py-3 text-lg border-2 border-bjj-red",size:"lg",style:{position:"relative",zIndex:100,backgroundColor:"#dc2626",borderColor:"#dc2626"},children:c?"Update Belt Status":"Add First Belt"})}),s&&a.jsxs(Nt,{className:"bg-gradient-to-br from-white to-gray-50 border border-gray-200 shadow-lg mt-6",children:[a.jsxs(Pr,{children:[a.jsxs(Tr,{className:"flex items-center gap-2 text-gray-800 dark:text-white",children:[r?a.jsx(dx,{className:"h-5 w-5"}):a.jsx(HL,{className:"h-5 w-5"}),r?"Edit Belt Promotion":"Add Belt Promotion"]}),a.jsx(so,{children:r?"Update your belt promotion details":"Record your belt or stripe promotion"})]}),a.jsx(tr,{className:"bg-white relative",children:a.jsx(CV,{...u,children:a.jsxs("form",{onSubmit:u.handleSubmit(m),className:"space-y-4 bg-white relative",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(gl,{control:u.control,name:"belt",render:({field:p})=>a.jsxs(Ro,{children:[a.jsx(Do,{className:"text-black",children:"Belt Color"}),a.jsxs(Bx,{onValueChange:p.onChange,value:p.value,children:[a.jsx(Io,{children:a.jsx(Gp,{className:"bg-white text-black",children:a.jsx(Vx,{placeholder:"Select belt color"})})}),a.jsxs(Qp,{className:"bg-white text-black",children:[a.jsx(rn,{value:"white",className:"text-black",children:"White Belt"}),a.jsx(rn,{value:"blue",className:"text-black",children:"Blue Belt"}),a.jsx(rn,{value:"purple",className:"text-black",children:"Purple Belt"}),a.jsx(rn,{value:"brown",className:"text-black",children:"Brown Belt"}),a.jsx(rn,{value:"black",className:"text-black",children:"Black Belt"})]})]}),a.jsx(Mo,{})]})}),a.jsx(gl,{control:u.control,name:"stripes",render:({field:p})=>{var v;return a.jsxs(Ro,{children:[a.jsx(Do,{className:"text-black",children:"Stripes"}),a.jsxs(Bx,{onValueChange:_=>p.onChange(parseInt(_)),value:(v=p.value)==null?void 0:v.toString(),children:[a.jsx(Io,{children:a.jsx(Gp,{className:"bg-white text-black",children:a.jsx(Vx,{placeholder:"Number of stripes"})})}),a.jsxs(Qp,{className:"bg-white text-black",children:[a.jsx(rn,{value:"0",className:"text-black",children:"No Stripes"}),a.jsx(rn,{value:"1",className:"text-black",children:"1 Stripe"}),a.jsx(rn,{value:"2",className:"text-black",children:"2 Stripes"}),a.jsx(rn,{value:"3",className:"text-black",children:"3 Stripes"}),a.jsx(rn,{value:"4",className:"text-black",children:"4 Stripes"})]})]}),a.jsx(Mo,{})]})}}),a.jsx(gl,{control:u.control,name:"promotionDate",render:({field:p})=>a.jsxs(Ro,{className:"flex flex-col",children:[a.jsx(Do,{className:"text-black",children:"Promotion Date"}),a.jsxs(EW,{modal:!0,children:[a.jsx(PW,{asChild:!0,children:a.jsx(Io,{children:a.jsxs(We,{variant:"outline",className:he("w-full pl-3 text-left font-normal bg-white text-black",!p.value&&"text-gray-500"),children:[p.value?ys(p.value,"PPP"):a.jsx("span",{children:"Pick a date"}),a.jsx(cx,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),a.jsx(qA,{className:"w-auto p-0",align:"start",side:"top",sideOffset:5,children:a.jsx(RA,{mode:"single",selected:p.value,onSelect:p.onChange,disabled:v=>v>new Date||v<new Date("1900-01-01"),initialFocus:!0})})]}),a.jsx(Mo,{})]})}),a.jsx(gl,{control:u.control,name:"instructor",render:({field:p})=>a.jsxs(Ro,{children:[a.jsx(Do,{className:"text-black",children:"Instructor (Optional)"}),a.jsx(Io,{children:a.jsx(Xt,{placeholder:"Professor who promoted you",className:"bg-white text-black",...p})}),a.jsx(Mo,{})]})})]}),a.jsx(gl,{control:u.control,name:"notes",render:({field:p})=>a.jsxs(Ro,{children:[a.jsx(Do,{className:"text-black",children:"Notes (Optional)"}),a.jsx(Io,{children:a.jsx(Fy,{placeholder:"Add any notes about this promotion...",className:"resize-none bg-white text-black",...p})}),a.jsx(Mo,{})]})})]})})}),a.jsx("div",{className:"px-6 pb-6 bg-white",children:a.jsxs("div",{className:"flex gap-3 justify-end pt-4 border-t border-gray-200",children:[a.jsx(We,{type:"button",variant:"outline",onClick:x,className:"px-6 bg-white border-gray-300 text-gray-700 hover:bg-gray-50",style:{position:"relative",zIndex:1e3,backgroundColor:"white",border:"2px solid #d1d5db"},children:"Cancel"}),a.jsx(We,{type:"button",onClick:()=>{const p=u.getValues();r?f.mutate({id:r.id,data:p}):d.mutate(p)},disabled:d.isPending||f.isPending,className:"px-8 text-white border-2",style:{position:"relative",zIndex:1e3,backgroundColor:"#dc2626",borderColor:"#dc2626"},children:r?f.isPending?"Updating...":"Update Promotion":d.isPending?"Adding...":"Add Promotion"})]})})]})]})}function AW(){const[t,e]=g.useState("community"),{toast:r}=It(),n=xs(),{user:s}=lr(),{data:i}=lt({queryKey:["/api/my-gym"]}),{data:o=[],isLoading:l}=lt({queryKey:["shared-notes"],queryFn:async()=>(await Ti.getShared()).map(y=>({...y,author:y.users?{firstName:y.users.first_name,lastName:y.users.last_name,email:y.users.email}:null,createdAt:y.created_at,videoUrl:y.video_url,videoFileName:y.video_file_name,videoThumbnail:y.video_thumbnail}))}),{data:c=[],isLoading:u}=lt({queryKey:["/api/gym-notes"],enabled:!!i}),d=Qe({mutationFn:async({noteId:m,isLiked:y})=>y?await Jr("DELETE",`/api/notes/${m}/like`):await Jr("POST",`/api/notes/${m}/like`),onSuccess:()=>{n.invalidateQueries({queryKey:["shared-notes"]})},onError:m=>{r({title:"Error",description:"Failed to update like status",variant:"destructive"})}}),f=Qe({mutationFn:async m=>await Ti.adminDelete(m),onSuccess:()=>{n.invalidateQueries({queryKey:["shared-notes"]}),r({title:"Note Removed",description:"The inappropriate note has been removed from the community."})},onError:m=>{r({title:"Error",description:"Failed to remove note",variant:"destructive"})}}),h=(s==null?void 0:s.role)==="admin";return a.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Social"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ns,{className:"w-6 h-6 text-blue-600"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Connect with training partners"})]})]}),a.jsxs("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg mb-6",children:[a.jsx("button",{onClick:()=>e("community"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${t==="community"?"bg-white text-black shadow-sm":"text-gray-600 hover:text-gray-900"}`,"data-testid":"tab-community",children:"Community"}),i&&a.jsx("button",{onClick:()=>e("my-gym"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${t==="my-gym"?"bg-white text-black shadow-sm":"text-gray-600 hover:text-gray-900"}`,"data-testid":"tab-my-gym",children:"My Gym"}),a.jsx("button",{onClick:()=>e("friends"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${t==="friends"?"bg-white text-black shadow-sm":"text-gray-600 hover:text-gray-900"}`,"data-testid":"tab-friends",children:"Friends"})]}),t==="community"&&a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[a.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[a.jsx(Rp,{className:"w-5 h-5 text-blue-600"}),"Community Shared Notes"]}),l?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full mx-auto"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Loading community notes..."})]}):o.length>0?a.jsx("div",{className:"space-y-4",children:o.map(m=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"font-semibold text-black",children:m.title}),a.jsxs("div",{className:"text-xs text-gray-500",children:["by ",m.author?`${m.author.firstName} ${m.author.lastName}`:"Unknown User"]})]}),a.jsx("div",{className:"w-full",children:a.jsx("p",{className:"text-gray-600 text-sm leading-relaxed whitespace-pre-wrap break-words",children:m.content})}),m.videoUrl&&a.jsxs("div",{className:"mt-3",children:[a.jsxs("video",{controls:!0,className:"w-full max-w-md rounded-lg shadow-sm",style:{maxHeight:"300px"},children:[a.jsx("source",{src:m.videoUrl,type:"video/mp4"}),"Your browser does not support the video tag."]}),m.videoFileName&&a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[" ",m.videoFileName]})]}),m.tags&&m.tags.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1",children:m.tags.map((y,x)=>a.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded",children:y},x))}),a.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-100",children:[a.jsxs("div",{className:"text-xs text-gray-400",children:["Shared ",new Date(m.createdAt).toLocaleDateString()]}),a.jsxs("div",{className:"flex items-center gap-3 text-gray-500 text-sm",children:[a.jsxs("button",{onClick:()=>d.mutate({noteId:m.id,isLiked:m.isLikedByUser||!1}),disabled:d.isPending,className:`flex items-center gap-1 transition-colors ${m.isLikedByUser?"text-red-500 hover:text-red-600":"hover:text-red-500"}`,children:[a.jsx(VL,{className:`w-4 h-4 ${m.isLikedByUser?"fill-current":""}`}),a.jsx("span",{children:m.likeCount||0})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(uc,{className:"w-4 h-4"}),a.jsx("span",{children:"0"})]}),h&&a.jsxs("button",{onClick:()=>{confirm("Are you sure you want to delete this note? This action cannot be undone.")&&f.mutate(m.id)},disabled:f.isPending,className:"flex items-center gap-1 text-red-500 hover:text-red-600 transition-colors",title:"Remove inappropriate content",children:[a.jsx(Rf,{className:"w-4 h-4"}),a.jsx("span",{className:"text-xs",children:"Remove"})]})]})]})]})},m.id))}):a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(Rp,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),a.jsx("p",{children:"No shared notes yet."}),a.jsx("p",{className:"text-sm",children:"Be the first to share your knowledge with the community!"})]})]})}),t==="my-gym"&&a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[a.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[a.jsx(ns,{className:"w-5 h-5 text-blue-600"}),(i==null?void 0:i.name)||"My Gym"," - Shared Notes"]}),u?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full mx-auto"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Loading gym notes..."})]}):c.length>0?a.jsx("div",{className:"space-y-4",children:c.map(m=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"font-semibold text-black",children:m.title}),a.jsxs("div",{className:"text-xs text-gray-500",children:["by ",m.author?`${m.author.firstName} ${m.author.lastName}`:"Unknown User"]})]}),a.jsx("div",{className:"w-full",children:a.jsx("p",{className:"text-gray-600 text-sm leading-relaxed whitespace-pre-wrap break-words",children:m.content})}),m.videoUrl&&a.jsxs("div",{className:"mt-3",children:[a.jsxs("video",{controls:!0,className:"w-full max-w-md rounded-lg shadow-sm",style:{maxHeight:"300px"},children:[a.jsx("source",{src:m.videoUrl,type:"video/mp4"}),"Your browser does not support the video tag."]}),m.videoFileName&&a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[" ",m.videoFileName]})]}),m.tags&&m.tags.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1",children:m.tags.map((y,x)=>a.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded",children:y},x))}),a.jsx("div",{className:"flex items-center justify-between pt-2 border-t border-gray-100",children:a.jsxs("div",{className:"text-xs text-gray-400",children:["Shared ",new Date(m.createdAt).toLocaleDateString()]})})]})},m.id))}):a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(ns,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),a.jsx("p",{children:"No gym notes yet."}),a.jsx("p",{className:"text-sm",children:"Share your first note with your gym community!"})]})]})}),t==="friends"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[a.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[a.jsx(ns,{className:"w-5 h-5 text-blue-600"}),"Training Partners"]}),a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(ns,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),a.jsx("p",{children:"No training partners connected yet."}),a.jsx("p",{className:"text-sm",children:"Invite your training partners to start sharing notes and progress!"})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Find Training Partners"}),a.jsxs("div",{className:"text-center py-6 text-gray-500",children:[a.jsx("p",{children:"Feature coming soon!"}),a.jsx("p",{className:"text-sm",children:"Soon you'll be able to find training partners near you."})]})]})]})]})}function OW(){const[t,e]=g.useState(!1),[r,n]=g.useState({title:"",description:"",category:"technique",tags:"",videoUrl:""}),{toast:s}=It(),i=xs(),o=Qe({mutationFn:async u=>await Jr("POST","/api/training-videos",u),onSuccess:()=>{i.invalidateQueries({queryKey:["/api/training-videos"]}),e(!1),n({title:"",description:"",category:"technique",tags:"",videoUrl:""}),s({title:"Success",description:"Video added successfully!"})},onError:u=>{s({title:"Error",description:"Failed to add video",variant:"destructive"})}}),l=u=>{if(u.preventDefault(),!r.title.trim()||!r.videoUrl.trim()){s({title:"Error",description:"Please provide both title and video URL",variant:"destructive"});return}const d={title:r.title,description:r.description||"",videoUrl:r.videoUrl,category:r.category,tags:r.tags?r.tags.split(",").map(f=>f.trim()).filter(f=>f.length>0):[],uploadedBy:1,isPublic:1};o.mutate(d)},c=u=>{const{name:d,value:f}=u.target;n(h=>({...h,[d]:f}))};return a.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-black",children:"My Videos"}),a.jsx("button",{onClick:()=>e(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",children:"Add Video"})]}),t&&a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-xl font-bold text-black",children:"Add Training Video"}),a.jsx("button",{onClick:()=>e(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),a.jsxs("form",{onSubmit:l,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"Title *"}),a.jsx("input",{type:"text",name:"title",value:r.title,onChange:c,placeholder:"Enter video title",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-black",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"Video URL *"}),a.jsx("input",{type:"url",name:"videoUrl",value:r.videoUrl,onChange:c,placeholder:"https://youtube.com/watch?v=... or other video URL",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-black",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"Category"}),a.jsxs("select",{name:"category",value:r.category,onChange:c,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-black",children:[a.jsx("option",{value:"technique",children:"Technique"}),a.jsx("option",{value:"drilling",children:"Drilling"}),a.jsx("option",{value:"sparring",children:"Sparring"}),a.jsx("option",{value:"competition",children:"Competition"}),a.jsx("option",{value:"tutorial",children:"Tutorial"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"Description"}),a.jsx("textarea",{name:"description",value:r.description,onChange:c,placeholder:"Describe the video content...",rows:3,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-black"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-black mb-1",children:"Tags (comma-separated)"}),a.jsx("input",{type:"text",name:"tags",value:r.tags,onChange:c,placeholder:"guard, submission, bjj",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-black"})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx("button",{type:"submit",disabled:o.isPending,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg disabled:opacity-50",children:o.isPending?"Adding...":"Add Video"}),a.jsx("button",{type:"button",onClick:()=>e(!1),className:"bg-gray-300 hover:bg-gray-400 text-gray-700 px-6 py-2 rounded-lg",children:"Cancel"})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[a.jsx("h3",{className:"text-lg font-semibold text-black mb-4",children:"Your Training Videos"}),a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx("p",{children:"No videos uploaded yet."}),a.jsx("p",{className:"text-sm",children:'Click "Add Video" to share your training footage!'})]})]})]})}function RW(){const t=g.useRef(null),[e,r]=g.useState(!1),[n,s]=g.useState("#000000"),[i,o]=g.useState(3),{toast:l}=It(),{user:c}=lr(),u=xs(),{data:d=[]}=lt({queryKey:["drawings",c==null?void 0:c.id],queryFn:()=>lx.getAll(c.id),enabled:!!(c!=null&&c.id)}),f=Qe({mutationFn:async p=>{if(!(c!=null&&c.id))throw new Error("User not authenticated");return await lx.create(c.id,p)},onSuccess:()=>{u.invalidateQueries({queryKey:["drawings",c==null?void 0:c.id]}),l({title:"Drawing Saved!",description:"Your technique diagram has been saved."}),x()},onError:p=>{l({title:"Error",description:"Failed to save drawing. Please try again.",variant:"destructive"})}});g.useEffect(()=>{const p=t.current;if(!p)return;const v=p.getContext("2d");v&&(p.width=p.offsetWidth,p.height=400,v.lineCap="round",v.lineJoin="round",v.strokeStyle=n,v.lineWidth=i,v.fillStyle="white",v.fillRect(0,0,p.width,p.height))},[]),g.useEffect(()=>{const p=t.current;if(!p)return;const v=p.getContext("2d");v&&(v.strokeStyle=n,v.lineWidth=i)},[n,i]);const h=p=>{r(!0);const v=t.current;if(!v)return;const _=v.getBoundingClientRect(),S=p.clientX-_.left,C=p.clientY-_.top,j=v.getContext("2d");j&&(j.beginPath(),j.moveTo(S,C))},m=p=>{if(!e)return;const v=t.current;if(!v)return;const _=v.getBoundingClientRect(),S=p.clientX-_.left,C=p.clientY-_.top,j=v.getContext("2d");j&&(j.lineTo(S,C),j.stroke())},y=()=>{r(!1)},x=()=>{const p=t.current;if(!p)return;const v=p.getContext("2d");v&&(v.fillStyle="white",v.fillRect(0,0,p.width,p.height))},b=()=>{const p=t.current;if(!p)return;const v=p.toDataURL();f.mutate({imageData:v})},w=["#000000","#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF","#FFA500"];return a.jsxs("div",{className:"p-6 max-w-md mx-auto",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Drawing"}),a.jsx("p",{className:"text-gray-600",children:"Draw technique diagrams and positions"})]}),a.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-md mb-4",children:[a.jsxs("div",{className:"mb-4",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Brush Size: ",i,"px"]}),a.jsx("input",{type:"range",min:"1",max:"20",value:i,onChange:p=>o(parseInt(p.target.value)),className:"w-full"})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Colors"}),a.jsx("div",{className:"flex gap-2 flex-wrap",children:w.map(p=>a.jsx("button",{onClick:()=>s(p),className:`w-8 h-8 rounded-full border-2 ${n===p?"border-gray-800":"border-gray-300"}`,style:{backgroundColor:p}},p))})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:x,className:"flex-1 bg-gray-500 text-white py-2 px-4 rounded-lg hover:bg-gray-600 transition-colors",children:"Clear"}),a.jsx("button",{onClick:b,className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"Save"})]})]}),a.jsx("div",{className:"bg-white p-4 rounded-xl shadow-md mb-6",children:a.jsx("canvas",{ref:t,onMouseDown:h,onMouseMove:m,onMouseUp:y,onMouseLeave:y,className:"w-full border border-gray-300 rounded-lg cursor-crosshair",style:{touchAction:"none"}})}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:["Saved Drawings (",d.length,")"]}),d.length>0?a.jsx("div",{className:"grid grid-cols-2 gap-3",children:d.map((p,v)=>a.jsxs("div",{className:"bg-white p-2 rounded-lg shadow-md",children:[a.jsx("img",{src:p.imageData,alt:`Drawing ${v+1}`,className:"w-full rounded border"}),a.jsx("div",{className:"mt-2 text-center",children:a.jsx("span",{className:"text-xs text-gray-500",children:new Date(p.createdAt).toLocaleDateString()})})]},p.id))}):a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx("p",{children:"No drawings saved yet."}),a.jsx("p",{className:"text-sm",children:"Create your first technique diagram!"})]})]})]})}const DW=eu({name:_e().min(1,"Name is required"),email:_e().email("Please enter a valid email address"),subject:_e().min(1,"Subject is required"),message:_e().min(10,"Message must be at least 10 characters long")});function IW(){const{user:t}=lr(),{toast:e}=It(),r=Kd({resolver:Gd(DW),defaultValues:{name:t?`${t.firstName||""} ${t.lastName||""}`.trim():"",email:(t==null?void 0:t.email)||"",subject:"",message:""}}),n=Qe({mutationFn:async i=>(await Jr("POST","/api/contact",i)).json(),onSuccess:()=>{e({title:"Message sent!",description:"Thank you for reaching out. I'll get back to you soon."}),r.reset({name:t?`${t.firstName||""} ${t.lastName||""}`.trim():"",email:(t==null?void 0:t.email)||"",subject:"",message:""})},onError:i=>{e({title:"Failed to send message",description:i.message||"Please try again later.",variant:"destructive"})}}),s=i=>{n.mutate(i)};return a.jsx("div",{className:"min-h-screen bg-gray-50 p-4",children:a.jsxs("div",{className:"max-w-2xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-600 to-red-600 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Rp,{className:"text-white",size:32})}),a.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Get in Touch"}),a.jsx("p",{className:"text-gray-600",children:"Have questions, feedback, or suggestions? I'd love to hear from you!"})]}),a.jsxs(Nt,{className:"shadow-lg",children:[a.jsxs(Pr,{children:[a.jsxs(Tr,{className:"flex items-center gap-2",children:[a.jsx(Op,{size:20}),"Contact Form"]}),a.jsx(so,{children:"Send me a message and I'll get back to you as soon as possible."})]}),a.jsx(tr,{children:a.jsxs("form",{onSubmit:r.handleSubmit(s),className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(er,{htmlFor:"name",className:"flex items-center gap-2",children:[a.jsx(Dd,{size:16}),"Name *"]}),a.jsx(Xt,{id:"name",placeholder:"Your full name",...r.register("name")}),r.formState.errors.name&&a.jsx("p",{className:"text-red-500 text-sm",children:r.formState.errors.name.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(er,{htmlFor:"email",className:"flex items-center gap-2",children:[a.jsx(Op,{size:16}),"Email *"]}),a.jsx(Xt,{id:"email",type:"email",placeholder:"your.email@example.com",...r.register("email")}),r.formState.errors.email&&a.jsx("p",{className:"text-red-500 text-sm",children:r.formState.errors.email.message})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(er,{htmlFor:"subject",children:"Subject *"}),a.jsx(Xt,{id:"subject",placeholder:"What's this about?",...r.register("subject")}),r.formState.errors.subject&&a.jsx("p",{className:"text-red-500 text-sm",children:r.formState.errors.subject.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(er,{htmlFor:"message",children:"Message *"}),a.jsx(Fy,{id:"message",placeholder:"Tell me about your question, feedback, or suggestion...",rows:6,...r.register("message")}),r.formState.errors.message&&a.jsx("p",{className:"text-red-500 text-sm",children:r.formState.errors.message.message})]}),a.jsx(We,{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-red-600 hover:from-blue-700 hover:to-red-700 text-white font-medium",disabled:n.isPending,children:n.isPending?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Sending message..."]}):a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(KL,{size:16}),"Send Message"]})})]})})]}),a.jsxs("div",{className:"mt-8 text-center",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Other Ways to Connect"}),a.jsxs("div",{className:"space-y-2 text-gray-600",children:[a.jsxs("p",{children:[" ",a.jsx("strong",{children:"Feature Requests:"})," Share your ideas for new features"]}),a.jsxs("p",{children:[" ",a.jsx("strong",{children:"Bug Reports:"})," Let me know if something isn't working"]}),a.jsxs("p",{children:[" ",a.jsx("strong",{children:"BJJ Community:"})," Connect with other practitioners"]}),a.jsxs("p",{children:[" ",a.jsx("strong",{children:"Feedback:"})," Help me make Jits Journal better"]})]})]})]})})}function MW(){const[t,e]=g.useState(""),[r,n]=g.useState(!1),[s,i]=g.useState(!1),{toast:o}=It(),l=async c=>{c.preventDefault(),n(!0);try{const u=await fetch("/api/auth/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})});if(u.ok)i(!0),o({title:"Reset link sent",description:"If the email exists, a reset link has been sent to your inbox."});else{const d=await u.json();o({title:"Error",description:d.message||"Failed to send reset email",variant:"destructive"})}}catch{o({title:"Error",description:"An error occurred. Please try again.",variant:"destructive"})}finally{n(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-red-50 p-4",children:a.jsxs(Nt,{className:"w-full max-w-md",children:[a.jsxs(Pr,{className:"text-center",children:[a.jsx(Tr,{className:"text-2xl font-bold text-gray-800",children:"Forgot Password"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Enter your email address and we'll send you a link to reset your password."})]}),a.jsxs(tr,{children:[s?a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-blue-100 rounded-full mx-auto",children:a.jsx(Op,{className:"w-6 h-6 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Check your email"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"If the email address exists in our system, we've sent a password reset link to:"}),a.jsx("p",{className:"font-medium text-gray-900 mt-2",children:t})]}),a.jsx("div",{className:"text-sm text-gray-500",children:a.jsx("p",{children:"Didn't receive the email? Check your spam folder or try again."})})]}):a.jsxs("form",{onSubmit:l,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(er,{htmlFor:"email",children:"Email"}),a.jsx(Xt,{id:"email",type:"email",placeholder:"Enter your email",value:t,onChange:c=>e(c.target.value),required:!0,className:"mt-1"})]}),a.jsx(We,{type:"submit",className:"w-full",disabled:r,children:r?"Sending...":"Send Reset Link"})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsx(nr,{href:"/login",children:a.jsxs(We,{variant:"ghost",className:"text-sm",children:[a.jsx(Of,{className:"w-4 h-4 mr-2"}),"Back to Login"]})})})]})]})})}function LW(){const[t,e]=g.useState(""),[r,n]=g.useState(""),[s,i]=g.useState(!1),[o,l]=g.useState(!1),[c,u]=g.useState(!1),[d,f]=g.useState(!1),{toast:h}=It(),[m]=Ka(),y=new URLSearchParams(m.split("?")[1]||"").get("token");g.useEffect(()=>{y||h({title:"Invalid Reset Link",description:"The reset link is invalid or has expired.",variant:"destructive"})},[y,h]);const x=async b=>{if(b.preventDefault(),t!==r){h({title:"Passwords don't match",description:"Please make sure both passwords are the same.",variant:"destructive"});return}if(t.length<8){h({title:"Password too short",description:"Password must be at least 8 characters long.",variant:"destructive"});return}i(!0);try{const w=await fetch("/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:y,newPassword:t})});if(w.ok)f(!0),h({title:"Password reset successful",description:"Your password has been successfully updated."});else{const p=await w.json();h({title:"Error",description:p.message||"Failed to reset password",variant:"destructive"})}}catch{h({title:"Error",description:"An error occurred. Please try again.",variant:"destructive"})}finally{i(!1)}};return y?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-red-50 p-4",children:a.jsxs(Nt,{className:"w-full max-w-md",children:[a.jsxs(Pr,{className:"text-center",children:[a.jsx(Tr,{className:"text-2xl font-bold text-gray-800",children:"Reset Password"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Enter your new password below."})]}),a.jsxs(tr,{children:[d?a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-green-100 rounded-full mx-auto",children:a.jsx(RN,{className:"w-6 h-6 text-green-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Password Reset Successful"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Your password has been successfully updated. You can now log in with your new password."})]}),a.jsx(nr,{href:"/login",children:a.jsx(We,{className:"w-full",children:"Go to Login"})})]}):a.jsxs("form",{onSubmit:x,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(er,{htmlFor:"password",children:"New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(Xt,{id:"password",type:o?"text":"password",placeholder:"Enter new password",value:t,onChange:b=>e(b.target.value),required:!0,className:"mt-1 pr-10"}),a.jsx(We,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>l(!o),children:o?a.jsx(Rd,{className:"h-4 w-4"}):a.jsx(uc,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{children:[a.jsx(er,{htmlFor:"confirmPassword",children:"Confirm New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(Xt,{id:"confirmPassword",type:c?"text":"password",placeholder:"Confirm new password",value:r,onChange:b=>n(b.target.value),required:!0,className:"mt-1 pr-10"}),a.jsx(We,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>u(!c),children:c?a.jsx(Rd,{className:"h-4 w-4"}):a.jsx(uc,{className:"h-4 w-4"})})]})]}),a.jsx("div",{className:"text-sm text-gray-500",children:a.jsx("p",{children:"Password must be at least 8 characters long."})}),a.jsx(We,{type:"submit",className:"w-full",disabled:s,children:s?"Resetting...":"Reset Password"})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsx(nr,{href:"/login",children:a.jsxs(We,{variant:"ghost",className:"text-sm",children:[a.jsx(Of,{className:"w-4 h-4 mr-2"}),"Back to Login"]})})})]})]})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-red-50 p-4",children:a.jsx(Nt,{className:"w-full max-w-md",children:a.jsx(tr,{className:"pt-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Invalid Reset Link"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"The reset link is invalid or has expired."}),a.jsx(nr,{href:"/forgot-password",children:a.jsx(We,{children:"Request New Reset Link"})})]})})})})}function FW(){const{user:t}=lr(),{toast:e}=It(),[r,n]=g.useState(null),{data:s}=lt({queryKey:["/api/stripe/subscription-status"],enabled:!!t}),i=(s==null?void 0:s.tier)||"free",o=async c=>{try{n(c);const d=await(await Jr("POST","/api/stripe/create-checkout-session",{tier:c})).json();d.url&&(window.location.href=d.url)}catch(u){e({title:"Error",description:u.message||"Failed to start checkout",variant:"destructive"})}finally{n(null)}},l=[{name:"Free",price:"$0",tier:"free",description:"Get started with BJJ tracking",features:["View community notes","View gym notes (with code)","Log up to 3 classes","Create up to 3 notes","No note sharing"],icon:QL,color:"text-gray-600",bgColor:"bg-gray-50",borderColor:"border-gray-200",isCurrent:i==="free"},{name:"BJJ Enthusiast",price:"$9.99",tier:"enthusiast",description:"For dedicated practitioners",priceId:"price_1SI5KlFQ5XoDMQVtI2pBtamY",features:["Unlimited class logs","Unlimited notes","Share to community: 1x/week","View all gym notes","Priority support"],icon:XL,color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200",isCurrent:i==="enthusiast",popular:!0},{name:"Gym Pro",price:"$19.99",tier:"gym_pro",description:"For gym owners & coaches",priceId:"price_1SI5KLFQ5XoDMQVtCAlU6Zha",features:["Everything in Enthusiast","Share to community: 10x/week","Share to gym: Unlimited","Admin approval required","Premium support"],icon:FL,color:"text-purple-600",bgColor:"bg-purple-50",borderColor:"border-purple-200",isCurrent:i==="gym_pro"}];return a.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white dark:from-gray-900 dark:to-gray-800 py-12 px-4",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"Choose Your Plan"}),a.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:"Track your BJJ journey with the right plan for you"})]}),a.jsx("div",{className:"grid md:grid-cols-3 gap-8 mb-16",children:l.map(c=>{const u=c.icon;return a.jsxs(Nt,{className:`relative ${c.popular?"ring-2 ring-blue-500 shadow-xl":""} ${c.isCurrent?"border-green-500":c.borderColor}`,"data-testid":`tier-card-${c.tier}`,children:[c.popular&&a.jsx("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2 bg-blue-500 text-white px-4 py-1 rounded-full text-sm font-semibold",children:"Most Popular"}),c.isCurrent&&a.jsx("div",{className:"absolute -top-4 right-4 bg-green-500 text-white px-4 py-1 rounded-full text-sm font-semibold",children:"Current Plan"}),a.jsxs(Pr,{children:[a.jsx("div",{className:`w-12 h-12 rounded-lg ${c.bgColor} flex items-center justify-center mb-4`,children:a.jsx(u,{className:`w-6 h-6 ${c.color}`})}),a.jsx(Tr,{className:"text-2xl",children:c.name}),a.jsx(so,{children:c.description}),a.jsxs("div",{className:"mt-4",children:[a.jsx("span",{className:"text-4xl font-bold text-gray-900 dark:text-white",children:c.price}),c.tier!=="free"&&a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"/month"})]})]}),a.jsxs(tr,{className:"space-y-4",children:[a.jsx("ul",{className:"space-y-3",children:c.features.map((d,f)=>a.jsxs("li",{className:"flex items-start",children:[a.jsx(cn,{className:"w-5 h-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:d})]},f))}),c.tier!=="free"&&!c.isCurrent&&a.jsx(We,{className:"w-full",variant:c.popular?"default":"outline",onClick:()=>o(c.tier),disabled:r===c.tier,"data-testid":`button-subscribe-${c.tier}`,children:r===c.tier?"Loading...":"Get Started"}),c.isCurrent&&a.jsx(We,{className:"w-full",variant:"secondary",disabled:!0,"data-testid":`button-current-${c.tier}`,children:"Current Plan"}),c.tier==="free"&&!c.isCurrent&&a.jsx(We,{className:"w-full",variant:"outline",disabled:!0,"data-testid":"button-free-tier",children:"Free Forever"})]})]},c.tier)})}),a.jsxs(Nt,{className:"max-w-4xl mx-auto",children:[a.jsxs(Pr,{children:[a.jsx(Tr,{children:"How It Works"}),a.jsx(so,{children:"Start training smarter in 3 easy steps"})]}),a.jsxs(tr,{className:"space-y-4",children:[a.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center mx-auto mb-3",children:a.jsx("span",{className:"text-xl font-bold text-blue-600 dark:text-blue-400",children:"1"})}),a.jsx("h3",{className:"font-semibold mb-2",children:"Choose Your Plan"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:'Click "Get Started" on any plan above'})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center mx-auto mb-3",children:a.jsx("span",{className:"text-xl font-bold text-blue-600 dark:text-blue-400",children:"2"})}),a.jsx("h3",{className:"font-semibold mb-2",children:"Complete Payment"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Secure checkout via Stripe - all major cards accepted"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center mx-auto mb-3",children:a.jsx("span",{className:"text-xl font-bold text-blue-600 dark:text-blue-400",children:"3"})}),a.jsx("h3",{className:"font-semibold mb-2",children:"Start Training"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Access all premium features instantly!"})]})]}),a.jsx("div",{className:"pt-4 border-t",children:a.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center",children:[" ",a.jsx("strong",{children:"Pro Tip:"})," After subscribing, you can add this web app to your home screen for a native app experience!"]})})]})]}),a.jsxs("div",{className:"mt-16 max-w-4xl mx-auto",children:[a.jsx("h2",{className:"text-2xl font-bold text-center mb-8",children:"Frequently Asked Questions"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs(Nt,{children:[a.jsx(Pr,{children:a.jsx(Tr,{className:"text-lg",children:"Can I cancel anytime?"})}),a.jsx(tr,{children:a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Yes! You can cancel your subscription at any time. You'll retain access until the end of your billing period."})})]}),a.jsxs(Nt,{children:[a.jsx(Pr,{children:a.jsx(Tr,{className:"text-lg",children:"How does Gym Pro approval work?"})}),a.jsx(tr,{children:a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"When you subscribe to Gym Pro, you'll need to request approval from our team. This ensures quality gym content for the community. Approval typically takes 24-48 hours."})})]}),a.jsxs(Nt,{children:[a.jsx(Pr,{children:a.jsx(Tr,{className:"text-lg",children:"What payment methods do you accept?"})}),a.jsx(tr,{children:a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"We accept all major credit and debit cards through Stripe, our secure payment processor."})})]})]})]})]})})}function $W(){const[,t]=Ka();return g.useEffect(()=>{const e=setTimeout(()=>{t("/")},5e3);return()=>clearTimeout(e)},[t]),a.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white dark:from-gray-900 dark:to-gray-800 flex items-center justify-center px-4",children:a.jsxs(Nt,{className:"max-w-md w-full",children:[a.jsxs(Pr,{className:"text-center",children:[a.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mb-4",children:a.jsx(RN,{className:"w-10 h-10 text-green-600 dark:text-green-400"})}),a.jsx(Tr,{className:"text-2xl",children:"Welcome to Premium!"}),a.jsx(so,{children:"Your subscription is now active"})]}),a.jsxs(tr,{className:"space-y-4 text-center",children:[a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Thank you for subscribing! You now have access to all premium features."}),a.jsxs("div",{className:"pt-4 space-y-2",children:[a.jsx(We,{className:"w-full",onClick:()=>t("/"),"data-testid":"button-go-to-dashboard",children:"Go to Dashboard"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Redirecting automatically in 5 seconds..."})]})]})]})})}const UW=eu({email:_e().email("Please enter a valid email address"),password:_e().min(8,"Password must be at least 8 characters")}),BW=eu({email:_e().email("Please enter a valid email address"),password:_e().min(8,"Password must be at least 8 characters"),firstName:_e().min(1,"First name is required"),lastName:_e().min(1,"Last name is required")});function VW({onAuthSuccess:t}){const[e,r]=g.useState(!0),[n,s]=g.useState(!1),{toast:i}=It(),{setSignupInProgress:o}=lr(),l=Kd({resolver:Gd(UW),defaultValues:{email:"",password:""}}),c=Kd({resolver:Gd(BW),defaultValues:{email:"",password:"",firstName:"",lastName:""}}),u=Qe({mutationFn:async m=>{var b;console.log("Login attempt with:",{email:m.email,hasPassword:!!m.password});const{data:y,error:x}=await ke.auth.signInWithPassword({email:m.email,password:m.password});if(x)throw console.error("Login error:",x),x;return console.log("Login successful:",(b=y.user)==null?void 0:b.email),y},onSuccess:m=>{i({title:"Welcome back!",description:"You have successfully logged in."})},onError:m=>{var x,b;console.error("Login mutation error:",m);let y="Please check your credentials and try again.";(x=m.message)!=null&&x.includes("Invalid login credentials")?y="Invalid email or password. If you haven't signed up yet, please create an account.":(b=m.message)!=null&&b.includes("Email not confirmed")&&(y="Please check your email and confirm your account before logging in."),i({title:"Login failed",description:y,variant:"destructive"})}}),d=Qe({mutationFn:async m=>{o(!0);try{console.log("Signup attempt for:",m.email),console.log("Step 1: Creating Supabase auth account...");const{data:y,error:x}=await ke.auth.signUp({email:m.email,password:m.password,options:{data:{firstName:m.firstName,lastName:m.lastName},emailRedirectTo:`${window.location.origin}/`}});if(x||!y.user)throw console.error("Supabase signup error:",x),x||new Error("Failed to create auth account");console.log(" Supabase account created:",y.user.id),await ke.auth.signOut(),console.log(" Signed out to prevent race condition"),console.log("Step 2: Creating user profile in PostgreSQL database...");const w=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:m.email,password:m.password,firstName:m.firstName,lastName:m.lastName,supabaseId:y.user.id})});if(!w.ok){const S=await w.json();throw await ke.auth.admin.deleteUser(y.user.id),new Error(S.message||"Failed to create user profile")}const p=await w.json();console.log(" PostgreSQL profile created:",p.id),o(!1),console.log("Step 3: Signing in...");const{data:v,error:_}=await ke.auth.signInWithPassword({email:m.email,password:m.password});if(_)throw console.error("Auto-login error:",_),new Error("Account created but login failed. Please try logging in manually.");return console.log(" Auto-login successful"),v}catch(y){throw o(!1),y}},onSuccess:m=>{var x;let y="Welcome to Jits Journal. Your account has been created successfully.";m.user&&!m.user.confirmed_at&&(y="Please check your email to confirm your account before logging in."),i({title:"Account created!",description:y,duration:(x=m.user)!=null&&x.confirmed_at?3e3:6e3})},onError:m=>{console.error("Registration mutation error:",m),i({title:"Registration failed",description:m.message||"Please try again.",variant:"destructive",duration:6e3})}}),f=m=>{console.log("Login attempt with:",{email:m.email,hasPassword:!!m.password}),u.mutate(m)},h=m=>{d.mutate(m)};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-red-600 flex items-center justify-center p-4",children:a.jsx("div",{className:"w-full max-w-md",children:a.jsxs(Nt,{className:"backdrop-blur-sm bg-white/10 border-white/20 shadow-xl",children:[a.jsxs(Pr,{className:"text-center",children:[a.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-br from-blue-500 to-red-500 rounded-full flex items-center justify-center mb-4",children:a.jsx("span",{className:"text-white font-bold text-xl",children:""})}),a.jsx(Tr,{className:"text-2xl font-bold text-white",children:e?"Welcome Back":"Join Jits Journal"}),a.jsx(so,{className:"text-white/80",children:e?"Sign in to continue your BJJ journey":"Start tracking your BJJ progress today"})]}),a.jsxs(tr,{className:"space-y-6",children:[e?a.jsxs("form",{onSubmit:l.handleSubmit(f),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(er,{htmlFor:"email",className:"text-white",children:"Email"}),a.jsx(Xt,{id:"email",type:"email",placeholder:"Enter your email",className:"bg-white/10 border-white/20 text-white placeholder:text-white/50",...l.register("email")}),l.formState.errors.email&&a.jsx("p",{className:"text-red-300 text-sm",children:l.formState.errors.email.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(er,{htmlFor:"password",className:"text-white",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(Xt,{id:"password",type:n?"text":"password",placeholder:"Enter your password",className:"bg-white/10 border-white/20 text-white placeholder:text-white/50 pr-10",...l.register("password")}),a.jsx("button",{type:"button",onClick:()=>s(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/60 hover:text-white",children:n?a.jsx(Rd,{size:16}):a.jsx(uc,{size:16})})]}),l.formState.errors.password&&a.jsx("p",{className:"text-red-300 text-sm",children:l.formState.errors.password.message})]}),a.jsx(We,{type:"submit",className:"w-full bg-gradient-to-r from-blue-500 to-red-500 hover:from-blue-600 hover:to-red-600 text-white font-medium",disabled:u.isPending,"data-testid":"button-login",children:u.isPending?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Signing in..."]}):a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(zL,{size:16}),"Sign In"]})}),a.jsx("div",{className:"text-center",children:a.jsx(nr,{href:"/forgot-password",children:a.jsx("button",{className:"text-white/80 hover:text-white text-sm underline",children:"Forgot your password?"})})})]}):a.jsxs("form",{onSubmit:c.handleSubmit(h),className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(er,{htmlFor:"firstName",className:"text-white",children:"First Name"}),a.jsx(Xt,{id:"firstName",type:"text",placeholder:"First name",className:"bg-white/10 border-white/20 text-white placeholder:text-white/50",...c.register("firstName")}),c.formState.errors.firstName&&a.jsx("p",{className:"text-red-300 text-sm",children:c.formState.errors.firstName.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(er,{htmlFor:"lastName",className:"text-white",children:"Last Name"}),a.jsx(Xt,{id:"lastName",type:"text",placeholder:"Last name",className:"bg-white/10 border-white/20 text-white placeholder:text-white/50",...c.register("lastName")}),c.formState.errors.lastName&&a.jsx("p",{className:"text-red-300 text-sm",children:c.formState.errors.lastName.message})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(er,{htmlFor:"email",className:"text-white",children:"Email"}),a.jsx(Xt,{id:"email",type:"email",placeholder:"Enter your email",className:"bg-white/10 border-white/20 text-white placeholder:text-white/50",...c.register("email")}),c.formState.errors.email&&a.jsx("p",{className:"text-red-300 text-sm",children:c.formState.errors.email.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(er,{htmlFor:"password",className:"text-white",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(Xt,{id:"password",type:n?"text":"password",placeholder:"Create a password",className:"bg-white/10 border-white/20 text-white placeholder:text-white/50 pr-10",...c.register("password")}),a.jsx("button",{type:"button",onClick:()=>s(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/60 hover:text-white",children:n?a.jsx(Rd,{size:16}):a.jsx(uc,{size:16})})]}),c.formState.errors.password&&a.jsx("p",{className:"text-red-300 text-sm",children:c.formState.errors.password.message})]}),a.jsx(We,{type:"submit",className:"w-full bg-gradient-to-r from-blue-500 to-red-500 hover:from-blue-600 hover:to-red-600 text-white font-medium",disabled:d.isPending,"data-testid":"button-register",children:d.isPending?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Creating account..."]}):a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ZL,{size:16}),"Create Account"]})})]}),a.jsx("div",{className:"text-center",children:a.jsx("button",{onClick:()=>r(!e),className:"text-white/80 hover:text-white text-sm underline",children:e?"Don't have an account? Sign up":"Already have an account? Sign in"})})]})]})})})}function zW(){const{user:t,supabaseUser:e}=lr(),{toast:r}=It(),[n,s]=g.useState(""),[i,o]=g.useState(null),{data:l=[],isLoading:c}=lt({queryKey:["/api/gyms",{supabaseId:e==null?void 0:e.id}],queryFn:async()=>{const h=`/api/gyms${e!=null&&e.id?`?supabaseId=${e.id}`:""}`,m=await fetch(h,{credentials:"include",headers:{Authorization:`Bearer ${localStorage.getItem("token")||""}`}});if(!m.ok)throw new Error("Failed to fetch gyms");return m.json()},enabled:(t==null?void 0:t.role)==="admin"&&!!e}),u=Qe({mutationFn:async h=>await Jr("POST","/api/gyms",{name:h,supabaseId:e==null?void 0:e.id}),onSuccess:h=>{Wr.invalidateQueries({queryKey:["/api/gyms"]}),r({title:"Gym created!",description:`${h.name} has been created with code: ${h.code}`}),s(""),f(h.code)},onError:h=>{r({title:"Error",description:h.message||"Failed to create gym",variant:"destructive"})}}),d=()=>{if(!n.trim()){r({title:"Error",description:"Please enter a gym name",variant:"destructive"});return}u.mutate(n)},f=h=>{navigator.clipboard.writeText(h),o(h),r({title:"Copied!",description:"Gym code copied to clipboard"}),setTimeout(()=>o(null),2e3)};return(t==null?void 0:t.role)!=="admin"?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Access Denied"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Admin access required"})]})}):a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 pb-20",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[a.jsx(Od,{className:"w-8 h-8 text-blue-600"}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Gym Management"})]}),a.jsxs(Nt,{className:"p-6 mb-8",children:[a.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[a.jsx(Od,{className:"w-5 h-5"}),"Create New Gym"]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(Xt,{type:"text",placeholder:"Enter gym name...",value:n,onChange:h=>s(h.target.value),onKeyPress:h=>h.key==="Enter"&&d(),className:"flex-1","data-testid":"input-gym-name"}),a.jsx(We,{onClick:d,disabled:u.isPending||!n.trim(),"data-testid":"button-create-gym",children:u.isPending?"Creating...":"Create Gym"})]}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"A unique code will be auto-generated for the gym"})]}),a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[a.jsx(ns,{className:"w-5 h-5"}),"All Gyms (",l.length,")"]}),c?a.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading gyms..."}):l.length===0?a.jsx("div",{className:"text-center py-8 text-gray-500",children:"No gyms created yet. Create your first gym above!"}):a.jsx("div",{className:"space-y-4",children:l.map(h=>a.jsx(Nt,{className:"p-4","data-testid":`card-gym-${h.id}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg",children:h.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Created ",new Date(h.createdAt).toLocaleDateString()]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Gym Code"}),a.jsx("p",{className:"text-lg font-mono font-bold text-blue-600",children:h.code})]}),a.jsx(We,{variant:"outline",size:"sm",onClick:()=>f(h.code),"data-testid":`button-copy-${h.code}`,children:i===h.code?a.jsx(cn,{className:"w-4 h-4 text-green-600"}):a.jsx(LL,{className:"w-4 h-4"})})]})]})},h.id))})]})]})})}function WW(){return a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx(nr,{href:"/settings",children:a.jsxs("button",{className:"flex items-center gap-2 text-blue-600 hover:text-blue-700 mb-6",children:[a.jsx(Of,{className:"w-4 h-4"}),"Back to Settings"]})}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Privacy Policy"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8",children:"Last Updated: October 16, 2025"}),a.jsxs("div",{className:"prose dark:prose-invert max-w-none space-y-6",children:[a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"1. Information We Collect"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Personal Information"}),a.jsxs("ul",{className:"list-disc pl-6 text-gray-700 dark:text-gray-300 space-y-2",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Account Information:"})," Name, email address, password (encrypted)"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Profile Data:"})," Belt rank, gym affiliation, training preferences"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"User IDs:"})," Internal user ID and authentication tokens"]})]}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2 mt-4",children:"Training Data"}),a.jsxs("ul",{className:"list-disc pl-6 text-gray-700 dark:text-gray-300 space-y-2",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Class Records:"})," Training sessions, techniques learned, rolling partners"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Notes:"})," User-created technique notes, video links, training insights"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Progress Tracking:"})," Belt promotions, stripes, weekly goals"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Competition Data:"})," Game plans and strategy notes"]})]}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2 mt-4",children:"Subscription Information"}),a.jsxs("ul",{className:"list-disc pl-6 text-gray-700 dark:text-gray-300 space-y-2",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Subscription Status:"})," Current plan, subscription dates"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Payment Processing:"})," Handled securely by Stripe, Google Play, or Apple (we do not store payment card details)"]})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"2. How We Use Your Information"}),a.jsxs("ul",{className:"list-disc pl-6 text-gray-700 dark:text-gray-300 space-y-2",children:[a.jsx("li",{children:"Provide and maintain BJJ Jits Journal services"}),a.jsx("li",{children:"Track your training progress and achievements"}),a.jsx("li",{children:"Enable community features (shared notes, gym communities)"}),a.jsx("li",{children:"Process subscription payments and manage account access"}),a.jsx("li",{children:"Send service-related emails (welcome, password reset)"}),a.jsx("li",{children:"Improve app functionality and user experience"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"3. Data Sharing"}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:"We DO NOT sell your personal data to third parties. We only share data with:"}),a.jsxs("ul",{className:"list-disc pl-6 text-gray-700 dark:text-gray-300 space-y-2",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Payment Processors:"})," Stripe, Google Play, Apple (for subscription processing)"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Cloud Services:"})," Supabase (database hosting), Render (application hosting)"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Community Features:"})," Notes you choose to share are visible to your gym community or public community"]})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"4. Data Security"}),a.jsxs("ul",{className:"list-disc pl-6 text-gray-700 dark:text-gray-300 space-y-2",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Encryption in Transit:"})," All data transmitted using HTTPS/TLS encryption"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Encryption at Rest:"})," Database stored on secure Supabase infrastructure"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Password Security:"})," Passwords are hashed using bcrypt"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Access Controls:"})," Role-based permissions for admin features"]})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"5. Your Rights"}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:"You have the right to:"}),a.jsxs("ul",{className:"list-disc pl-6 text-gray-700 dark:text-gray-300 space-y-2",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Access Your Data:"})," View all personal information we have about you"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Update Your Data:"})," Modify your profile, training records, and preferences"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Delete Your Data:"})," Request complete account and data deletion (see Settings)"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Export Your Data:"})," Download your training records and notes"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Control Sharing:"})," Choose which notes to share publicly or with your gym"]})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"6. Data Retention"}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:"We retain your data for as long as your account is active. When you delete your account:"}),a.jsxs("ul",{className:"list-disc pl-6 text-gray-700 dark:text-gray-300 space-y-2",children:[a.jsx("li",{children:"All personal information is permanently deleted within 30 days"}),a.jsx("li",{children:"Training records, notes, and progress data are permanently removed"}),a.jsx("li",{children:"Shared community notes are anonymized or deleted based on your preference"}),a.jsx("li",{children:"Subscription records are retained for legal/tax compliance (7 years)"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"7. Children's Privacy"}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"BJJ Jits Journal is not intended for children under 13. We do not knowingly collect data from children under 13. If you believe a child has provided us with personal information, please contact us immediately."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"8. International Users"}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Your data may be processed and stored in Australia, United States, or other countries where our service providers operate. By using BJJ Jits Journal, you consent to this transfer of data."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"9. Changes to Privacy Policy"}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"We may update this Privacy Policy from time to time. We will notify you of significant changes via email or in-app notification. Continued use of the service after changes constitutes acceptance of the updated policy."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"10. Contact Us"}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"For privacy-related questions, data deletion requests, or concerns, contact us at:"}),a.jsxs("p",{className:"text-gray-700 dark:text-gray-300 mt-2",children:[a.jsx("strong",{children:"Email:"})," bjjjitsjournal@gmail.com"]})]}),a.jsxs("section",{className:"mt-8 p-6 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[a.jsx("h3",{className:"text-xl font-semibold text-blue-900 dark:text-blue-200 mb-2",children:"Data Deletion"}),a.jsx("p",{className:"text-blue-800 dark:text-blue-300",children:"To delete your account and all associated data, go to Settings  Delete Account. This action is permanent and cannot be undone."})]})]})]})]})})}function qW(){return a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx(nr,{href:"/settings",children:a.jsxs("button",{className:"flex items-center gap-2 text-blue-600 hover:text-blue-700 mb-6",children:[a.jsx(Of,{className:"w-4 h-4"}),"Back to Settings"]})}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Terms of Service"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8",children:"Last Updated: October 16, 2025"}),a.jsxs("div",{className:"prose dark:prose-invert max-w-none space-y-6",children:[a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"1. Acceptance of Terms"}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:'By accessing or using BJJ Jits Journal ("the Service"), you agree to be bound by these Terms of Service. If you do not agree to these terms, please do not use the Service.'})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"2. Service Description"}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:"BJJ Jits Journal is a training companion application for Brazilian Jiu-Jitsu practitioners that provides:"}),a.jsxs("ul",{className:"list-disc pl-6 text-gray-700 dark:text-gray-300 space-y-2",children:[a.jsx("li",{children:"Class and technique tracking"}),a.jsx("li",{children:"Training notes and video integration"}),a.jsx("li",{children:"Belt progression monitoring"}),a.jsx("li",{children:"Competition game plan creation"}),a.jsx("li",{children:"Community features for sharing insights"}),a.jsx("li",{children:"Gym community management"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"3. Account Registration"}),a.jsxs("ul",{className:"list-disc pl-6 text-gray-700 dark:text-gray-300 space-y-2",children:[a.jsx("li",{children:"You must provide accurate and complete information during registration"}),a.jsx("li",{children:"You are responsible for maintaining the confidentiality of your account credentials"}),a.jsx("li",{children:"You must be at least 13 years old to use the Service"}),a.jsx("li",{children:"One person may not maintain multiple free accounts"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"4. Subscription Plans"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Free Tier"}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Basic features including class tracking, notes, and belt progression."}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2 mt-4",children:"BJJ Enthusiast ($14.99 AUD/month)"}),a.jsxs("ul",{className:"list-disc pl-6 text-gray-700 dark:text-gray-300 space-y-2",children:[a.jsx("li",{children:"Advanced technique tracking and video integration"}),a.jsx("li",{children:"Unlimited notes and community sharing"}),a.jsx("li",{children:"Competition game plan tools"})]}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2 mt-4",children:"Gym Pro ($29.99 AUD/month)"}),a.jsxs("ul",{className:"list-disc pl-6 text-gray-700 dark:text-gray-300 space-y-2",children:[a.jsx("li",{children:"All Enthusiast features"}),a.jsx("li",{children:"Gym community management (requires admin approval)"}),a.jsx("li",{children:"Private gym note sharing"}),a.jsx("li",{children:"Priority support"})]}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2 mt-4",children:"Billing"}),a.jsxs("ul",{className:"list-disc pl-6 text-gray-700 dark:text-gray-300 space-y-2",children:[a.jsx("li",{children:"Subscriptions are billed monthly in advance"}),a.jsx("li",{children:"Prices are in Australian Dollars (AUD)"}),a.jsx("li",{children:"You can cancel anytime from your account settings"}),a.jsx("li",{children:"No refunds for partial months"}),a.jsx("li",{children:"Access continues until the end of the current billing period after cancellation"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"5. User Conduct"}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:"You agree NOT to:"}),a.jsxs("ul",{className:"list-disc pl-6 text-gray-700 dark:text-gray-300 space-y-2",children:[a.jsx("li",{children:"Post offensive, abusive, or inappropriate content"}),a.jsx("li",{children:"Harass or bully other users"}),a.jsx("li",{children:"Share copyrighted content without permission"}),a.jsx("li",{children:"Attempt to hack, disrupt, or abuse the Service"}),a.jsx("li",{children:"Create fake accounts or impersonate others"}),a.jsx("li",{children:"Use the Service for any illegal purposes"}),a.jsx("li",{children:"Share spam or promotional content"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"6. Content Ownership"}),a.jsxs("ul",{className:"list-disc pl-6 text-gray-700 dark:text-gray-300 space-y-2",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Your Content:"})," You retain ownership of all training data, notes, and content you create"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"License to Us:"})," By sharing content publicly or with your gym, you grant us a license to display and distribute that content within the Service"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Our Content:"})," The Service interface, design, and features are our intellectual property"]})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"7. Community Guidelines"}),a.jsxs("ul",{className:"list-disc pl-6 text-gray-700 dark:text-gray-300 space-y-2",children:[a.jsx("li",{children:"Be respectful and supportive of other practitioners"}),a.jsx("li",{children:"Share genuine training insights and techniques"}),a.jsx("li",{children:"Give credit when sharing others' techniques or ideas"}),a.jsx("li",{children:"Report inappropriate content to admins"}),a.jsx("li",{children:"Respect gym communities and their privacy"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"8. Moderation"}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"We reserve the right to remove content or suspend accounts that violate these terms. Admins may moderate community content. Decisions are final."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"9. Medical Disclaimer"}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"BJJ Jits Journal is NOT medical advice. Training in Brazilian Jiu-Jitsu carries inherent risks. Consult with qualified instructors and medical professionals before beginning or continuing training. We are not responsible for injuries sustained during training."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"10. Service Availability"}),a.jsxs("ul",{className:"list-disc pl-6 text-gray-700 dark:text-gray-300 space-y-2",children:[a.jsx("li",{children:"We strive for 99.9% uptime but cannot guarantee uninterrupted service"}),a.jsx("li",{children:"Scheduled maintenance will be announced in advance when possible"}),a.jsx("li",{children:"We are not liable for data loss due to service interruptions (though we maintain regular backups)"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"11. Limitation of Liability"}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:'BJJ Jits Journal is provided "as is" without warranties. We are not liable for any damages arising from use of the Service, including but not limited to data loss, training injuries, or financial losses. Maximum liability is limited to the amount you paid for the Service in the past 12 months.'})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"12. Termination"}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:"We may terminate or suspend your account for violations of these terms. You may delete your account anytime from Settings."}),a.jsxs("ul",{className:"list-disc pl-6 text-gray-700 dark:text-gray-300 space-y-2",children:[a.jsx("li",{children:"Upon termination, your access to paid features ends immediately"}),a.jsx("li",{children:"No refunds for remaining subscription time"}),a.jsx("li",{children:"Your data will be deleted according to our Privacy Policy"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"13. Changes to Terms"}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"We may update these Terms of Service. Significant changes will be communicated via email or in-app notification. Continued use after changes constitutes acceptance."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"14. Governing Law"}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"These terms are governed by the laws of Australia. Disputes shall be resolved in Australian courts."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"15. Contact"}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"For questions about these Terms of Service, contact us at:"}),a.jsxs("p",{className:"text-gray-700 dark:text-gray-300 mt-2",children:[a.jsx("strong",{children:"Email:"})," bjjjitsjournal@gmail.com"]})]}),a.jsxs("section",{className:"mt-8 p-6 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[a.jsx("h3",{className:"text-xl font-semibold text-red-900 dark:text-red-200 mb-2",children:"Important Notice"}),a.jsx("p",{className:"text-red-800 dark:text-red-300",children:"By using BJJ Jits Journal, you acknowledge that Brazilian Jiu-Jitsu training involves physical contact and risk of injury. Always train under qualified instruction and follow safety protocols."})]})]})]})]})})}function HW(){const[t]=Ka(),[e,r]=g.useState(0),n=[{path:"/",label:"Home",icon:""},{path:"/classes",label:"Classes",icon:""},{path:"/notes",label:"Notes",icon:""},{path:"/videos",label:"Videos",icon:""},{path:"/social",label:"Social",icon:""}];return g.useEffect(()=>{const s=()=>{if(window.visualViewport){const i=window.visualViewport,o=window.innerHeight-(i.height+i.offsetTop),l=Math.max(0,Math.min(o,80));r(l>=16?l:0)}};return s(),window.visualViewport&&(window.visualViewport.addEventListener("resize",s),window.visualViewport.addEventListener("scroll",s)),window.addEventListener("resize",s),()=>{window.visualViewport&&(window.visualViewport.removeEventListener("resize",s),window.visualViewport.removeEventListener("scroll",s)),window.removeEventListener("resize",s)}},[]),a.jsx("nav",{className:"fixed bottom-0 left-1/2 transform -translate-x-1/2 max-w-md w-full bg-gradient-to-r from-blue-600 to-purple-600 dark:from-gray-800 dark:to-gray-700 border-t border-border shadow-lg z-50",style:{paddingBottom:`max(${e}px, env(safe-area-inset-bottom), 0.25rem)`},children:a.jsx("div",{className:"flex justify-around py-1",children:n.map((s,i)=>a.jsxs(nr,{to:s.path,className:`flex flex-col items-center p-3 transition-all duration-200 ${t===s.path?"text-yellow-300 font-bold":"text-white/80 hover:text-white"}`,children:[a.jsx("span",{className:"text-lg mb-1",children:s.icon}),a.jsx("span",{className:"text-xs",children:s.label})]},s.path))})})}function KW(){const{toasts:t,dismiss:e}=It();return a.jsx("div",{className:"fixed bottom-24 right-4 z-50 flex flex-col gap-2",children:t.filter(r=>r.open!==!1).map(r=>a.jsxs("div",{className:`p-4 rounded-lg shadow-lg max-w-sm relative cursor-pointer ${r.variant==="destructive"?"bg-red-600 text-white":"bg-green-600 text-white"}`,onClick:()=>e(r.id),children:[a.jsx("button",{onClick:n=>{n.stopPropagation(),e(r.id)},className:"absolute top-2 right-2 text-white hover:text-gray-200 text-xl font-bold w-6 h-6 flex items-center justify-center rounded-full hover:bg-white/20 transition-colors","aria-label":"Close notification",children:""}),r.title&&a.jsx("div",{className:"font-semibold mb-1 pr-6",children:r.title}),r.description&&a.jsx("div",{className:"text-sm opacity-90 pr-6",children:r.description})]},r.id))})}function GW(){return null}function QW(){return jL(),a.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[a.jsx(GW,{}),a.jsx("main",{className:"pb-20",children:a.jsxs(eI,{children:[a.jsx(jt,{path:"/",component:rF}),a.jsx(jt,{path:"/classes",component:iF}),a.jsx(jt,{path:"/notes",component:I5}),a.jsx(jt,{path:"/videos",component:M5}),a.jsx(jt,{path:"/settings",component:pU}),a.jsx(jt,{path:"/belts",component:TW}),a.jsx(jt,{path:"/social",component:AW}),a.jsx(jt,{path:"/my-videos",component:OW}),a.jsx(jt,{path:"/drawing",component:RW}),a.jsx(jt,{path:"/contact",component:IW}),a.jsx(jt,{path:"/admin",component:zW}),a.jsx(jt,{path:"/forgot-password",component:MW}),a.jsx(jt,{path:"/reset-password",component:LW}),a.jsx(jt,{path:"/subscribe",component:FW}),a.jsx(jt,{path:"/subscribe/success",component:$W}),a.jsx(jt,{path:"/privacy",component:WW}),a.jsx(jt,{path:"/terms",component:qW}),a.jsx(jt,{children:a.jsxs("div",{className:"p-6 text-center",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white mb-2",children:"Page Not Found"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"The page you're looking for doesn't exist."})]})})]})}),a.jsx(HW,{}),a.jsx(KW,{})]})}function YW(){const{isAuthenticated:t,isLoading:e,login:r}=lr();return e?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-red-600 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mb-4 mx-auto",children:a.jsx("div",{className:"w-8 h-8 border-4 border-white border-t-transparent rounded-full animate-spin"})}),a.jsx("p",{className:"text-white text-lg",children:"Loading..."})]})}):t?a.jsx(QW,{}):a.jsx(VW,{onAuthSuccess:r})}function JW(){return a.jsx(wI,{client:Wr,children:a.jsx(_L,{children:a.jsx(bL,{children:a.jsx(YW,{})})})})}const ww="sw_cleanup_done_v2";sessionStorage.getItem(ww)||(console.log("Cleaning up service workers and caches..."),"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(t=>{t.forEach(e=>e.unregister())}),"caches"in window&&caches.keys().then(t=>{t.forEach(e=>caches.delete(e))}),sessionStorage.setItem(ww,"true"),window.location.reload());"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission().then(t=>{console.log("Notification permission:",t)});console.log("BJJ Journal - Full App Restored!");console.log("Open in new window if you see caching issues");Ck(document.getElementById("root")).render(a.jsx(JW,{}));
